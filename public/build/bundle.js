/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";var t={};function e(){}function n(t){return t()}function r(){return Object.create(null)}function i(t){t.forEach(n)}function o(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function u(t){return 0===Object.keys(t).length}function a(t,e){t.appendChild(e)}function c(t,e,n){t.insertBefore(e,n||null)}function h(t){t.parentNode.removeChild(t)}function f(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function l(t){return document.createElement(t)}function p(t){return document.createTextNode(t)}function d(){return p(" ")}function v(){return p("")}function y(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function m(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function g(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function b(t,e,n){t.classList[n?"add":"remove"](e)}let _;function w(t){_=t}function E(t){(function(){if(!_)throw new Error("Function called outside component initialization");return _})().$$.on_mount.push(t)}function T(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t(e)))}t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),new Set,new Set;const I=[],x=[],A=[],S=[],N=Promise.resolve();let O=!1;function k(t){A.push(t)}let D=!1;const C=new Set;function P(){if(!D){D=!0;do{for(let t=0;t<I.length;t+=1){const e=I[t];w(e),R(e.$$)}for(w(null),I.length=0;x.length;)x.pop()();for(let t=0;t<A.length;t+=1){const e=A[t];C.has(e)||(C.add(e),e())}A.length=0}while(I.length);for(;S.length;)S.pop()();O=!1,D=!1,C.clear()}}function R(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(k)}}const L=new Set;let j,M;function V(){j={r:0,c:[],p:j}}function F(){j.r||i(j.c),j=j.p}function U(t,e){t&&t.i&&(L.delete(t),t.i(e))}function q(t,e,n,r){if(t&&t.o){if(L.has(t))return;L.add(t),j.c.push((()=>{L.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}function z(t){t&&t.c()}function B(t,e,r,s){const{fragment:u,on_mount:a,on_destroy:c,after_update:h}=t.$$;u&&u.m(e,r),s||k((()=>{const e=a.map(n).filter(o);c?c.push(...e):i(e),t.$$.on_mount=[]})),h.forEach(k)}function G(t,e){const n=t.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function $(t,n,o,s,u,a,c=[-1]){const f=_;w(t);const l=t.$$={fragment:null,ctx:null,props:a,update:e,not_equal:u,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:[]),callbacks:r(),dirty:c,skip_bound:!1};let p=!1;if(l.ctx=o?o(t,n.props||{},((e,n,...r)=>{const i=r.length?r[0]:n;return l.ctx&&u(l.ctx[e],l.ctx[e]=i)&&(!l.skip_bound&&l.bound[e]&&l.bound[e](i),p&&function(t,e){-1===t.$$.dirty[0]&&(I.push(t),O||(O=!0,N.then(P)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(t,e)),n})):[],l.update(),p=!0,i(l.before_update),l.fragment=!!s&&s(l.ctx),n.target){if(n.hydrate){const t=(d=n.target,Array.from(d.childNodes));l.fragment&&l.fragment.l(t),t.forEach(h)}else l.fragment&&l.fragment.c();n.intro&&U(t.$$.fragment),B(t,n.target,n.anchor,n.customElement),P()}var d;w(f)}"undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global,new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]),"function"==typeof HTMLElement&&(M=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:t}=this.$$;this.$$.on_disconnect=t.map(n).filter(o);for(const t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(t,e,n){this[t]=n}disconnectedCallback(){i(this.$$.on_disconnect)}$destroy(){G(this,1),this.$destroy=e}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){this.$$set&&!u(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}});class H{$destroy(){G(this,1),this.$destroy=e}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){this.$$set&&!u(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Q(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var X,K,W,J,Z,tt,et,nt,rt,it={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},ot={duration:.5,overwrite:!1,delay:0},st=1e8,ut=1e-8,at=2*Math.PI,ct=at/4,ht=0,ft=Math.sqrt,lt=Math.cos,pt=Math.sin,dt=function(t){return"string"==typeof t},vt=function(t){return"function"==typeof t},yt=function(t){return"number"==typeof t},mt=function(t){return void 0===t},gt=function(t){return"object"==typeof t},bt=function(t){return!1!==t},_t=function(){return"undefined"!=typeof window},wt=function(t){return vt(t)||dt(t)},Et="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},Tt=Array.isArray,It=/(?:-?\.?\d|\.)+/gi,xt=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,At=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,St=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,Nt=/[+-]=-?[.\d]+/,Ot=/[#\-+.]*\b[a-z\d-=+%.]+/gi,kt=/[\d.+\-=]+(?:e[-+]\d*)*/i,Dt={},Ct={},Pt=function(t){return(Ct=oe(t,Dt))&&Gn},Rt=function(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")},Lt=function(t,e){return!e&&console.warn(t)},jt=function(t,e){return t&&(Dt[t]=e)&&Ct&&(Ct[t]=e)||Dt},Mt=function(){return 0},Vt={},Ft=[],Ut={},qt={},zt={},Bt=30,Gt=[],$t="",Ht=function(t){var e,n,r=t[0];if(gt(r)||vt(r)||(t=[t]),!(e=(r._gsap||{}).harness)){for(n=Gt.length;n--&&!Gt[n].targetTest(r););e=Gt[n]}for(n=t.length;n--;)t[n]&&(t[n]._gsap||(t[n]._gsap=new vn(t[n],e)))||t.splice(n,1);return t},Yt=function(t){return t._gsap||Ht(Pe(t))[0]._gsap},Qt=function(t,e,n){return(n=t[e])&&vt(n)?t[e]():mt(n)&&t.getAttribute&&t.getAttribute(e)||n},Xt=function(t,e){return(t=t.split(",")).forEach(e)||t},Kt=function(t){return Math.round(1e5*t)/1e5||0},Wt=function(t,e){for(var n=e.length,r=0;t.indexOf(e[r])<0&&++r<n;);return r<n},Jt=function(t,e,n){var r,i=yt(t[1]),o=(i?2:1)+(e<2?0:1),s=t[o];if(i&&(s.duration=t[1]),s.parent=n,e){for(r=s;n&&!("immediateRender"in r);)r=n.vars.defaults||{},n=bt(n.vars.inherit)&&n.parent;s.immediateRender=bt(r.immediateRender),e<2?s.runBackwards=1:s.startAt=t[o-1]}return s},Zt=function(){var t,e,n=Ft.length,r=Ft.slice(0);for(Ut={},Ft.length=0,t=0;t<n;t++)(e=r[t])&&e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0)._lazy=0)},te=function(t,e,n,r){Ft.length&&Zt(),t.render(e,n,r),Ft.length&&Zt()},ee=function(t){var e=parseFloat(t);return(e||0===e)&&(t+"").match(Ot).length<2?e:dt(t)?t.trim():t},ne=function(t){return t},re=function(t,e){for(var n in e)n in t||(t[n]=e[n]);return t},ie=function(t,e){for(var n in e)n in t||"duration"===n||"ease"===n||(t[n]=e[n])},oe=function(t,e){for(var n in e)t[n]=e[n];return t},se=function t(e,n){for(var r in n)"__proto__"!==r&&"constructor"!==r&&"prototype"!==r&&(e[r]=gt(n[r])?t(e[r]||(e[r]={}),n[r]):n[r]);return e},ue=function(t,e){var n,r={};for(n in t)n in e||(r[n]=t[n]);return r},ae=function(t){var e=t.parent||K,n=t.keyframes?ie:re;if(bt(t.inherit))for(;e;)n(t,e.vars.defaults),e=e.parent||e._dp;return t},ce=function(t,e,n,r){void 0===n&&(n="_first"),void 0===r&&(r="_last");var i=e._prev,o=e._next;i?i._next=o:t[n]===e&&(t[n]=o),o?o._prev=i:t[r]===e&&(t[r]=i),e._next=e._prev=e.parent=null},he=function(t,e){t.parent&&(!e||t.parent.autoRemoveChildren)&&t.parent.remove(t),t._act=0},fe=function(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var n=t;n;)n._dirty=1,n=n.parent;return t},le=function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t},pe=function t(e){return!e||e._ts&&t(e.parent)},de=function(t){return t._repeat?ve(t._tTime,t=t.duration()+t._rDelay)*t:0},ve=function(t,e){var n=Math.floor(t/=e);return t&&n===t?n-1:n},ye=function(t,e){return(t-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},me=function(t){return t._end=Kt(t._start+(t._tDur/Math.abs(t._ts||t._rts||ut)||0))},ge=function(t,e){var n=t._dp;return n&&n.smoothChildTiming&&t._ts&&(t._start=Kt(n._time-(t._ts>0?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),me(t),n._dirty||fe(n,t)),t},be=function(t,e){var n;if((e._time||e._initted&&!e._dur)&&(n=ye(t.rawTime(),e),(!e._dur||Oe(0,e.totalDuration(),n)-e._tTime>ut)&&e.render(n,!0)),fe(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(n=t;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;t._zTime=-1e-8}},_e=function(t,e,n,r){return e.parent&&he(e),e._start=Kt(n+e._delay),e._end=Kt(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),function(t,e,n,r,i){void 0===n&&(n="_first"),void 0===r&&(r="_last");var o,s=t[r];if(i)for(o=e[i];s&&s[i]>o;)s=s._prev;s?(e._next=s._next,s._next=e):(e._next=t[n],t[n]=e),e._next?e._next._prev=e:t[r]=e,e._prev=s,e.parent=e._dp=t}(t,e,"_first","_last",t._sort?"_start":0),t._recent=e,r||be(t,e),t},we=function(t,e){return(Dt.ScrollTrigger||Rt("scrollTrigger",e))&&Dt.ScrollTrigger.create(e,t)},Ee=function(t,e,n,r){return En(t,e),t._initted?!n&&t._pt&&(t._dur&&!1!==t.vars.lazy||!t._dur&&t.vars.lazy)&&et!==en.frame?(Ft.push(t),t._lazy=[e,r],1):void 0:1},Te=function t(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||t(n))},Ie=function(t,e,n,r){var i=t._repeat,o=Kt(e)||0,s=t._tTime/t._tDur;return s&&!r&&(t._time*=o/t._dur),t._dur=o,t._tDur=i?i<0?1e10:Kt(o*(i+1)+t._rDelay*i):o,s&&!r?ge(t,t._tTime=t._tDur*s):t.parent&&me(t),n||fe(t.parent,t),t},xe=function(t){return t instanceof mn?fe(t):Ie(t,t._dur)},Ae={_start:0,endTime:Mt},Se=function t(e,n){var r,i,o=e.labels,s=e._recent||Ae,u=e.duration()>=st?s.endTime(!1):e._dur;return dt(n)&&(isNaN(n)||n in o)?"<"===(r=n.charAt(0))||">"===r?("<"===r?s._start:s.endTime(s._repeat>=0))+(parseFloat(n.substr(1))||0):(r=n.indexOf("="))<0?(n in o||(o[n]=u),o[n]):(i=+(n.charAt(r-1)+n.substr(r+1)),r>1?t(e,n.substr(0,r-1))+i:u+i):null==n?u:+n},Ne=function(t,e){return t||0===t?e(t):e},Oe=function(t,e,n){return n<t?t:n>e?e:n},ke=function(t){if("string"!=typeof t)return"";var e=kt.exec(t);return e?t.substr(e.index+e[0].length):""},De=[].slice,Ce=function(t,e){return t&&gt(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&gt(t[0]))&&!t.nodeType&&t!==W},Pe=function(t,e){return!dt(t)||e||!J&&nn()?Tt(t)?function(t,e,n){return void 0===n&&(n=[]),t.forEach((function(t){var r;return dt(t)&&!e||Ce(t,1)?(r=n).push.apply(r,Pe(t)):n.push(t)}))||n}(t,e):Ce(t)?De.call(t,0):t?[t]:[]:De.call(Z.querySelectorAll(t),0)},Re=function(t){return t.sort((function(){return.5-Math.random()}))},Le=function(t){if(vt(t))return t;var e=gt(t)?t:{each:t},n=hn(e.ease),r=e.from||0,i=parseFloat(e.base)||0,o={},s=r>0&&r<1,u=isNaN(r)||s,a=e.axis,c=r,h=r;return dt(r)?c=h={center:.5,edges:.5,end:1}[r]||0:!s&&u&&(c=r[0],h=r[1]),function(t,s,f){var l,p,d,v,y,m,g,b,_,w=(f||e).length,E=o[w];if(!E){if(!(_="auto"===e.grid?0:(e.grid||[1,st])[1])){for(g=-st;g<(g=f[_++].getBoundingClientRect().left)&&_<w;);_--}for(E=o[w]=[],l=u?Math.min(_,w)*c-.5:r%_,p=u?w*h/_-.5:r/_|0,g=0,b=st,m=0;m<w;m++)d=m%_-l,v=p-(m/_|0),E[m]=y=a?Math.abs("y"===a?v:d):ft(d*d+v*v),y>g&&(g=y),y<b&&(b=y);"random"===r&&Re(E),E.max=g-b,E.min=b,E.v=w=(parseFloat(e.amount)||parseFloat(e.each)*(_>w?w-1:a?"y"===a?w/_:_:Math.max(_,w/_))||0)*("edges"===r?-1:1),E.b=w<0?i-w:i,E.u=ke(e.amount||e.each)||0,n=n&&w<0?an(n):n}return w=(E[t]-E.min)/E.max||0,Kt(E.b+(n?n(w):w)*E.v)+E.u}},je=function(t){var e=t<1?Math.pow(10,(t+"").length-2):1;return function(n){var r=Math.round(parseFloat(n)/t)*t*e;return(r-r%1)/e+(yt(n)?0:ke(n))}},Me=function(t,e){var n,r,i=Tt(t);return!i&&gt(t)&&(n=i=t.radius||st,t.values?(t=Pe(t.values),(r=!yt(t[0]))&&(n*=n)):t=je(t.increment)),Ne(e,i?vt(t)?function(e){return r=t(e),Math.abs(r-e)<=n?r:e}:function(e){for(var i,o,s=parseFloat(r?e.x:e),u=parseFloat(r?e.y:0),a=st,c=0,h=t.length;h--;)(i=r?(i=t[h].x-s)*i+(o=t[h].y-u)*o:Math.abs(t[h]-s))<a&&(a=i,c=h);return c=!n||a<=n?t[c]:e,r||c===e||yt(e)?c:c+ke(e)}:je(t))},Ve=function(t,e,n,r){return Ne(Tt(t)?!e:!0===n?!!(n=0):!r,(function(){return Tt(t)?t[~~(Math.random()*t.length)]:(n=n||1e-5)&&(r=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((t-n/2+Math.random()*(e-t+.99*n))/n)*n*r)/r}))},Fe=function(t,e,n){return Ne(n,(function(n){return t[~~e(n)]}))},Ue=function(t){for(var e,n,r,i,o=0,s="";~(e=t.indexOf("random(",o));)r=t.indexOf(")",e),i="["===t.charAt(e+7),n=t.substr(e+7,r-e-7).match(i?Ot:It),s+=t.substr(o,e-o)+Ve(i?n:+n[0],i?0:+n[1],+n[2]||1e-5),o=r+1;return s+t.substr(o,t.length-o)},qe=function(t,e,n,r,i){var o=e-t,s=r-n;return Ne(i,(function(e){return n+((e-t)/o*s||0)}))},ze=function(t,e,n){var r,i,o,s=t.labels,u=st;for(r in s)(i=s[r]-e)<0==!!n&&i&&u>(i=Math.abs(i))&&(o=r,u=i);return o},Be=function(t,e,n){var r,i,o=t.vars,s=o[e];if(s)return r=o[e+"Params"],i=o.callbackScope||t,n&&Ft.length&&Zt(),r?s.apply(i,r):s.call(i)},Ge=function(t){return he(t),t.progress()<1&&Be(t,"onInterrupt"),t},$e=function(t){var e=(t=!t.name&&t.default||t).name,n=vt(t),r=e&&!n&&t.init?function(){this._props=[]}:t,i={init:Mt,render:Ln,add:_n,kill:Mn,modifier:jn,rawVars:0},o={targetTest:0,get:0,getSetter:Dn,aliases:{},register:0};if(nn(),t!==r){if(qt[e])return;re(r,re(ue(t,i),o)),oe(r.prototype,oe(i,ue(t,o))),qt[r.prop=e]=r,t.targetTest&&(Gt.push(r),Vt[e]=1),e=("css"===e?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}jt(e,r),t.register&&t.register(Gn,r,Un)},He=255,Ye={aqua:[0,He,He],lime:[0,He,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,He],navy:[0,0,128],white:[He,He,He],olive:[128,128,0],yellow:[He,He,0],orange:[He,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[He,0,0],pink:[He,192,203],cyan:[0,He,He],transparent:[He,He,He,0]},Qe=function(t,e,n){return(6*(t=t<0?t+1:t>1?t-1:t)<1?e+(n-e)*t*6:t<.5?n:3*t<2?e+(n-e)*(2/3-t)*6:e)*He+.5|0},Xe=function(t,e,n){var r,i,o,s,u,a,c,h,f,l,p=t?yt(t)?[t>>16,t>>8&He,t&He]:0:Ye.black;if(!p){if(","===t.substr(-1)&&(t=t.substr(0,t.length-1)),Ye[t])p=Ye[t];else if("#"===t.charAt(0)){if(t.length<6&&(r=t.charAt(1),i=t.charAt(2),o=t.charAt(3),t="#"+r+r+i+i+o+o+(5===t.length?t.charAt(4)+t.charAt(4):"")),9===t.length)return[(p=parseInt(t.substr(1,6),16))>>16,p>>8&He,p&He,parseInt(t.substr(7),16)/255];p=[(t=parseInt(t.substr(1),16))>>16,t>>8&He,t&He]}else if("hsl"===t.substr(0,3))if(p=l=t.match(It),e){if(~t.indexOf("="))return p=t.match(xt),n&&p.length<4&&(p[3]=1),p}else s=+p[0]%360/360,u=+p[1]/100,r=2*(a=+p[2]/100)-(i=a<=.5?a*(u+1):a+u-a*u),p.length>3&&(p[3]*=1),p[0]=Qe(s+1/3,r,i),p[1]=Qe(s,r,i),p[2]=Qe(s-1/3,r,i);else p=t.match(It)||Ye.transparent;p=p.map(Number)}return e&&!l&&(r=p[0]/He,i=p[1]/He,o=p[2]/He,a=((c=Math.max(r,i,o))+(h=Math.min(r,i,o)))/2,c===h?s=u=0:(f=c-h,u=a>.5?f/(2-c-h):f/(c+h),s=c===r?(i-o)/f+(i<o?6:0):c===i?(o-r)/f+2:(r-i)/f+4,s*=60),p[0]=~~(s+.5),p[1]=~~(100*u+.5),p[2]=~~(100*a+.5)),n&&p.length<4&&(p[3]=1),p},Ke=function(t){var e=[],n=[],r=-1;return t.split(Je).forEach((function(t){var i=t.match(At)||[];e.push.apply(e,i),n.push(r+=i.length+1)})),e.c=n,e},We=function(t,e,n){var r,i,o,s,u="",a=(t+u).match(Je),c=e?"hsla(":"rgba(",h=0;if(!a)return t;if(a=a.map((function(t){return(t=Xe(t,e,1))&&c+(e?t[0]+","+t[1]+"%,"+t[2]+"%,"+t[3]:t.join(","))+")"})),n&&(o=Ke(t),(r=n.c).join(u)!==o.c.join(u)))for(s=(i=t.replace(Je,"1").split(At)).length-1;h<s;h++)u+=i[h]+(~r.indexOf(h)?a.shift()||c+"0,0,0,0)":(o.length?o:a.length?a:n).shift());if(!i)for(s=(i=t.split(Je)).length-1;h<s;h++)u+=i[h]+a[h];return u+i[s]},Je=function(){var t,e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(t in Ye)e+="|"+t+"\\b";return new RegExp(e+")","gi")}(),Ze=/hsl[a]?\(/,tn=function(t){var e,n=t.join(" ");if(Je.lastIndex=0,Je.test(n))return e=Ze.test(n),t[1]=We(t[1],e),t[0]=We(t[0],e,Ke(t[1])),!0},en=function(){var t,e,n,r,i,o,s=Date.now,u=500,a=33,c=s(),h=c,f=1e3/240,l=f,p=[],d=function n(d){var v,y,m,g,b=s()-h,_=!0===d;if(b>u&&(c+=b-a),((v=(m=(h+=b)-c)-l)>0||_)&&(g=++r.frame,i=m-1e3*r.time,r.time=m/=1e3,l+=v+(v>=f?4:f-v),y=1),_||(t=e(n)),y)for(o=0;o<p.length;o++)p[o](m,i,g,d)};return r={time:0,frame:0,tick:function(){d(!0)},deltaRatio:function(t){return i/(1e3/(t||60))},wake:function(){tt&&(!J&&_t()&&(W=J=window,Z=W.document||{},Dt.gsap=Gn,(W.gsapVersions||(W.gsapVersions=[])).push(Gn.version),Pt(Ct||W.GreenSockGlobals||!W.gsap&&W||{}),n=W.requestAnimationFrame),t&&r.sleep(),e=n||function(t){return setTimeout(t,l-1e3*r.time+1|0)},rt=1,d(2))},sleep:function(){(n?W.cancelAnimationFrame:clearTimeout)(t),rt=0,e=Mt},lagSmoothing:function(t,e){u=t||1e8,a=Math.min(e,u,0)},fps:function(t){f=1e3/(t||240),l=1e3*r.time+f},add:function(t){p.indexOf(t)<0&&p.push(t),nn()},remove:function(t){var e;~(e=p.indexOf(t))&&p.splice(e,1)&&o>=e&&o--},_listeners:p}}(),nn=function(){return!rt&&en.wake()},rn={},on=/^[\d.\-M][\d.\-,\s]/,sn=/["']/g,un=function(t){for(var e,n,r,i={},o=t.substr(1,t.length-3).split(":"),s=o[0],u=1,a=o.length;u<a;u++)n=o[u],e=u!==a-1?n.lastIndexOf(","):n.length,r=n.substr(0,e),i[s]=isNaN(r)?r.replace(sn,"").trim():+r,s=n.substr(e+1).trim();return i},an=function(t){return function(e){return 1-t(1-e)}},cn=function t(e,n){for(var r,i=e._first;i;)i instanceof mn?t(i,n):!i.vars.yoyoEase||i._yoyo&&i._repeat||i._yoyo===n||(i.timeline?t(i.timeline,n):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=n)),i=i._next},hn=function(t,e){return t&&(vt(t)?t:rn[t]||function(t){var e,n,r,i,o=(t+"").split("("),s=rn[o[0]];return s&&o.length>1&&s.config?s.config.apply(null,~t.indexOf("{")?[un(o[1])]:(e=t,n=e.indexOf("(")+1,r=e.indexOf(")"),i=e.indexOf("(",n),e.substring(n,~i&&i<r?e.indexOf(")",r+1):r)).split(",").map(ee)):rn._CE&&on.test(t)?rn._CE("",t):s}(t))||e},fn=function(t,e,n,r){void 0===n&&(n=function(t){return 1-e(1-t)}),void 0===r&&(r=function(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2});var i,o={easeIn:e,easeOut:n,easeInOut:r};return Xt(t,(function(t){for(var e in rn[t]=Dt[t]=o,rn[i=t.toLowerCase()]=n,o)rn[i+("easeIn"===e?".in":"easeOut"===e?".out":".inOut")]=rn[t+"."+e]=o[e]})),o},ln=function(t){return function(e){return e<.5?(1-t(1-2*e))/2:.5+t(2*(e-.5))/2}},pn=function t(e,n,r){var i=n>=1?n:1,o=(r||(e?.3:.45))/(n<1?n:1),s=o/at*(Math.asin(1/i)||0),u=function(t){return 1===t?1:i*Math.pow(2,-10*t)*pt((t-s)*o)+1},a="out"===e?u:"in"===e?function(t){return 1-u(1-t)}:ln(u);return o=at/o,a.config=function(n,r){return t(e,n,r)},a},dn=function t(e,n){void 0===n&&(n=1.70158);var r=function(t){return t?--t*t*((n+1)*t+n)+1:0},i="out"===e?r:"in"===e?function(t){return 1-r(1-t)}:ln(r);return i.config=function(n){return t(e,n)},i};Xt("Linear,Quad,Cubic,Quart,Quint,Strong",(function(t,e){var n=e<5?e+1:e;fn(t+",Power"+(n-1),e?function(t){return Math.pow(t,n)}:function(t){return t},(function(t){return 1-Math.pow(1-t,n)}),(function(t){return t<.5?Math.pow(2*t,n)/2:1-Math.pow(2*(1-t),n)/2}))})),rn.Linear.easeNone=rn.none=rn.Linear.easeIn,fn("Elastic",pn("in"),pn("out"),pn()),function(t,e){var n=function(n){return n<.36363636363636365?t*n*n:n<.7272727272727273?t*Math.pow(n-1.5/e,2)+.75:n<.9090909090909092?t*(n-=2.25/e)*n+.9375:t*Math.pow(n-2.625/e,2)+.984375};fn("Bounce",(function(t){return 1-n(1-t)}),n)}(7.5625,2.75),fn("Expo",(function(t){return t?Math.pow(2,10*(t-1)):0})),fn("Circ",(function(t){return-(ft(1-t*t)-1)})),fn("Sine",(function(t){return 1===t?1:1-lt(t*ct)})),fn("Back",dn("in"),dn("out"),dn()),rn.SteppedEase=rn.steps=Dt.SteppedEase={config:function(t,e){void 0===t&&(t=1);var n=1/t,r=t+(e?0:1),i=e?1:0;return function(t){return((r*Oe(0,.99999999,t)|0)+i)*n}}},ot.ease=rn["quad.out"],Xt("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(t){return $t+=t+","+t+"Params,"}));var vn=function(t,e){this.id=ht++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:Qt,this.set=e?e.getSetter:Dn},yn=function(){function t(t,e){var n=t.parent||K;this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,Ie(this,+t.duration,1,1),this.data=t.data,rt||en.wake(),n&&_e(n,this,e||0===e?e:n._time,1),t.reversed&&this.reverse(),t.paused&&this.paused(!0)}var e=t.prototype;return e.delay=function(t){return t||0===t?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+t-this._delay),this._delay=t,this):this._delay},e.duration=function(t){return arguments.length?this.totalDuration(this._repeat>0?t+(t+this._rDelay)*this._repeat:t):this.totalDuration()&&this._dur},e.totalDuration=function(t){return arguments.length?(this._dirty=0,Ie(this,this._repeat<0?t:(t-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(t,e){if(nn(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){for(ge(this,t),!n._dp||n.parent||be(n,this);n.parent;)n.parent._time!==n._start+(n._ts>=0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&t<this._tDur||this._ts<0&&t>0||!this._tDur&&!t)&&_e(this._dp,this,this._start-this._delay)}return(this._tTime!==t||!this._dur&&!e||this._initted&&Math.abs(this._zTime)===ut||!t&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=t),te(this,t,e)),this},e.time=function(t,e){return arguments.length?this.totalTime(Math.min(this.totalDuration(),t+de(this))%this._dur||(t?this._dur:0),e):this._time},e.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},e.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?t:1-t)+de(this),e):this.duration()?Math.min(1,this._time/this._dur):this.ratio},e.iteration=function(t,e){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(t-1)*n,e):this._repeat?ve(this._tTime,n)+1:1},e.timeScale=function(t){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===t)return this;var e=this.parent&&this._ts?ye(this.parent._time,this):this._tTime;return this._rts=+t||0,this._ts=this._ps||-1e-8===t?0:this._rts,le(this.totalTime(Oe(-this._delay,this._tDur,e),!0))},e.paused=function(t){return arguments.length?(this._ps!==t&&(this._ps=t,t?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(nn(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&(this._tTime-=ut)&&Math.abs(this._zTime)!==ut))),this):this._ps},e.startTime=function(t){if(arguments.length){this._start=t;var e=this.parent||this._dp;return e&&(e._sort||!this.parent)&&_e(e,this,t-this._delay),this}return this._start},e.endTime=function(t){return this._start+(bt(t)?this.totalDuration():this.duration())/Math.abs(this._ts)},e.rawTime=function(t){var e=this.parent||this._dp;return e?t&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?ye(e.rawTime(t),this):this._tTime:this._tTime},e.globalTime=function(t){for(var e=this,n=arguments.length?t:e.rawTime();e;)n=e._start+n/(e._ts||1),e=e._dp;return n},e.repeat=function(t){return arguments.length?(this._repeat=t===1/0?-2:t,xe(this)):-2===this._repeat?1/0:this._repeat},e.repeatDelay=function(t){return arguments.length?(this._rDelay=t,xe(this)):this._rDelay},e.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},e.seek=function(t,e){return this.totalTime(Se(this,t),bt(e))},e.restart=function(t,e){return this.play().totalTime(t?-this._delay:0,bt(e))},e.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},e.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},e.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(t){return arguments.length?(!!t!==this.reversed()&&this.timeScale(-this._rts||(t?-1e-8:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},e.isActive=function(){var t,e=this.parent||this._dp,n=this._start;return!(e&&!(this._ts&&this._initted&&e.isActive()&&(t=e.rawTime(!0))>=n&&t<this.endTime(!0)-ut))},e.eventCallback=function(t,e,n){var r=this.vars;return arguments.length>1?(e?(r[t]=e,n&&(r[t+"Params"]=n),"onUpdate"===t&&(this._onUpdate=e)):delete r[t],this):r[t]},e.then=function(t){var e=this;return new Promise((function(n){var r=vt(t)?t:ne,i=function(){var t=e.then;e.then=null,vt(r)&&(r=r(e))&&(r.then||r===e)&&(e.then=t),n(r),e.then=t};e._initted&&1===e.totalProgress()&&e._ts>=0||!e._tTime&&e._ts<0?i():e._prom=i}))},e.kill=function(){Ge(this)},t}();re(yn.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var mn=function(t){function e(e,n){var r;return void 0===e&&(e={}),(r=t.call(this,e,n)||this).labels={},r.smoothChildTiming=!!e.smoothChildTiming,r.autoRemoveChildren=!!e.autoRemoveChildren,r._sort=bt(e.sortChildren),r.parent&&be(r.parent,Y(r)),e.scrollTrigger&&we(Y(r),e.scrollTrigger),r}Q(e,t);var n=e.prototype;return n.to=function(t,e,n){return new An(t,Jt(arguments,0,this),Se(this,yt(e)?arguments[3]:n)),this},n.from=function(t,e,n){return new An(t,Jt(arguments,1,this),Se(this,yt(e)?arguments[3]:n)),this},n.fromTo=function(t,e,n,r){return new An(t,Jt(arguments,2,this),Se(this,yt(e)?arguments[4]:r)),this},n.set=function(t,e,n){return e.duration=0,e.parent=this,ae(e).repeatDelay||(e.repeat=0),e.immediateRender=!!e.immediateRender,new An(t,e,Se(this,n),1),this},n.call=function(t,e,n){return _e(this,An.delayedCall(0,t,e),Se(this,n))},n.staggerTo=function(t,e,n,r,i,o,s){return n.duration=e,n.stagger=n.stagger||r,n.onComplete=o,n.onCompleteParams=s,n.parent=this,new An(t,n,Se(this,i)),this},n.staggerFrom=function(t,e,n,r,i,o,s){return n.runBackwards=1,ae(n).immediateRender=bt(n.immediateRender),this.staggerTo(t,e,n,r,i,o,s)},n.staggerFromTo=function(t,e,n,r,i,o,s,u){return r.startAt=n,ae(r).immediateRender=bt(r.immediateRender),this.staggerTo(t,e,r,i,o,s,u)},n.render=function(t,e,n){var r,i,o,s,u,a,c,h,f,l,p,d,v=this._time,y=this._dirty?this.totalDuration():this._tDur,m=this._dur,g=this!==K&&t>y-ut&&t>=0?y:t<ut?0:t,b=this._zTime<0!=t<0&&(this._initted||!m);if(g!==this._tTime||n||b){if(v!==this._time&&m&&(g+=this._time-v,t+=this._time-v),r=g,f=this._start,a=!(h=this._ts),b&&(m||(v=this._zTime),(t||!e)&&(this._zTime=t)),this._repeat){if(p=this._yoyo,u=m+this._rDelay,this._repeat<-1&&t<0)return this.totalTime(100*u+t,e,n);if(r=Kt(g%u),g===y?(s=this._repeat,r=m):((s=~~(g/u))&&s===g/u&&(r=m,s--),r>m&&(r=m)),l=ve(this._tTime,u),!v&&this._tTime&&l!==s&&(l=s),p&&1&s&&(r=m-r,d=1),s!==l&&!this._lock){var _=p&&1&l,w=_===(p&&1&s);if(s<l&&(_=!_),v=_?0:m,this._lock=1,this.render(v||(d?0:Kt(s*u)),e,!m)._lock=0,!e&&this.parent&&Be(this,"onRepeat"),this.vars.repeatRefresh&&!d&&(this.invalidate()._lock=1),v!==this._time||a!==!this._ts)return this;if(m=this._dur,y=this._tDur,w&&(this._lock=2,v=_?m:-1e-4,this.render(v,!0),this.vars.repeatRefresh&&!d&&this.invalidate()),this._lock=0,!this._ts&&!a)return this;cn(this,d)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(c=function(t,e,n){var r;if(n>e)for(r=t._first;r&&r._start<=n;){if(!r._dur&&"isPause"===r.data&&r._start>e)return r;r=r._next}else for(r=t._last;r&&r._start>=n;){if(!r._dur&&"isPause"===r.data&&r._start<e)return r;r=r._prev}}(this,Kt(v),Kt(r)))&&(g-=r-(r=c._start)),this._tTime=g,this._time=r,this._act=!h,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=t,v=0),!v&&(r||!m&&t>=0)&&!e&&Be(this,"onStart"),r>=v&&t>=0)for(i=this._first;i;){if(o=i._next,(i._act||r>=i._start)&&i._ts&&c!==i){if(i.parent!==this)return this.render(t,e,n);if(i.render(i._ts>0?(r-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(r-i._start)*i._ts,e,n),r!==this._time||!this._ts&&!a){c=0,o&&(g+=this._zTime=-1e-8);break}}i=o}else{i=this._last;for(var E=t<0?t:r;i;){if(o=i._prev,(i._act||E<=i._end)&&i._ts&&c!==i){if(i.parent!==this)return this.render(t,e,n);if(i.render(i._ts>0?(E-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(E-i._start)*i._ts,e,n),r!==this._time||!this._ts&&!a){c=0,o&&(g+=this._zTime=E?-1e-8:ut);break}}i=o}}if(c&&!e&&(this.pause(),c.render(r>=v?0:-1e-8)._zTime=r>=v?1:-1,this._ts))return this._start=f,me(this),this.render(t,e,n);this._onUpdate&&!e&&Be(this,"onUpdate",!0),(g===y&&y>=this.totalDuration()||!g&&v)&&(f!==this._start&&Math.abs(h)===Math.abs(this._ts)||this._lock||((t||!m)&&(g===y&&this._ts>0||!g&&this._ts<0)&&he(this,1),e||t<0&&!v||!g&&!v||(Be(this,g===y?"onComplete":"onReverseComplete",!0),this._prom&&!(g<y&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(t,e){var n=this;if(yt(e)||(e=Se(this,e)),!(t instanceof yn)){if(Tt(t))return t.forEach((function(t){return n.add(t,e)})),this;if(dt(t))return this.addLabel(t,e);if(!vt(t))return this;t=An.delayedCall(0,t)}return this!==t?_e(this,t,e):this},n.getChildren=function(t,e,n,r){void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===n&&(n=!0),void 0===r&&(r=-st);for(var i=[],o=this._first;o;)o._start>=r&&(o instanceof An?e&&i.push(o):(n&&i.push(o),t&&i.push.apply(i,o.getChildren(!0,e,n)))),o=o._next;return i},n.getById=function(t){for(var e=this.getChildren(1,1,1),n=e.length;n--;)if(e[n].vars.id===t)return e[n]},n.remove=function(t){return dt(t)?this.removeLabel(t):vt(t)?this.killTweensOf(t):(ce(this,t),t===this._recent&&(this._recent=this._last),fe(this))},n.totalTime=function(e,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Kt(en.time-(this._ts>0?e/this._ts:(this.totalDuration()-e)/-this._ts))),t.prototype.totalTime.call(this,e,n),this._forcing=0,this):this._tTime},n.addLabel=function(t,e){return this.labels[t]=Se(this,e),this},n.removeLabel=function(t){return delete this.labels[t],this},n.addPause=function(t,e,n){var r=An.delayedCall(0,e||Mt,n);return r.data="isPause",this._hasPause=1,_e(this,r,Se(this,t))},n.removePause=function(t){var e=this._first;for(t=Se(this,t);e;)e._start===t&&"isPause"===e.data&&he(e),e=e._next},n.killTweensOf=function(t,e,n){for(var r=this.getTweensOf(t,n),i=r.length;i--;)gn!==r[i]&&r[i].kill(t,e);return this},n.getTweensOf=function(t,e){for(var n,r=[],i=Pe(t),o=this._first,s=yt(e);o;)o instanceof An?Wt(o._targets,i)&&(s?(!gn||o._initted&&o._ts)&&o.globalTime(0)<=e&&o.globalTime(o.totalDuration())>e:!e||o.isActive())&&r.push(o):(n=o.getTweensOf(i,e)).length&&r.push.apply(r,n),o=o._next;return r},n.tweenTo=function(t,e){e=e||{};var n=this,r=Se(n,t),i=e,o=i.startAt,s=i.onStart,u=i.onStartParams,a=i.immediateRender,c=An.to(n,re({ease:"none",lazy:!1,immediateRender:!1,time:r,overwrite:"auto",duration:e.duration||Math.abs((r-(o&&"time"in o?o.time:n._time))/n.timeScale())||ut,onStart:function(){n.pause();var t=e.duration||Math.abs((r-n._time)/n.timeScale());c._dur!==t&&Ie(c,t,0,1).render(c._time,!0,!0),s&&s.apply(c,u||[])}},e));return a?c.render(0):c},n.tweenFromTo=function(t,e,n){return this.tweenTo(e,re({startAt:{time:Se(this,t)}},n))},n.recent=function(){return this._recent},n.nextLabel=function(t){return void 0===t&&(t=this._time),ze(this,Se(this,t))},n.previousLabel=function(t){return void 0===t&&(t=this._time),ze(this,Se(this,t),1)},n.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.previousLabel(this._time+ut)},n.shiftChildren=function(t,e,n){void 0===n&&(n=0);for(var r,i=this._first,o=this.labels;i;)i._start>=n&&(i._start+=t,i._end+=t),i=i._next;if(e)for(r in o)o[r]>=n&&(o[r]+=t);return fe(this)},n.invalidate=function(){var e=this._first;for(this._lock=0;e;)e.invalidate(),e=e._next;return t.prototype.invalidate.call(this)},n.clear=function(t){void 0===t&&(t=!0);for(var e,n=this._first;n;)e=n._next,this.remove(n),n=e;return this._dp&&(this._time=this._tTime=this._pTime=0),t&&(this.labels={}),fe(this)},n.totalDuration=function(t){var e,n,r,i=0,o=this,s=o._last,u=st;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-t:t));if(o._dirty){for(r=o.parent;s;)e=s._prev,s._dirty&&s.totalDuration(),(n=s._start)>u&&o._sort&&s._ts&&!o._lock?(o._lock=1,_e(o,s,n-s._delay,1)._lock=0):u=n,n<0&&s._ts&&(i-=n,(!r&&!o._dp||r&&r.smoothChildTiming)&&(o._start+=n/o._ts,o._time-=n,o._tTime-=n),o.shiftChildren(-n,!1,-Infinity),u=0),s._end>i&&s._ts&&(i=s._end),s=e;Ie(o,o===K&&o._time>i?o._time:i,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(t){if(K._ts&&(te(K,ye(t,K)),et=en.frame),en.frame>=Bt){Bt+=it.autoSleep||120;var e=K._first;if((!e||!e._ts)&&it.autoSleep&&en._listeners.length<2){for(;e&&!e._ts;)e=e._next;e||en.sleep()}}},e}(yn);re(mn.prototype,{_lock:0,_hasPause:0,_forcing:0});var gn,bn=function(t,e,n,r,i,o,s){var u,a,c,h,f,l,p,d,v=new Un(this._pt,t,e,0,1,Rn,null,i),y=0,m=0;for(v.b=n,v.e=r,n+="",(p=~(r+="").indexOf("random("))&&(r=Ue(r)),o&&(o(d=[n,r],t,e),n=d[0],r=d[1]),a=n.match(St)||[];u=St.exec(r);)h=u[0],f=r.substring(y,u.index),c?c=(c+1)%5:"rgba("===f.substr(-5)&&(c=1),h!==a[m++]&&(l=parseFloat(a[m-1])||0,v._pt={_next:v._pt,p:f||1===m?f:",",s:l,c:"="===h.charAt(1)?parseFloat(h.substr(2))*("-"===h.charAt(0)?-1:1):parseFloat(h)-l,m:c&&c<4?Math.round:0},y=St.lastIndex);return v.c=y<r.length?r.substring(y,r.length):"",v.fp=s,(Nt.test(r)||p)&&(v.e=0),this._pt=v,v},_n=function(t,e,n,r,i,o,s,u,a){vt(r)&&(r=r(i||0,t,o));var c,h=t[e],f="get"!==n?n:vt(h)?a?t[e.indexOf("set")||!vt(t["get"+e.substr(3)])?e:"get"+e.substr(3)](a):t[e]():h,l=vt(h)?a?On:Nn:Sn;if(dt(r)&&(~r.indexOf("random(")&&(r=Ue(r)),"="===r.charAt(1)&&(r=parseFloat(f)+parseFloat(r.substr(2))*("-"===r.charAt(0)?-1:1)+(ke(f)||0))),f!==r)return isNaN(f*r)?(!h&&!(e in t)&&Rt(e,r),bn.call(this,t,e,f,r,l,u||it.stringFilter,a)):(c=new Un(this._pt,t,e,+f||0,r-(f||0),"boolean"==typeof h?Pn:Cn,0,l),a&&(c.fp=a),s&&c.modifier(s,this,t),this._pt=c)},wn=function(t,e,n,r,i,o){var s,u,a,c;if(qt[t]&&!1!==(s=new qt[t]).init(i,s.rawVars?e[t]:function(t,e,n,r,i){if(vt(t)&&(t=Tn(t,i,e,n,r)),!gt(t)||t.style&&t.nodeType||Tt(t)||Et(t))return dt(t)?Tn(t,i,e,n,r):t;var o,s={};for(o in t)s[o]=Tn(t[o],i,e,n,r);return s}(e[t],r,i,o,n),n,r,o)&&(n._pt=u=new Un(n._pt,i,t,0,1,s.render,s,0,s.priority),n!==nt))for(a=n._ptLookup[n._targets.indexOf(i)],c=s._props.length;c--;)a[s._props[c]]=u;return s},En=function t(e,n){var r,i,o,s,u,a,c,h,f,l,p,d,v,y=e.vars,m=y.ease,g=y.startAt,b=y.immediateRender,_=y.lazy,w=y.onUpdate,E=y.onUpdateParams,T=y.callbackScope,I=y.runBackwards,x=y.yoyoEase,A=y.keyframes,S=y.autoRevert,N=e._dur,O=e._startAt,k=e._targets,D=e.parent,C=D&&"nested"===D.data?D.parent._targets:k,P="auto"===e._overwrite&&!X,R=e.timeline;if(R&&(!A||!m)&&(m="none"),e._ease=hn(m,ot.ease),e._yEase=x?an(hn(!0===x?m:x,ot.ease)):0,x&&e._yoyo&&!e._repeat&&(x=e._yEase,e._yEase=e._ease,e._ease=x),!R){if(d=(h=k[0]?Yt(k[0]).harness:0)&&y[h.prop],r=ue(y,Vt),O&&O.render(-1,!0).kill(),g){if(he(e._startAt=An.set(k,re({data:"isStart",overwrite:!1,parent:D,immediateRender:!0,lazy:bt(_),startAt:null,delay:0,onUpdate:w,onUpdateParams:E,callbackScope:T,stagger:0},g))),b)if(n>0)S||(e._startAt=0);else if(N&&!(n<0&&O))return void(n&&(e._zTime=n))}else if(I&&N)if(O)!S&&(e._startAt=0);else if(n&&(b=!1),o=re({overwrite:!1,data:"isFromStart",lazy:b&&bt(_),immediateRender:b,stagger:0,parent:D},r),d&&(o[h.prop]=d),he(e._startAt=An.set(k,o)),b){if(!n)return}else t(e._startAt,ut);for(e._pt=0,_=N&&bt(_)||_&&!N,i=0;i<k.length;i++){if(c=(u=k[i])._gsap||Ht(k)[i]._gsap,e._ptLookup[i]=l={},Ut[c.id]&&Ft.length&&Zt(),p=C===k?i:C.indexOf(u),h&&!1!==(f=new h).init(u,d||r,e,p,C)&&(e._pt=s=new Un(e._pt,u,f.name,0,1,f.render,f,0,f.priority),f._props.forEach((function(t){l[t]=s})),f.priority&&(a=1)),!h||d)for(o in r)qt[o]&&(f=wn(o,r,e,p,u,C))?f.priority&&(a=1):l[o]=s=_n.call(e,u,o,"get",r[o],p,C,0,y.stringFilter);e._op&&e._op[i]&&e.kill(u,e._op[i]),P&&e._pt&&(gn=e,K.killTweensOf(u,l,e.globalTime(0)),v=!e.parent,gn=0),e._pt&&_&&(Ut[c.id]=1)}a&&Fn(e),e._onInit&&e._onInit(e)}e._from=!R&&!!y.runBackwards,e._onUpdate=w,e._initted=(!e._op||e._pt)&&!v},Tn=function(t,e,n,r,i){return vt(t)?t.call(e,n,r,i):dt(t)&&~t.indexOf("random(")?Ue(t):t},In=$t+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase",xn=(In+",id,stagger,delay,duration,paused,scrollTrigger").split(","),An=function(t){function e(e,n,r,i){var o;"number"==typeof n&&(r.duration=n,n=r,r=null);var s,u,a,c,h,f,l,p,d=(o=t.call(this,i?n:ae(n),r)||this).vars,v=d.duration,y=d.delay,m=d.immediateRender,g=d.stagger,b=d.overwrite,_=d.keyframes,w=d.defaults,E=d.scrollTrigger,T=d.yoyoEase,I=o.parent,x=(Tt(e)||Et(e)?yt(e[0]):"length"in n)?[e]:Pe(e);if(o._targets=x.length?Ht(x):Lt("GSAP target "+e+" not found. https://greensock.com",!it.nullTargetWarn)||[],o._ptLookup=[],o._overwrite=b,_||g||wt(v)||wt(y)){if(n=o.vars,(s=o.timeline=new mn({data:"nested",defaults:w||{}})).kill(),s.parent=s._dp=Y(o),s._start=0,_)re(s.vars.defaults,{ease:"none"}),_.forEach((function(t){return s.to(x,t,">")}));else{if(c=x.length,l=g?Le(g):Mt,gt(g))for(h in g)~In.indexOf(h)&&(p||(p={}),p[h]=g[h]);for(u=0;u<c;u++){for(h in a={},n)xn.indexOf(h)<0&&(a[h]=n[h]);a.stagger=0,T&&(a.yoyoEase=T),p&&oe(a,p),f=x[u],a.duration=+Tn(v,Y(o),u,f,x),a.delay=(+Tn(y,Y(o),u,f,x)||0)-o._delay,!g&&1===c&&a.delay&&(o._delay=y=a.delay,o._start+=y,a.delay=0),s.to(f,a,l(u,f,x))}s.duration()?v=y=0:o.timeline=0}v||o.duration(v=s.duration())}else o.timeline=0;return!0!==b||X||(gn=Y(o),K.killTweensOf(x),gn=0),I&&be(I,Y(o)),(m||!v&&!_&&o._start===Kt(I._time)&&bt(m)&&pe(Y(o))&&"nested"!==I.data)&&(o._tTime=-1e-8,o.render(Math.max(0,-y))),E&&we(Y(o),E),o}Q(e,t);var n=e.prototype;return n.render=function(t,e,n){var r,i,o,s,u,a,c,h,f,l=this._time,p=this._tDur,d=this._dur,v=t>p-ut&&t>=0?p:t<ut?0:t;if(d){if(v!==this._tTime||!t||n||!this._initted&&this._tTime||this._startAt&&this._zTime<0!=t<0){if(r=v,h=this.timeline,this._repeat){if(s=d+this._rDelay,this._repeat<-1&&t<0)return this.totalTime(100*s+t,e,n);if(r=Kt(v%s),v===p?(o=this._repeat,r=d):((o=~~(v/s))&&o===v/s&&(r=d,o--),r>d&&(r=d)),(a=this._yoyo&&1&o)&&(f=this._yEase,r=d-r),u=ve(this._tTime,s),r===l&&!n&&this._initted)return this;o!==u&&(h&&this._yEase&&cn(h,a),!this.vars.repeatRefresh||a||this._lock||(this._lock=n=1,this.render(Kt(s*o),!0).invalidate()._lock=0))}if(!this._initted){if(Ee(this,t<0?t:r,n,e))return this._tTime=0,this;if(d!==this._dur)return this.render(t,e,n)}for(this._tTime=v,this._time=r,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=c=(f||this._ease)(r/d),this._from&&(this.ratio=c=1-c),r&&!l&&!e&&Be(this,"onStart"),i=this._pt;i;)i.r(c,i.d),i=i._next;h&&h.render(t<0?t:!r&&a?-1e-8:h._dur*c,e,n)||this._startAt&&(this._zTime=t),this._onUpdate&&!e&&(t<0&&this._startAt&&this._startAt.render(t,!0,n),Be(this,"onUpdate")),this._repeat&&o!==u&&this.vars.onRepeat&&!e&&this.parent&&Be(this,"onRepeat"),v!==this._tDur&&v||this._tTime!==v||(t<0&&this._startAt&&!this._onUpdate&&this._startAt.render(t,!0,!0),(t||!d)&&(v===this._tDur&&this._ts>0||!v&&this._ts<0)&&he(this,1),e||t<0&&!l||!v&&!l||(Be(this,v===p?"onComplete":"onReverseComplete",!0),this._prom&&!(v<p&&this.timeScale()>0)&&this._prom()))}}else!function(t,e,n,r){var i,o,s,u=t.ratio,a=e<0||!e&&(!t._start&&Te(t)||(t._ts<0||t._dp._ts<0)&&"isFromStart"!==t.data&&"isStart"!==t.data)?0:1,c=t._rDelay,h=0;if(c&&t._repeat&&(h=Oe(0,t._tDur,e),o=ve(h,c),s=ve(t._tTime,c),t._yoyo&&1&o&&(a=1-a),o!==s&&(u=1-a,t.vars.repeatRefresh&&t._initted&&t.invalidate())),a!==u||r||t._zTime===ut||!e&&t._zTime){if(!t._initted&&Ee(t,e,r,n))return;for(s=t._zTime,t._zTime=e||(n?ut:0),n||(n=e&&!s),t.ratio=a,t._from&&(a=1-a),t._time=0,t._tTime=h,n||Be(t,"onStart"),i=t._pt;i;)i.r(a,i.d),i=i._next;t._startAt&&e<0&&t._startAt.render(e,!0,!0),t._onUpdate&&!n&&Be(t,"onUpdate"),h&&t._repeat&&!n&&t.parent&&Be(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===a&&(a&&he(t,1),n||(Be(t,a?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)}(this,t,e,n);return this},n.targets=function(){return this._targets},n.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),t.prototype.invalidate.call(this)},n.kill=function(t,e){if(void 0===e&&(e="all"),!(t||e&&"all"!==e))return this._lazy=this._pt=0,this.parent?Ge(this):this;if(this.timeline){var n=this.timeline.totalDuration();return this.timeline.killTweensOf(t,e,gn&&!0!==gn.vars.overwrite)._first||Ge(this),this.parent&&n!==this.timeline.totalDuration()&&Ie(this,this._dur*this.timeline._tDur/n,0,1),this}var r,i,o,s,u,a,c,h=this._targets,f=t?Pe(t):h,l=this._ptLookup,p=this._pt;if((!e||"all"===e)&&function(t,e){for(var n=t.length,r=n===e.length;r&&n--&&t[n]===e[n];);return n<0}(h,f))return"all"===e&&(this._pt=0),Ge(this);for(r=this._op=this._op||[],"all"!==e&&(dt(e)&&(u={},Xt(e,(function(t){return u[t]=1})),e=u),e=function(t,e){var n,r,i,o,s=t[0]?Yt(t[0]).harness:0,u=s&&s.aliases;if(!u)return e;for(r in n=oe({},e),u)if(r in n)for(i=(o=u[r].split(",")).length;i--;)n[o[i]]=n[r];return n}(h,e)),c=h.length;c--;)if(~f.indexOf(h[c]))for(u in i=l[c],"all"===e?(r[c]=e,s=i,o={}):(o=r[c]=r[c]||{},s=e),s)(a=i&&i[u])&&("kill"in a.d&&!0!==a.d.kill(u)||ce(this,a,"_pt"),delete i[u]),"all"!==o&&(o[u]=1);return this._initted&&!this._pt&&p&&Ge(this),this},e.to=function(t,n){return new e(t,n,arguments[2])},e.from=function(t,n){return new e(t,Jt(arguments,1))},e.delayedCall=function(t,n,r,i){return new e(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:t,onComplete:n,onReverseComplete:n,onCompleteParams:r,onReverseCompleteParams:r,callbackScope:i})},e.fromTo=function(t,n,r){return new e(t,Jt(arguments,2))},e.set=function(t,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new e(t,n)},e.killTweensOf=function(t,e,n){return K.killTweensOf(t,e,n)},e}(yn);re(An.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),Xt("staggerTo,staggerFrom,staggerFromTo",(function(t){An[t]=function(){var e=new mn,n=De.call(arguments,0);return n.splice("staggerFromTo"===t?5:4,0,0),e[t].apply(e,n)}}));var Sn=function(t,e,n){return t[e]=n},Nn=function(t,e,n){return t[e](n)},On=function(t,e,n,r){return t[e](r.fp,n)},kn=function(t,e,n){return t.setAttribute(e,n)},Dn=function(t,e){return vt(t[e])?Nn:mt(t[e])&&t.setAttribute?kn:Sn},Cn=function(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4,e)},Pn=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},Rn=function(t,e){var n=e._pt,r="";if(!t&&e.b)r=e.b;else if(1===t&&e.e)r=e.e;else{for(;n;)r=n.p+(n.m?n.m(n.s+n.c*t):Math.round(1e4*(n.s+n.c*t))/1e4)+r,n=n._next;r+=e.c}e.set(e.t,e.p,r,e)},Ln=function(t,e){for(var n=e._pt;n;)n.r(t,n.d),n=n._next},jn=function(t,e,n,r){for(var i,o=this._pt;o;)i=o._next,o.p===r&&o.modifier(t,e,n),o=i},Mn=function(t){for(var e,n,r=this._pt;r;)n=r._next,r.p===t&&!r.op||r.op===t?ce(this,r,"_pt"):r.dep||(e=1),r=n;return!e},Vn=function(t,e,n,r){r.mSet(t,e,r.m.call(r.tween,n,r.mt),r)},Fn=function(t){for(var e,n,r,i,o=t._pt;o;){for(e=o._next,n=r;n&&n.pr>o.pr;)n=n._next;(o._prev=n?n._prev:i)?o._prev._next=o:r=o,(o._next=n)?n._prev=o:i=o,o=e}t._pt=r},Un=function(){function t(t,e,n,r,i,o,s,u,a){this.t=e,this.s=r,this.c=i,this.p=n,this.r=o||Cn,this.d=s||this,this.set=u||Sn,this.pr=a||0,this._next=t,t&&(t._prev=this)}return t.prototype.modifier=function(t,e,n){this.mSet=this.mSet||this.set,this.set=Vn,this.m=t,this.mt=n,this.tween=e},t}();Xt($t+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(t){return Vt[t]=1})),Dt.TweenMax=Dt.TweenLite=An,Dt.TimelineLite=Dt.TimelineMax=mn,K=new mn({sortChildren:!1,defaults:ot,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),it.stringFilter=tn;var qn={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e.forEach((function(t){return $e(t)}))},timeline:function(t){return new mn(t)},getTweensOf:function(t,e){return K.getTweensOf(t,e)},getProperty:function(t,e,n,r){dt(t)&&(t=Pe(t)[0]);var i=Yt(t||{}).get,o=n?ne:ee;return"native"===n&&(n=""),t?e?o((qt[e]&&qt[e].get||i)(t,e,n,r)):function(e,n,r){return o((qt[e]&&qt[e].get||i)(t,e,n,r))}:t},quickSetter:function(t,e,n){if((t=Pe(t)).length>1){var r=t.map((function(t){return Gn.quickSetter(t,e,n)})),i=r.length;return function(t){for(var e=i;e--;)r[e](t)}}t=t[0]||{};var o=qt[e],s=Yt(t),u=s.harness&&(s.harness.aliases||{})[e]||e,a=o?function(e){var r=new o;nt._pt=0,r.init(t,n?e+n:e,nt,0,[t]),r.render(1,r),nt._pt&&Ln(1,nt)}:s.set(t,u);return o?a:function(e){return a(t,u,n?e+n:e,s,1)}},isTweening:function(t){return K.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=hn(t.ease,ot.ease)),se(ot,t||{})},config:function(t){return se(it,t||{})},registerEffect:function(t){var e=t.name,n=t.effect,r=t.plugins,i=t.defaults,o=t.extendTimeline;(r||"").split(",").forEach((function(t){return t&&!qt[t]&&!Dt[t]&&Lt(e+" effect requires "+t+" plugin.")})),zt[e]=function(t,e,r){return n(Pe(t),re(e||{},i),r)},o&&(mn.prototype[e]=function(t,n,r){return this.add(zt[e](t,gt(n)?n:(r=n)&&{},this),r)})},registerEase:function(t,e){rn[t]=hn(e)},parseEase:function(t,e){return arguments.length?hn(t,e):rn},getById:function(t){return K.getById(t)},exportRoot:function(t,e){void 0===t&&(t={});var n,r,i=new mn(t);for(i.smoothChildTiming=bt(t.smoothChildTiming),K.remove(i),i._dp=0,i._time=i._tTime=K._time,n=K._first;n;)r=n._next,!e&&!n._dur&&n instanceof An&&n.vars.onComplete===n._targets[0]||_e(i,n,n._start-n._delay),n=r;return _e(K,i,0),i},utils:{wrap:function t(e,n,r){var i=n-e;return Tt(e)?Fe(e,t(0,e.length),n):Ne(r,(function(t){return(i+(t-e)%i)%i+e}))},wrapYoyo:function t(e,n,r){var i=n-e,o=2*i;return Tt(e)?Fe(e,t(0,e.length-1),n):Ne(r,(function(t){return e+((t=(o+(t-e)%o)%o||0)>i?o-t:t)}))},distribute:Le,random:Ve,snap:Me,normalize:function(t,e,n){return qe(t,e,0,1,n)},getUnit:ke,clamp:function(t,e,n){return Ne(n,(function(n){return Oe(t,e,n)}))},splitColor:Xe,toArray:Pe,mapRange:qe,pipe:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return e.reduce((function(t,e){return e(t)}),t)}},unitize:function(t,e){return function(n){return t(parseFloat(n))+(e||ke(n))}},interpolate:function t(e,n,r,i){var o=isNaN(e+n)?0:function(t){return(1-t)*e+t*n};if(!o){var s,u,a,c,h,f=dt(e),l={};if(!0===r&&(i=1)&&(r=null),f)e={p:e},n={p:n};else if(Tt(e)&&!Tt(n)){for(a=[],c=e.length,h=c-2,u=1;u<c;u++)a.push(t(e[u-1],e[u]));c--,o=function(t){t*=c;var e=Math.min(h,~~t);return a[e](t-e)},r=n}else i||(e=oe(Tt(e)?[]:{},e));if(!a){for(s in n)_n.call(l,e,s,"get",n[s]);o=function(t){return Ln(t,l)||(f?e.p:e)}}}return Ne(r,o)},shuffle:Re},install:Pt,effects:zt,ticker:en,updateRoot:mn.updateRoot,plugins:qt,globalTimeline:K,core:{PropTween:Un,globals:jt,Tween:An,Timeline:mn,Animation:yn,getCache:Yt,_removeLinkedListItem:ce,suppressOverwrites:function(t){return X=t}}};Xt("to,from,fromTo,delayedCall,set,killTweensOf",(function(t){return qn[t]=An[t]})),en.add(mn.updateRoot),nt=qn.to({},{duration:0});var zn=function(t,e){for(var n=t._pt;n&&n.p!==e&&n.op!==e&&n.fp!==e;)n=n._next;return n},Bn=function(t,e){return{name:t,rawVars:1,init:function(t,n,r){r._onInit=function(t){var r,i;if(dt(n)&&(r={},Xt(n,(function(t){return r[t]=1})),n=r),e){for(i in r={},n)r[i]=e(n[i]);n=r}!function(t,e){var n,r,i,o=t._targets;for(n in e)for(r=o.length;r--;)(i=t._ptLookup[r][n])&&(i=i.d)&&(i._pt&&(i=zn(i,n)),i&&i.modifier&&i.modifier(e[n],t,o[r],n))}(t,n)}}}},Gn=qn.registerPlugin({name:"attr",init:function(t,e,n,r,i){var o,s;for(o in e)(s=this.add(t,"setAttribute",(t.getAttribute(o)||0)+"",e[o],r,i,0,0,o))&&(s.op=o),this._props.push(o)}},{name:"endArray",init:function(t,e){for(var n=e.length;n--;)this.add(t,n,t[n]||0,e[n])}},Bn("roundProps",je),Bn("modifiers"),Bn("snap",Me))||qn;An.version=mn.version=Gn.version="3.6.0",tt=1,_t()&&nn(),rn.Power0,rn.Power1,rn.Power2,rn.Power3;var $n,Hn,Yn,Qn,Xn,Kn,Wn,Jn,Zn=rn.Power4,tr=(rn.Linear,rn.Quad,rn.Cubic,rn.Quart,rn.Quint,rn.Strong,rn.Elastic,rn.Back,rn.SteppedEase,rn.Bounce,rn.Sine,rn.Expo),er=(rn.Circ,{}),nr=180/Math.PI,rr=Math.PI/180,ir=Math.atan2,or=/([A-Z])/g,sr=/(?:left|right|width|margin|padding|x)/i,ur=/[\s,\(]\S/,ar={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},cr=function(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},hr=function(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},fr=function(t,e){return e.set(e.t,e.p,t?Math.round(1e4*(e.s+e.c*t))/1e4+e.u:e.b,e)},lr=function(t,e){var n=e.s+e.c*t;e.set(e.t,e.p,~~(n+(n<0?-.5:.5))+e.u,e)},pr=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},dr=function(t,e){return e.set(e.t,e.p,1!==t?e.b:e.e,e)},vr=function(t,e,n){return t.style[e]=n},yr=function(t,e,n){return t.style.setProperty(e,n)},mr=function(t,e,n){return t._gsap[e]=n},gr=function(t,e,n){return t._gsap.scaleX=t._gsap.scaleY=n},br=function(t,e,n,r,i){var o=t._gsap;o.scaleX=o.scaleY=n,o.renderTransform(i,o)},_r=function(t,e,n,r,i){var o=t._gsap;o[e]=n,o.renderTransform(i,o)},wr="transform",Er=wr+"Origin",Tr=function(t,e){var n=Hn.createElementNS?Hn.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):Hn.createElement(t);return n.style?n:Hn.createElement(t)},Ir=function t(e,n,r){var i=getComputedStyle(e);return i[n]||i.getPropertyValue(n.replace(or,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&t(e,Ar(n)||n,1)||""},xr="O,Moz,ms,Ms,Webkit".split(","),Ar=function(t,e,n){var r=(e||Xn).style,i=5;if(t in r&&!n)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);i--&&!(xr[i]+t in r););return i<0?null:(3===i?"ms":i>=0?xr[i]:"")+t},Sr=function(){"undefined"!=typeof window&&window.document&&($n=window,Hn=$n.document,Yn=Hn.documentElement,Xn=Tr("div")||{style:{}},Kn=Tr("div"),wr=Ar(wr),Er=wr+"Origin",Xn.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Jn=!!Ar("perspective"),Qn=1)},Nr=function t(e){var n,r=Tr("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,o=this.nextSibling,s=this.style.cssText;if(Yn.appendChild(r),r.appendChild(this),this.style.display="block",e)try{n=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=t}catch(t){}else this._gsapBBox&&(n=this._gsapBBox());return i&&(o?i.insertBefore(this,o):i.appendChild(this)),Yn.removeChild(r),this.style.cssText=s,n},Or=function(t,e){for(var n=e.length;n--;)if(t.hasAttribute(e[n]))return t.getAttribute(e[n])},kr=function(t){var e;try{e=t.getBBox()}catch(n){e=Nr.call(t,!0)}return e&&(e.width||e.height)||t.getBBox===Nr||(e=Nr.call(t,!0)),!e||e.width||e.x||e.y?e:{x:+Or(t,["x","cx","x1"])||0,y:+Or(t,["y","cy","y1"])||0,width:0,height:0}},Dr=function(t){return!(!t.getCTM||t.parentNode&&!t.ownerSVGElement||!kr(t))},Cr=function(t,e){if(e){var n=t.style;e in er&&e!==Er&&(e=wr),n.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),n.removeProperty(e.replace(or,"-$1").toLowerCase())):n.removeAttribute(e)}},Pr=function(t,e,n,r,i,o){var s=new Un(t._pt,e,n,0,1,o?dr:pr);return t._pt=s,s.b=r,s.e=i,t._props.push(n),s},Rr={deg:1,rad:1,turn:1},Lr=function t(e,n,r,i){var o,s,u,a,c=parseFloat(r)||0,h=(r+"").trim().substr((c+"").length)||"px",f=Xn.style,l=sr.test(n),p="svg"===e.tagName.toLowerCase(),d=(p?"client":"offset")+(l?"Width":"Height"),v=100,y="px"===i,m="%"===i;return i===h||!c||Rr[i]||Rr[h]?c:("px"!==h&&!y&&(c=t(e,n,r,"px")),a=e.getCTM&&Dr(e),!m&&"%"!==h||!er[n]&&!~n.indexOf("adius")?(f[l?"width":"height"]=v+(y?h:i),s=~n.indexOf("adius")||"em"===i&&e.appendChild&&!p?e:e.parentNode,a&&(s=(e.ownerSVGElement||{}).parentNode),s&&s!==Hn&&s.appendChild||(s=Hn.body),(u=s._gsap)&&m&&u.width&&l&&u.time===en.time?Kt(c/u.width*v):((m||"%"===h)&&(f.position=Ir(e,"position")),s===e&&(f.position="static"),s.appendChild(Xn),o=Xn[d],s.removeChild(Xn),f.position="absolute",l&&m&&((u=Yt(s)).time=en.time,u.width=s[d]),Kt(y?o*c/v:o&&c?v/o*c:0))):(o=a?e.getBBox()[l?"width":"height"]:e[d],Kt(m?c/o*v:c/100*o)))},jr=function(t,e,n,r){var i;return Qn||Sr(),e in ar&&"transform"!==e&&~(e=ar[e]).indexOf(",")&&(e=e.split(",")[0]),er[e]&&"transform"!==e?(i=Qr(t,r),i="transformOrigin"!==e?i[e]:Xr(Ir(t,Er))+" "+i.zOrigin+"px"):(!(i=t.style[e])||"auto"===i||r||~(i+"").indexOf("calc("))&&(i=qr[e]&&qr[e](t,e,n)||Ir(t,e)||Qt(t,e)||("opacity"===e?1:0)),n&&!~(i+"").trim().indexOf(" ")?Lr(t,e,i,n)+n:i},Mr=function(t,e,n,r){if(!n||"none"===n){var i=Ar(e,t,1),o=i&&Ir(t,i,1);o&&o!==n?(e=i,n=o):"borderColor"===e&&(n=Ir(t,"borderTopColor"))}var s,u,a,c,h,f,l,p,d,v,y,m,g=new Un(this._pt,t.style,e,0,1,Rn),b=0,_=0;if(g.b=n,g.e=r,n+="","auto"==(r+="")&&(t.style[e]=r,r=Ir(t,e)||r,t.style[e]=n),tn(s=[n,r]),r=s[1],a=(n=s[0]).match(At)||[],(r.match(At)||[]).length){for(;u=At.exec(r);)l=u[0],d=r.substring(b,u.index),h?h=(h+1)%5:"rgba("!==d.substr(-5)&&"hsla("!==d.substr(-5)||(h=1),l!==(f=a[_++]||"")&&(c=parseFloat(f)||0,y=f.substr((c+"").length),(m="="===l.charAt(1)?+(l.charAt(0)+"1"):0)&&(l=l.substr(2)),p=parseFloat(l),v=l.substr((p+"").length),b=At.lastIndex-v.length,v||(v=v||it.units[e]||y,b===r.length&&(r+=v,g.e+=v)),y!==v&&(c=Lr(t,e,f,v)||0),g._pt={_next:g._pt,p:d||1===_?d:",",s:c,c:m?m*p:p-c,m:h&&h<4||"zIndex"===e?Math.round:0});g.c=b<r.length?r.substring(b,r.length):""}else g.r="display"===e&&"none"===r?dr:pr;return Nt.test(r)&&(g.e=0),this._pt=g,g},Vr={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Fr=function(t){var e=t.split(" "),n=e[0],r=e[1]||"50%";return"top"!==n&&"bottom"!==n&&"left"!==r&&"right"!==r||(t=n,n=r,r=t),e[0]=Vr[n]||n,e[1]=Vr[r]||r,e.join(" ")},Ur=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var n,r,i,o=e.t,s=o.style,u=e.u,a=o._gsap;if("all"===u||!0===u)s.cssText="",r=1;else for(i=(u=u.split(",")).length;--i>-1;)n=u[i],er[n]&&(r=1,n="transformOrigin"===n?Er:wr),Cr(o,n);r&&(Cr(o,wr),a&&(a.svg&&o.removeAttribute("transform"),Qr(o,1),a.uncache=1))}},qr={clearProps:function(t,e,n,r,i){if("isFromStart"!==i.data){var o=t._pt=new Un(t._pt,e,n,0,0,Ur);return o.u=r,o.pr=-10,o.tween=i,t._props.push(n),1}}},zr=[1,0,0,1,0,0],Br={},Gr=function(t){return"matrix(1, 0, 0, 1, 0, 0)"===t||"none"===t||!t},$r=function(t){var e=Ir(t,wr);return Gr(e)?zr:e.substr(7).match(xt).map(Kt)},Hr=function(t,e){var n,r,i,o,s=t._gsap||Yt(t),u=t.style,a=$r(t);return s.svg&&t.getAttribute("transform")?"1,0,0,1,0,0"===(a=[(i=t.transform.baseVal.consolidate().matrix).a,i.b,i.c,i.d,i.e,i.f]).join(",")?zr:a:(a!==zr||t.offsetParent||t===Yn||s.svg||(i=u.display,u.display="block",(n=t.parentNode)&&t.offsetParent||(o=1,r=t.nextSibling,Yn.appendChild(t)),a=$r(t),i?u.display=i:Cr(t,"display"),o&&(r?n.insertBefore(t,r):n?n.appendChild(t):Yn.removeChild(t))),e&&a.length>6?[a[0],a[1],a[4],a[5],a[12],a[13]]:a)},Yr=function(t,e,n,r,i,o){var s,u,a,c=t._gsap,h=i||Hr(t,!0),f=c.xOrigin||0,l=c.yOrigin||0,p=c.xOffset||0,d=c.yOffset||0,v=h[0],y=h[1],m=h[2],g=h[3],b=h[4],_=h[5],w=e.split(" "),E=parseFloat(w[0])||0,T=parseFloat(w[1])||0;n?h!==zr&&(u=v*g-y*m)&&(a=E*(-y/u)+T*(v/u)-(v*_-y*b)/u,E=E*(g/u)+T*(-m/u)+(m*_-g*b)/u,T=a):(E=(s=kr(t)).x+(~w[0].indexOf("%")?E/100*s.width:E),T=s.y+(~(w[1]||w[0]).indexOf("%")?T/100*s.height:T)),r||!1!==r&&c.smooth?(b=E-f,_=T-l,c.xOffset=p+(b*v+_*m)-b,c.yOffset=d+(b*y+_*g)-_):c.xOffset=c.yOffset=0,c.xOrigin=E,c.yOrigin=T,c.smooth=!!r,c.origin=e,c.originIsAbsolute=!!n,t.style[Er]="0px 0px",o&&(Pr(o,c,"xOrigin",f,E),Pr(o,c,"yOrigin",l,T),Pr(o,c,"xOffset",p,c.xOffset),Pr(o,c,"yOffset",d,c.yOffset)),t.setAttribute("data-svg-origin",E+" "+T)},Qr=function(t,e){var n=t._gsap||new vn(t);if("x"in n&&!e&&!n.uncache)return n;var r,i,o,s,u,a,c,h,f,l,p,d,v,y,m,g,b,_,w,E,T,I,x,A,S,N,O,k,D,C,P,R,L=t.style,j=n.scaleX<0,M="px",V="deg",F=Ir(t,Er)||"0";return r=i=o=a=c=h=f=l=p=0,s=u=1,n.svg=!(!t.getCTM||!Dr(t)),y=Hr(t,n.svg),n.svg&&(A=!n.uncache&&t.getAttribute("data-svg-origin"),Yr(t,A||F,!!A||n.originIsAbsolute,!1!==n.smooth,y)),d=n.xOrigin||0,v=n.yOrigin||0,y!==zr&&(_=y[0],w=y[1],E=y[2],T=y[3],r=I=y[4],i=x=y[5],6===y.length?(s=Math.sqrt(_*_+w*w),u=Math.sqrt(T*T+E*E),a=_||w?ir(w,_)*nr:0,(f=E||T?ir(E,T)*nr+a:0)&&(u*=Math.cos(f*rr)),n.svg&&(r-=d-(d*_+v*E),i-=v-(d*w+v*T))):(R=y[6],C=y[7],O=y[8],k=y[9],D=y[10],P=y[11],r=y[12],i=y[13],o=y[14],c=(m=ir(R,D))*nr,m&&(A=I*(g=Math.cos(-m))+O*(b=Math.sin(-m)),S=x*g+k*b,N=R*g+D*b,O=I*-b+O*g,k=x*-b+k*g,D=R*-b+D*g,P=C*-b+P*g,I=A,x=S,R=N),h=(m=ir(-E,D))*nr,m&&(g=Math.cos(-m),P=T*(b=Math.sin(-m))+P*g,_=A=_*g-O*b,w=S=w*g-k*b,E=N=E*g-D*b),a=(m=ir(w,_))*nr,m&&(A=_*(g=Math.cos(m))+w*(b=Math.sin(m)),S=I*g+x*b,w=w*g-_*b,x=x*g-I*b,_=A,I=S),c&&Math.abs(c)+Math.abs(a)>359.9&&(c=a=0,h=180-h),s=Kt(Math.sqrt(_*_+w*w+E*E)),u=Kt(Math.sqrt(x*x+R*R)),m=ir(I,x),f=Math.abs(m)>2e-4?m*nr:0,p=P?1/(P<0?-P:P):0),n.svg&&(A=t.getAttribute("transform"),n.forceCSS=t.setAttribute("transform","")||!Gr(Ir(t,wr)),A&&t.setAttribute("transform",A))),Math.abs(f)>90&&Math.abs(f)<270&&(j?(s*=-1,f+=a<=0?180:-180,a+=a<=0?180:-180):(u*=-1,f+=f<=0?180:-180)),n.x=r-((n.xPercent=r&&(n.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-r)?-50:0)))?t.offsetWidth*n.xPercent/100:0)+M,n.y=i-((n.yPercent=i&&(n.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-i)?-50:0)))?t.offsetHeight*n.yPercent/100:0)+M,n.z=o+M,n.scaleX=Kt(s),n.scaleY=Kt(u),n.rotation=Kt(a)+V,n.rotationX=Kt(c)+V,n.rotationY=Kt(h)+V,n.skewX=f+V,n.skewY=l+V,n.transformPerspective=p+M,(n.zOrigin=parseFloat(F.split(" ")[2])||0)&&(L[Er]=Xr(F)),n.xOffset=n.yOffset=0,n.force3D=it.force3D,n.renderTransform=n.svg?ni:Jn?ei:Wr,n.uncache=0,n},Xr=function(t){return(t=t.split(" "))[0]+" "+t[1]},Kr=function(t,e,n){var r=ke(e);return Kt(parseFloat(e)+parseFloat(Lr(t,"x",n+"px",r)))+r},Wr=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,ei(t,e)},Jr="0deg",Zr="0px",ti=") ",ei=function(t,e){var n=e||this,r=n.xPercent,i=n.yPercent,o=n.x,s=n.y,u=n.z,a=n.rotation,c=n.rotationY,h=n.rotationX,f=n.skewX,l=n.skewY,p=n.scaleX,d=n.scaleY,v=n.transformPerspective,y=n.force3D,m=n.target,g=n.zOrigin,b="",_="auto"===y&&t&&1!==t||!0===y;if(g&&(h!==Jr||c!==Jr)){var w,E=parseFloat(c)*rr,T=Math.sin(E),I=Math.cos(E);E=parseFloat(h)*rr,w=Math.cos(E),o=Kr(m,o,T*w*-g),s=Kr(m,s,-Math.sin(E)*-g),u=Kr(m,u,I*w*-g+g)}v!==Zr&&(b+="perspective("+v+ti),(r||i)&&(b+="translate("+r+"%, "+i+"%) "),(_||o!==Zr||s!==Zr||u!==Zr)&&(b+=u!==Zr||_?"translate3d("+o+", "+s+", "+u+") ":"translate("+o+", "+s+ti),a!==Jr&&(b+="rotate("+a+ti),c!==Jr&&(b+="rotateY("+c+ti),h!==Jr&&(b+="rotateX("+h+ti),f===Jr&&l===Jr||(b+="skew("+f+", "+l+ti),1===p&&1===d||(b+="scale("+p+", "+d+ti),m.style[wr]=b||"translate(0, 0)"},ni=function(t,e){var n,r,i,o,s,u=e||this,a=u.xPercent,c=u.yPercent,h=u.x,f=u.y,l=u.rotation,p=u.skewX,d=u.skewY,v=u.scaleX,y=u.scaleY,m=u.target,g=u.xOrigin,b=u.yOrigin,_=u.xOffset,w=u.yOffset,E=u.forceCSS,T=parseFloat(h),I=parseFloat(f);l=parseFloat(l),p=parseFloat(p),(d=parseFloat(d))&&(p+=d=parseFloat(d),l+=d),l||p?(l*=rr,p*=rr,n=Math.cos(l)*v,r=Math.sin(l)*v,i=Math.sin(l-p)*-y,o=Math.cos(l-p)*y,p&&(d*=rr,s=Math.tan(p-d),i*=s=Math.sqrt(1+s*s),o*=s,d&&(s=Math.tan(d),n*=s=Math.sqrt(1+s*s),r*=s)),n=Kt(n),r=Kt(r),i=Kt(i),o=Kt(o)):(n=v,o=y,r=i=0),(T&&!~(h+"").indexOf("px")||I&&!~(f+"").indexOf("px"))&&(T=Lr(m,"x",h,"px"),I=Lr(m,"y",f,"px")),(g||b||_||w)&&(T=Kt(T+g-(g*n+b*i)+_),I=Kt(I+b-(g*r+b*o)+w)),(a||c)&&(s=m.getBBox(),T=Kt(T+a/100*s.width),I=Kt(I+c/100*s.height)),s="matrix("+n+","+r+","+i+","+o+","+T+","+I+")",m.setAttribute("transform",s),E&&(m.style[wr]=s)},ri=function(t,e,n,r,i,o){var s,u,a=360,c=dt(i),h=parseFloat(i)*(c&&~i.indexOf("rad")?nr:1),f=o?h*o:h-r,l=r+f+"deg";return c&&("short"===(s=i.split("_")[1])&&(f%=a)!=f%180&&(f+=f<0?a:-360),"cw"===s&&f<0?f=(f+36e9)%a-~~(f/a)*a:"ccw"===s&&f>0&&(f=(f-36e9)%a-~~(f/a)*a)),t._pt=u=new Un(t._pt,e,n,r,f,hr),u.e=l,u.u="deg",t._props.push(n),u},ii=function(t,e,n){var r,i,o,s,u,a,c,h=Kn.style,f=n._gsap;for(i in h.cssText=getComputedStyle(n).cssText+";position:absolute;display:block;",h[wr]=e,Hn.body.appendChild(Kn),r=Qr(Kn,1),er)(o=f[i])!==(s=r[i])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(i)<0&&(u=ke(o)!==(c=ke(s))?Lr(n,i,o,c):parseFloat(o),a=parseFloat(s),t._pt=new Un(t._pt,f,i,u,a-u,cr),t._pt.u=c||0,t._props.push(i));Hn.body.removeChild(Kn)};Xt("padding,margin,Width,Radius",(function(t,e){var n="Top",r="Right",i="Bottom",o="Left",s=(e<3?[n,r,i,o]:[n+o,n+r,i+r,i+o]).map((function(n){return e<2?t+n:"border"+n+t}));qr[e>1?"border"+t:t]=function(t,e,n,r,i){var o,u;if(arguments.length<4)return o=s.map((function(e){return jr(t,e,n)})),5===(u=o.join(" ")).split(o[0]).length?o[0]:u;o=(r+"").split(" "),u={},s.forEach((function(t,e){return u[t]=o[e]=o[e]||o[(e-1)/2|0]})),t.init(e,u,i)}}));var oi,si,ui={name:"css",register:Sr,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,n,r,i){var o,s,u,a,c,h,f,l,p,d,v,y,m,g,b,_=this._props,w=t.style,E=n.vars.startAt;for(f in Qn||Sr(),e)if("autoRound"!==f&&(s=e[f],!qt[f]||!wn(f,e,n,r,t,i)))if(c=typeof s,h=qr[f],"function"===c&&(c=typeof(s=s.call(n,r,t,i))),"string"===c&&~s.indexOf("random(")&&(s=Ue(s)),h)h(this,t,f,s,n)&&(b=1);else if("--"===f.substr(0,2))o=(getComputedStyle(t).getPropertyValue(f)+"").trim(),s+="",l=ke(o),(p=ke(s))?l!==p&&(o=Lr(t,f,o,p)+p):l&&(s+=l),this.add(w,"setProperty",o,s,r,i,0,0,f);else if("undefined"!==c){if(E&&f in E?(o="function"==typeof E[f]?E[f].call(n,r,t,i):E[f],f in it.units&&!ke(o)&&(o+=it.units[f]),"="===(o+"").charAt(1)&&(o=jr(t,f))):o=jr(t,f),a=parseFloat(o),(d="string"===c&&"="===s.charAt(1)?+(s.charAt(0)+"1"):0)&&(s=s.substr(2)),u=parseFloat(s),f in ar&&("autoAlpha"===f&&(1===a&&"hidden"===jr(t,"visibility")&&u&&(a=0),Pr(this,w,"visibility",a?"inherit":"hidden",u?"inherit":"hidden",!u)),"scale"!==f&&"transform"!==f&&~(f=ar[f]).indexOf(",")&&(f=f.split(",")[0])),v=f in er)if(y||((m=t._gsap).renderTransform&&!e.parseTransform||Qr(t,e.parseTransform),g=!1!==e.smoothOrigin&&m.smooth,(y=this._pt=new Un(this._pt,w,wr,0,1,m.renderTransform,m,0,-1)).dep=1),"scale"===f)this._pt=new Un(this._pt,m,"scaleY",m.scaleY,d?d*u:u-m.scaleY),_.push("scaleY",f),f+="X";else{if("transformOrigin"===f){s=Fr(s),m.svg?Yr(t,s,0,g,0,this):((p=parseFloat(s.split(" ")[2])||0)!==m.zOrigin&&Pr(this,m,"zOrigin",m.zOrigin,p),Pr(this,w,f,Xr(o),Xr(s)));continue}if("svgOrigin"===f){Yr(t,s,1,g,0,this);continue}if(f in Br){ri(this,m,f,a,s,d);continue}if("smoothOrigin"===f){Pr(this,m,"smooth",m.smooth,s);continue}if("force3D"===f){m[f]=s;continue}if("transform"===f){ii(this,s,t);continue}}else f in w||(f=Ar(f)||f);if(v||(u||0===u)&&(a||0===a)&&!ur.test(s)&&f in w)u||(u=0),(l=(o+"").substr((a+"").length))!==(p=ke(s)||(f in it.units?it.units[f]:l))&&(a=Lr(t,f,o,p)),this._pt=new Un(this._pt,v?m:w,f,a,d?d*u:u-a,v||"px"!==p&&"zIndex"!==f||!1===e.autoRound?cr:lr),this._pt.u=p||0,l!==p&&(this._pt.b=o,this._pt.r=fr);else if(f in w)Mr.call(this,t,f,o,s);else{if(!(f in t)){Rt(f,s);continue}this.add(t,f,t[f],s,r,i)}_.push(f)}b&&Fn(this)},get:jr,aliases:ar,getSetter:function(t,e,n){var r=ar[e];return r&&r.indexOf(",")<0&&(e=r),e in er&&e!==Er&&(t._gsap.x||jr(t,"x"))?n&&Wn===n?"scale"===e?gr:mr:(Wn=n||{})&&("scale"===e?br:_r):t.style&&!mt(t.style[e])?vr:~e.indexOf("-")?yr:Dn(t,e)},core:{_removeProperty:Cr,_getMatrix:Hr}};Gn.utils.checkPrefix=Ar,si=Xt("x,y,z,scale,scaleX,scaleY,xPercent,yPercent"+","+(oi="rotation,rotationX,rotationY,skewX,skewY")+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(t){er[t]=1})),Xt(oi,(function(t){it.units[t]="deg",Br[t]=1})),ar[si[13]]="x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+oi,Xt("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(t){var e=t.split(":");ar[e[1]]=si[e[0]]})),Xt("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(t){it.units[t]="px"})),Gn.registerPlugin(ui);var ai=Gn.registerPlugin(ui)||Gn;function ci(t,e,n){const r=t.slice();return r[1]=e[n],r}function hi(t){let n,r,i,o,s,u,f,v=t[1].titre+"",y=0==t[1].ouvert?"+":"-";return{c(){n=l("div"),r=l("p"),i=p(v),o=d(),s=l("div"),u=p(y),f=d(),m(r,"class","option__titre"),m(s,"class","option__ouvert"),m(n,"class","option svelte-2iqji")},m(t,e){c(t,n,e),a(n,r),a(r,i),a(n,o),a(n,s),a(s,u),a(n,f)},p:e,d(t){t&&h(n)}}}function fi(t){let n,r,i,o=t[0],s=[];for(let e=0;e<o.length;e+=1)s[e]=hi(ci(t,o,e));return{c(){n=l("div"),r=l("h1"),r.textContent="QUIPE",i=d();for(let t=0;t<s.length;t+=1)s[t].c();m(r,"id","titrePage"),m(r,"class","svelte-2iqji"),m(n,"class","container svelte-2iqji")},m(t,e){c(t,n,e),a(n,r),a(n,i);for(let t=0;t<s.length;t+=1)s[t].m(n,null)},p(t,[e]){if(1&e){let r;for(o=t[0],r=0;r<o.length;r+=1){const i=ci(t,o,r);s[r]?s[r].p(i,e):(s[r]=hi(i),s[r].c(),s[r].m(n,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=o.length}},i:e,o:e,d(t){t&&h(n),f(s,t)}}}function li(t){return[[{titre:"Conseil d'administration",ouvert:!1},{titre:"Commission de contrle",ouvert:!1},{titre:"Responsables d'Actvit",ouvert:!1},{titre:"Les antennes",ouvert:!1}]]}ai.core.Tween;const pi=class extends H{constructor(t){super(),$(this,t,li,fi,s,{})}};function di(t){let n,r,o,s,u,f,p,v,g,_,w,E,T,I,x,A,S,N,O,k;return{c(){n=l("div"),r=l("div"),r.innerHTML='<h3 class="homeInfo__titre svelte-1fj54jy">QUI SOMMES NOUS?</h3> \n    <span class="homeInfo__separateur svelte-1fj54jy"></span> \n    <p class="homeInfo__texte svelte-1fj54jy"><b><i>Loisir et Solidarit des Retraits de TOULON et du VAR</i></b>\n      est une association loi 1901 dont le but est de permettre aux personnes en\n      pr-retraite ou en retraite de raliser leurs aspirations de loisirs culturels,\n      sportifs. Pour cela nous vous proposons des activits trs diversifies afin\n      d&#39;intresser le plus grand nombre de nos adhrents. Nous nous promettons, galement,\n      d&#39;agir, aussi souvent que cela se peut, par solidarit dans le cadre de la\n      cit et de la nation et de nous opposer  tout ce qui induit ingalits et\n      exclusion, il ne faut pas oublier que notre LSR, toutes les LSR, sont une manation\n      de la CGT . Pour ces raisons nous soutenons toutes les actions qui contribuent\n       amliorer le pouvoir d&#39;achat, la sant, et la protection sociale.</p> \n    <div class="homeInfo__bouton bouton svelte-1fj54jy">NOUS REJOINDRE</div>',o=d(),s=l("div"),s.innerHTML='<h3 class="collegues__titre svelte-1fj54jy">VISITEZ NOS COLLGUES</h3> \n    <span class="collegues__separateur svelte-1fj54jy"></span> \n\n    <table class="collegues__liste svelte-1fj54jy"><tr><td class="collegues__liste__item svelte-1fj54jy"><a target="_blank" href="http://www.lsrfede.fr" class="svelte-1fj54jy">LA FDRATION</a></td> \n        <td class="collegues__liste__item svelte-1fj54jy"><a target="_blank" href="http://www.cda-blog-asso.com/lsr" class="svelte-1fj54jy">LSR DU MORBIHAN</a></td> \n        <td class="collegues__liste__item svelte-1fj54jy"><a target="_blank" href="http://ambro649.free.fr" class="svelte-1fj54jy">LSR AIR FRANCE</a></td></tr> \n\n      <tr><td class="collegues__liste__item svelte-1fj54jy"><a target="_blank" href="http://lsr21dijon.org" class="svelte-1fj54jy">LSR DIJON</a></td> \n        <td class="collegues__liste__item svelte-1fj54jy"><a target="_blank" href="http://www.lsr-ratp.org" class="svelte-1fj54jy">LSR RATP</a></td> \n        <td class="collegues__liste__item svelte-1fj54jy"><a target="_blank" href="http://lsrmarseille.fr/spip.php/accueil/index.html" class="svelte-1fj54jy">LSR MARSEILLE</a></td></tr> \n      <tr><td class="collegues__liste__item svelte-1fj54jy"><p class="svelte-1fj54jy">LSR AUBAGNE</p></td> \n        <td class="collegues__liste__item svelte-1fj54jy"><p class="svelte-1fj54jy">LSR LA CIOTAT</p></td> \n        <td class="collegues__liste__item svelte-1fj54jy"><p class="svelte-1fj54jy">LSR PTT VAR</p></td></tr></table>',u=d(),f=l("ul"),f.innerHTML='<li class="partenaires__image svelte-1fj54jy"><img src="./img/Partenaires/PACA.png" alt="blabla" srcset="" class="svelte-1fj54jy"/></li> \n    <li class="partenaires__image svelte-1fj54jy"><img src="./img/Partenaires/Cadierenne.png" alt="blabla" srcset="" class="svelte-1fj54jy"/></li> \n    <li class="partenaires__image svelte-1fj54jy"><img src="./img/Partenaires/Seyne-sur-mer.png" alt="blabla" srcset="" class="svelte-1fj54jy"/></li> \n    <li class="partenaires__image svelte-1fj54jy"><img src="./img/Partenaires/Solies.png" alt="blabla" srcset="" class="svelte-1fj54jy"/></li>',p=d(),v=l("div"),g=l("div"),_=d(),w=l("div"),E=l("span"),T=d(),I=l("span"),x=d(),A=l("span"),S=d(),N=l("div"),N.innerHTML='<h3 class="actu__titre svelte-1fj54jy">TITRE ACTUALIT</h3> \n      <span class="actu__separateur svelte-1fj54jy"></span> \n      <p class="actu__texte svelte-1fj54jy">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam interdum\n        tincidunt tortor quis lobortis. Nam gravida aliquet diam id ultricies.\n        Nulla gravida metus eget nunc placerat sollicitudin.Maecenas nibh\n        lectus, efficitur a tempor in, porttitor at lacus.</p> \n      <p class="actu__boutonPlus svelte-1fj54jy">EN SAVOIR +</p>',m(r,"class","homeInfo svelte-1fj54jy"),m(s,"class","collegues svelte-1fj54jy"),m(f,"class","partenaires svelte-1fj54jy"),m(g,"class","actu__image svelte-1fj54jy"),m(E,"class","actu__selector__circle svelte-1fj54jy"),b(E,"actu__selector__circle--active",1===t[4]),m(I,"class","actu__selector__circle svelte-1fj54jy"),b(I,"actu__selector__circle--active",2===t[4]),m(A,"class","actu__selector__circle svelte-1fj54jy"),b(A,"actu__selector__circle--active",3===t[4]),m(w,"class","actu__selector svelte-1fj54jy"),m(N,"class","actu__articleContainer svelte-1fj54jy"),m(v,"class","actu svelte-1fj54jy"),m(n,"class","accueilContainer svelte-1fj54jy")},m(e,i){c(e,n,i),a(n,r),t[5](r),a(n,o),a(n,s),t[6](s),a(n,u),a(n,f),t[7](f),a(n,p),a(n,v),a(v,g),a(v,_),a(v,w),a(w,E),a(w,T),a(w,I),a(w,x),a(w,A),a(v,S),a(v,N),t[11](v),O||(k=[y(E,"click",t[8]),y(I,"click",t[9]),y(A,"click",t[10])],O=!0)},p(t,[e]){16&e&&b(E,"actu__selector__circle--active",1===t[4]),16&e&&b(I,"actu__selector__circle--active",2===t[4]),16&e&&b(A,"actu__selector__circle--active",3===t[4])},i:e,o:e,d(e){e&&h(n),t[5](null),t[6](null),t[7](null),t[11](null),O=!1,i(k)}}}function vi(t,e,n){let r,i,o,s;E((()=>{ai.from([r,i,o],{x:-200,opacity:0,duration:.8,ease:tr.easeOut}),ai.from(s,{x:200,opacity:0,duration:.8,ease:tr.easeOut})}));let u=1;return[r,i,o,s,u,function(t){x[t?"unshift":"push"]((()=>{r=t,n(0,r)}))},function(t){x[t?"unshift":"push"]((()=>{i=t,n(1,i)}))},function(t){x[t?"unshift":"push"]((()=>{o=t,n(2,o)}))},()=>n(4,u=1),()=>n(4,u=2),()=>n(4,u=3),function(t){x[t?"unshift":"push"]((()=>{s=t,n(3,s)}))}]}const yi=class extends H{constructor(t){super(),$(this,t,vi,di,s,{})}};function mi(t,e,n){const r=t.slice();return r[0]=e[n],r}function gi(t){let e;return{c(){e=l("li"),e.innerHTML="<p>10-17 OCTOBRE</p> \n          <p>SORTIE  EVIAN</p> \n          <p>ANTENNE</p> \n        ",m(e,"class","svelte-5cz31l")},m(t,n){c(t,e,n)},d(t){t&&h(e)}}}function bi(t){let n,r,i,o,s,u=Array(20),p=[];for(let e=0;e<u.length;e+=1)p[e]=gi(mi(t,u,e));return{c(){n=l("div"),r=l("div"),r.innerHTML="Pour toutes sorties en car les participants doivent verser un acompte, pour\n    frais de dossier, de 20  l&#39;inscription.<br/><br/>\n\n    Cet acompte, qui correspond au cot du transport, ainsi que les 10\n    dassurance ne seront pas rembourss si lannulation se fait moins de 45\n    jours avant le dpart.<br/><br/>\n\n    Les personnes participant aux voyages et non adhrents (famille, amis)\n    doivent signer une decharge<br/><br/>\n\n    Pour des raisons de commodits il n&#39;est plus possible d&#39;attendre les\n    participants au del de 5 minutes.<br/><br/>\n\n    Notre association reoit, de la mairie de Toulon, quelques invitations pour\n    des spectacles  l&#39;opra vu le nombre restreint de places (5 !) attribues\n    il sera tabli un roulement.<br/><br/> \n\n    <b><u>UNIQUEMENT POUR LES TOULONNAIS :</u></b><br/>\n    Il est possible d&#39;obtenir des places individuellement en se prsentant 15 jours\n    avant la date au Service Animation Sniors, 10 place louis Blanc",i=d(),o=l("div"),s=l("ul");for(let t=0;t<p.length;t+=1)p[t].c();m(r,"class","infoPlanningAnnuel svelte-5cz31l"),m(s,"class","activites svelte-5cz31l"),m(o,"class","activitesAnnee svelte-5cz31l"),m(n,"class","container svelte-5cz31l")},m(t,e){c(t,n,e),a(n,r),a(n,i),a(n,o),a(o,s);for(let t=0;t<p.length;t+=1)p[t].m(s,null)},p:e,i:e,o:e,d(t){t&&h(n),f(p,t)}}}const _i=class extends H{constructor(t){super(),$(this,t,null,bi,s,{})}};function wi(t){let n,r,o,s,u,f,v,b,_,w,E,T,I,x;return{c(){n=l("div"),r=l("div"),o=d(),s=l("div"),u=d(),f=l("div"),v=l("p"),b=l("strong"),b.textContent="Activite:",_=d(),w=p(t[0]),E=d(),T=l("div"),m(r,"class","reliefPannel svelte-1wvmuvr"),m(s,"class","backgroundPannel svelte-1wvmuvr"),m(f,"class","textContainer svelte-1wvmuvr"),m(n,"class","detailsPannel svelte-1wvmuvr"),m(T,"class","blurBackground svelte-1wvmuvr")},m(e,i){c(e,n,i),a(n,r),a(n,o),a(n,s),a(n,u),a(n,f),a(f,v),a(v,b),a(v,_),a(v,w),c(e,E,i),c(e,T,i),I||(x=[y(n,"click",t[2]),y(T,"click",t[1])],I=!0)},p(t,[e]){1&e&&g(w,t[0])},i:e,o:e,d(t){t&&h(n),t&&h(E),t&&h(T),I=!1,i(x)}}}function Ei(t,e,n){document.getElementById("darkenScreen").style.visibility="visible";let{typeActivite:r="vebeb"}=e;return t.$$set=t=>{"typeActivite"in t&&n(0,r=t.typeActivite)},[r,function(e){T(t,e)},function(e){T(t,e)}]}const Ti=class extends H{constructor(t){super(),$(this,t,Ei,wi,s,{typeActivite:0})}};function Ii(t,e,n){const r=t.slice();return r[9]=e[n],r}function xi(t,e,n){const r=t.slice();return r[9]=e[n],r}function Ai(t,e,n){const r=t.slice();return r[14]=e[n],r}function Si(t){let e,n,r,i,o,s,u,f=t[2](t[14].data().date)+"",v=t[14].data().nom+"";return{c(){e=l("p"),n=p(f),r=p(" - "),i=p(v),o=d(),m(e,"class","svelte-yt10n8")},m(h,f){c(h,e,f),a(e,n),a(e,r),a(e,i),a(e,o),s||(u=y(e,"click",t[4]),s=!0)},p(t,e){1&e&&f!==(f=t[2](t[14].data().date)+"")&&g(n,f),1&e&&v!==(v=t[14].data().nom+"")&&g(i,v)},d(t){t&&h(e),s=!1,u()}}}function Ni(t){let n,r,i;return{c(){n=l("p"),n.textContent="LUNDI 4 - RANDONE",m(n,"class","svelte-yt10n8")},m(e,o){c(e,n,o),r||(i=y(n,"click",t[5]),r=!0)},p:e,d(t){t&&h(n),r=!1,i()}}}function Oi(t){let n,r,i;return{c(){n=l("p"),n.textContent="LUNDI 4 - RANDONE",m(n,"class","svelte-yt10n8")},m(e,o){c(e,n,o),r||(i=y(n,"click",t[6]),r=!0)},p:e,d(t){t&&h(n),r=!1,i()}}}function ki(t){let n,r;return n=new Ti({props:{typeActivite:"Randonne"}}),n.$on("click",t[7]),{c(){z(n.$$.fragment)},m(t,e){B(n,t,e),r=!0},p:e,i(t){r||(U(n.$$.fragment,t),r=!0)},o(t){q(n.$$.fragment,t),r=!1},d(t){G(n,t)}}}function Di(t){let e,n,r,i,o,s,u,p,y,g,b,_,w,E,T,I=t[0],x=[];for(let e=0;e<I.length;e+=1)x[e]=Si(Ai(t,I,e));let A=Array(7),S=[];for(let e=0;e<A.length;e+=1)S[e]=Ni(xi(t,A,e));let N=Array(7),O=[];for(let e=0;e<N.length;e+=1)O[e]=Oi(Ii(t,N,e));let k=1==t[1]&&ki(t);return{c(){e=l("div"),n=l("div"),r=l("h1"),r.textContent="FVRIER",i=d();for(let t=0;t<x.length;t+=1)x[t].c();o=d(),s=l("div"),u=l("h1"),u.textContent="MARS",p=d();for(let t=0;t<S.length;t+=1)S[t].c();y=d(),g=l("div"),b=l("h1"),b.textContent="AVRIL",_=d();for(let t=0;t<O.length;t+=1)O[t].c();w=d(),k&&k.c(),E=v(),m(r,"class","svelte-yt10n8"),m(n,"class","monthContainer svelte-yt10n8"),m(u,"class","svelte-yt10n8"),m(s,"class","monthContainer svelte-yt10n8"),m(b,"class","svelte-yt10n8"),m(g,"class","monthContainer svelte-yt10n8"),m(e,"class","container svelte-yt10n8")},m(t,h){c(t,e,h),a(e,n),a(n,r),a(n,i);for(let t=0;t<x.length;t+=1)x[t].m(n,null);a(e,o),a(e,s),a(s,u),a(s,p);for(let t=0;t<S.length;t+=1)S[t].m(s,null);a(e,y),a(e,g),a(g,b),a(g,_);for(let t=0;t<O.length;t+=1)O[t].m(g,null);c(t,w,h),k&&k.m(t,h),c(t,E,h),T=!0},p(t,[e]){if(7&e){let r;for(I=t[0],r=0;r<I.length;r+=1){const i=Ai(t,I,r);x[r]?x[r].p(i,e):(x[r]=Si(i),x[r].c(),x[r].m(n,null))}for(;r<x.length;r+=1)x[r].d(1);x.length=I.length}if(2&e){let n;for(A=Array(7),n=0;n<A.length;n+=1){const r=xi(t,A,n);S[n]?S[n].p(r,e):(S[n]=Ni(r),S[n].c(),S[n].m(s,null))}for(;n<S.length;n+=1)S[n].d(1);S.length=A.length}if(2&e){let n;for(N=Array(7),n=0;n<N.length;n+=1){const r=Ii(t,N,n);O[n]?O[n].p(r,e):(O[n]=Oi(r),O[n].c(),O[n].m(g,null))}for(;n<O.length;n+=1)O[n].d(1);O.length=N.length}1==t[1]?k?(k.p(t,e),2&e&&U(k,1)):(k=ki(t),k.c(),U(k,1),k.m(E.parentNode,E)):k&&(V(),q(k,1,1,(()=>{k=null})),F())},i(t){T||(U(k),T=!0)},o(t){q(k),T=!1},d(t){t&&h(e),f(x,t),f(S,t),f(O,t),t&&h(w),k&&k.d(t),t&&h(E)}}}function Ci(t,e,n){let r=[],{db:i}=e;i.collection("activites").onSnapshot((t=>{n(0,r=t.docs)}));let o=new Date;E((()=>{ai.from("monthContainer",{y:50,opacity:0,duration:1.2,stagger:.2})}));let s=!1;return t.$$set=t=>{"db"in t&&n(3,i=t.db)},[r,s,t=>(o.setTime(1e3*t),["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"][o.getDay()]+" "+o.getDate().toString()),i,()=>n(1,s=!0),()=>n(1,s=!0),()=>n(1,s=!0),()=>n(1,s=!1)]}const Pi=class extends H{constructor(t){super(),$(this,t,Ci,Di,s,{db:3})}};var Ri=function(t,e){return(Ri=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function Li(t,e){function n(){this.constructor=t}Ri(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var ji=function(){return(ji=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function Mi(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{a(r.next(t))}catch(t){o(t)}}function u(t){try{a(r.throw(t))}catch(t){o(t)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,u)}a((r=r.apply(t,e||[])).next())}))}function Vi(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}function Fi(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function Ui(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Fi(arguments[e]));return t}function qi(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,u=o.length;s<u;s++,i++)r[i]=o[s];return r}function zi(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=zi(t[n],e[n]));return t}var Bi=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function Gi(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function $i(){try{return"[object process]"===Object.prototype.toString.call(t.g.process)}catch(t){return!1}}var Hi=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,Yi.prototype.create),o}return Li(e,t),e}(Error),Yi=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?Qi(o,r):"Error",u=this.serviceName+": "+s+" ("+i+").",a=new Hi(i,u,r);return a},t}();function Qi(t,e){return t.replace(Xi,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var Xi=/\{\$([^}]+)}/g;function Ki(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Wi(t,e){var n=new Ji(t,e);return n.subscribe.bind(n)}!function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,s,u=this.chain_[0],a=this.chain_[1],c=this.chain_[2],h=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++)r<40?r<20?(o=h^a&(c^h),s=1518500249):(o=a^c^h,s=1859775393):r<60?(o=a&c|h&(a|c),s=2400959708):(o=a^c^h,s=3395469782),i=(u<<5|u>>>27)+o+f+s+n[r]&4294967295,f=h,h=c,c=4294967295&(a<<30|a>>>2),a=u,u=i;this.chain_[0]=this.chain_[0]+u&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t}}();var Ji=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=Zi),void 0===r.error&&(r.error=Zi),void 0===r.complete&&(r.complete=Zi);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function Zi(){}var to,eo=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),no="[DEFAULT]",ro=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=no);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new Bi;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=ji({identifier:no,optional:!1},t),n=e.identifier,r=e.optional,i=this.normalizeInstanceIdentifier(n);try{var o=this.getOrInitializeService(i);if(!o){if(r)return null;throw Error("Service "+this.name+" is not available")}return o}catch(t){if(r)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(no)}catch(t){}try{for(var r=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=Fi(i.value,2),s=o[0],u=o[1],a=this.normalizeInstanceIdentifier(s);try{var c=this.getOrInitializeService(a);u.resolve(c)}catch(t){}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=no),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Mi(this,void 0,void 0,(function(){var t;return Vi(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Ui(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=no),this.instances.has(t)},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===no?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:no:t},t}(),io=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new ro(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();function oo(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,u=o.length;s<u;s++,i++)r[i]=o[s];return r}var so,uo=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(so||(so={}));var ao,co={debug:so.DEBUG,verbose:so.VERBOSE,info:so.INFO,warn:so.WARN,error:so.ERROR,silent:so.SILENT},ho=so.INFO,fo=((to={})[so.DEBUG]="log",to[so.VERBOSE]="log",to[so.INFO]="info",to[so.WARN]="warn",to[so.ERROR]="error",to),lo=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=fo[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,oo(["["+i+"]  "+t.name+":"],n))}},po=function(){function t(t){this.name=t,this._logLevel=ho,this._logHandler=lo,this._userLogHandler=null,uo.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in so))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?co[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,oo([this,so.DEBUG],t)),this._logHandler.apply(this,oo([this,so.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,oo([this,so.VERBOSE],t)),this._logHandler.apply(this,oo([this,so.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,oo([this,so.INFO],t)),this._logHandler.apply(this,oo([this,so.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,oo([this,so.WARN],t)),this._logHandler.apply(this,oo([this,so.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,oo([this,so.ERROR],t)),this._logHandler.apply(this,oo([this,so.ERROR],t))},t}();function vo(t){uo.forEach((function(e){e.setLogLevel(t)}))}var yo,mo=((ao={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",ao["bad-app-name"]="Illegal App name: '{$appName}",ao["duplicate-app"]="Firebase App named '{$appName}' already exists",ao["app-deleted"]="Firebase App named '{$appName}' already deleted",ao["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",ao["invalid-log-argument"]="First argument to `onLog` must be null or a function.",ao),go=new Yi("app","Firebase",mo),bo="@firebase/app",_o="[DEFAULT]",wo=((yo={})[bo]="fire-core",yo["@firebase/analytics"]="fire-analytics",yo["@firebase/auth"]="fire-auth",yo["@firebase/database"]="fire-rtdb",yo["@firebase/functions"]="fire-fn",yo["@firebase/installations"]="fire-iid",yo["@firebase/messaging"]="fire-fcm",yo["@firebase/performance"]="fire-perf",yo["@firebase/remote-config"]="fire-rc",yo["@firebase/storage"]="fire-gcs",yo["@firebase/firestore"]="fire-fst",yo["fire-js"]="fire-js",yo["firebase-wrapper"]="fire-js-all",yo),Eo=new po("@firebase/app"),To=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=zi(void 0,t),this.container=new io(e.name),this._addComponent(new eo("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e=_o),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=_o),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){Eo.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw go.create("app-deleted",{appName:this.name_})},t}();To.prototype.name&&To.prototype.options||To.prototype.delete||console.log("dc");var Io=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=_o);var s=o.name;if("string"!=typeof s||!s)throw go.create("bad-app-name",{appName:String(s)});if(Ki(e,s))throw go.create("duplicate-app",{appName:s});var u=new t(n,o,r);return e[s]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=wo[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),u=e.match(/\s|\//);if(s||u){var a=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&a.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&u&&a.push("and"),u&&a.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void Eo.warn(a.join(" "))}o(new eo(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:vo,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw go.create("invalid-log-argument");!function(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=co[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:so[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=uo;r<i.length;r++)n(i[r])}(t,e)},apps:null,SDK_VERSION:"8.2.9",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!Ki(e,t=t||_o))throw go.create("no-app",{appName:t});return e[t]}function o(o){var s=o.name;if(n.has(s))return Eo.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[s])throw go.create("invalid-app-argument",{appName:s});return t[s]()};void 0!==o.serviceProps&&zi(u,o.serviceProps),r[s]=u,t.prototype[s]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,s).apply(this,o.multipleInstances?t:[])}}for(var a=0,c=Object.keys(e);a<c.length;a++){var h=c[a];e[h]._addComponent(o)}return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(To);return e.INTERNAL=ji(ji({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){zi(e,t)},createSubscribe:Wi,ErrorFactory:Yi,deepExtend:zi}),e}(),xo=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if("object"==typeof self&&self.self===self&&void 0!==self.firebase){Eo.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Ao=self.firebase.SDK_VERSION;Ao&&Ao.indexOf("LITE")>=0&&Eo.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var So=Io.initializeApp;Io.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return $i()&&Eo.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),So.apply(void 0,t)};var No=Io;!function(t,e){t.INTERNAL.registerComponent(new eo("platform-logger",(function(t){return new xo(t)}),"PRIVATE")),t.registerVersion(bo,"0.6.15",void 0),t.registerVersion("fire-js","")}(No);const Oo=No;Oo.registerVersion("firebase","8.2.9","app");var ko=function(t,e){return(ko=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Do(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Co,Po="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t.g?t.g:"undefined"!=typeof self?self:{},Ro=Ro||{},Lo=Po||self;function jo(){}function Mo(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Vo(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Fo="closure_uid_"+(1e9*Math.random()>>>0),Uo=0;function qo(t,e,n){return t.call.apply(t.bind,arguments)}function zo(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Bo(t,e,n){return(Bo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?qo:zo).apply(null,arguments)}function Go(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function $o(){return Date.now()}function Ho(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Yo(){this.j=this.j,this.i=this.i}Yo.prototype.j=!1,Yo.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Fo)&&t[Fo]||(t[Fo]=++Uo)}(this)},Yo.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Qo=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Xo=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Ko(t){return Array.prototype.concat.apply([],arguments)}function Wo(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Jo(t){return/^[\s\xa0]*$/.test(t)}var Zo,ts=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function es(t,e){return-1!=t.indexOf(e)}function ns(t,e){return t<e?-1:t>e?1:0}t:{var rs=Lo.navigator;if(rs){var is=rs.userAgent;if(is){Zo=is;break t}}Zo=""}function os(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function ss(t){var e={};for(var n in t)e[n]=t[n];return e}var us="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function as(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<us.length;o++)n=us[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function cs(t){return cs[" "](t),t}cs[" "]=jo;var hs,fs,ls=es(Zo,"Opera"),ps=es(Zo,"Trident")||es(Zo,"MSIE"),ds=es(Zo,"Edge"),vs=ds||ps,ys=es(Zo,"Gecko")&&!(es(Zo.toLowerCase(),"webkit")&&!es(Zo,"Edge"))&&!(es(Zo,"Trident")||es(Zo,"MSIE"))&&!es(Zo,"Edge"),ms=es(Zo.toLowerCase(),"webkit")&&!es(Zo,"Edge");function gs(){var t=Lo.document;return t?t.documentMode:void 0}t:{var bs="",_s=(fs=Zo,ys?/rv:([^\);]+)(\)|;)/.exec(fs):ds?/Edge\/([\d\.]+)/.exec(fs):ps?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(fs):ms?/WebKit\/(\S+)/.exec(fs):ls?/(?:Version)[ \/]?(\S+)/.exec(fs):void 0);if(_s&&(bs=_s?_s[1]:""),ps){var ws=gs();if(null!=ws&&ws>parseFloat(bs)){hs=String(ws);break t}}hs=bs}var Es,Ts={};function Is(t){return function(t,e){var n=Ts;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=ts(String(hs)).split("."),r=ts(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",u=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==s[0].length&&0==u[0].length)break;e=ns(0==s[1].length?0:parseInt(s[1],10),0==u[1].length?0:parseInt(u[1],10))||ns(0==s[2].length,0==u[2].length)||ns(s[2],u[2]),s=s[3],u=u[3]}while(0==e)}return 0<=e}))}Lo.document&&ps?Es=gs()||parseInt(hs,10)||void 0:Es=void 0;var xs=Es,As=!ps||9<=Number(xs),Ss=ps&&!Is("9"),Ns=function(){if(!Lo.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Lo.addEventListener("test",jo,e),Lo.removeEventListener("test",jo,e)}catch(t){}return t}();function Os(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function ks(t,e){if(Os.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(ys){t:{try{cs(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ds[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Os.prototype.b=function(){this.defaultPrevented=!0},Ho(ks,Os);var Ds={2:"touch",3:"pen",4:"mouse"};ks.prototype.b=function(){ks.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ss)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var Cs="closure_listenable_"+(1e6*Math.random()|0),Ps=0;function Rs(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Ps,this.Y=this.Z=!1}function Ls(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function js(t){this.src=t,this.a={},this.b=0}function Ms(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Qo(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Ls(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Vs(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}js.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=Vs(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new Rs(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Fs="closure_lm_"+(1e6*Math.random()|0),Us={};function qs(t,e,n,r,i){if(r&&r.once)return Bs(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)qs(t,e[o],n,r,i);return null}return n=Ws(n),t&&t[Cs]?t.va(e,n,Vo(r)?!!r.capture:!!r,i):zs(t,e,n,!1,r,i)}function zs(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Vo(i)?!!i.capture:!!i;if(s&&!As)return null;var u=Xs(t);if(u||(t[Fs]=u=new js(t)),(n=u.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Qs,e=As?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ns||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Hs(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Bs(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Bs(t,e[o],n,r,i);return null}return n=Ws(n),t&&t[Cs]?t.wa(e,n,Vo(r)?!!r.capture:!!r,i):zs(t,e,n,!0,r,i)}function Gs(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Gs(t,e[o],n,r,i);else r=Vo(r)?!!r.capture:!!r,n=Ws(n),t&&t[Cs]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=Vs(o=t.a[e],n,r,i))&&(Ls(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=Xs(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Vs(e,n,r,i)),(n=-1<t?e[t]:null)&&$s(n))}function $s(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Cs])Ms(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Hs(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Xs(e))?(Ms(n,t),0==n.b&&(n.src=null,e[Fs]=null)):Ls(t)}}}function Hs(t){return t in Us?Us[t]:Us[t]="on"+t}function Ys(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&$s(t),n.call(r,e)}function Qs(t,e){if(t.Y)return!0;if(!As){if(!e)t:{e=["window","event"];for(var n=Lo,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Ys(t,e=new ks(e,this))}return Ys(t,new ks(e,this))}function Xs(t){return(t=t[Fs])instanceof js?t:null}var Ks="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ws(t){return"function"==typeof t?t:(t[Ks]||(t[Ks]=function(e){return t.handleEvent(e)}),t[Ks])}function Js(){Yo.call(this),this.c=new js(this),this.J=this,this.C=null}function Zs(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Os(e,t);else if(e instanceof Os)e.target=e.target||t;else{var i=e;as(e=new Os(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=tu(s,r,!0,e)&&i}if(i=tu(s=e.a=t,r,!0,e)&&i,i=tu(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=tu(s=e.a=n[o],r,!1,e)&&i}function tu(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var u=s.listener,a=s.ca||s.src;s.Z&&Ms(t.c,s),i=!1!==u.call(a,r)&&i}}return i&&!r.defaultPrevented}Ho(Js,Yo),Js.prototype[Cs]=!0,(Co=Js.prototype).addEventListener=function(t,e,n,r){qs(this,t,e,n,r)},Co.removeEventListener=function(t,e,n,r){Gs(this,t,e,n,r)},Co.G=function(){if(Js.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Ls(n[r]);delete e.a[t],e.b--}}this.C=null},Co.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Co.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var eu=Lo.JSON.stringify;function nu(){this.b=this.a=null}var ru,iu=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())((function(){return new su}),(function(t){t.reset()}));function ou(){var t=hu,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function su(){this.next=this.b=this.a=null}function uu(t){Lo.setTimeout((function(){throw t}),0)}function au(t,e){ru||function(){var t=Lo.Promise.resolve(void 0);ru=function(){t.then(fu)}}(),cu||(ru(),cu=!0),hu.add(t,e)}nu.prototype.add=function(t,e){var n=iu.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},su.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},su.prototype.reset=function(){this.next=this.b=this.a=null};var cu=!1,hu=new nu;function fu(){for(var t;t=ou();){try{t.a.call(t.b)}catch(t){uu(t)}var e=iu;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}cu=!1}function lu(t,e){Js.call(this),this.b=t||1,this.a=e||Lo,this.f=Bo(this.Za,this),this.g=$o()}function pu(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function du(t,e,n){if("function"==typeof t)n&&(t=Bo(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Bo(t.handleEvent,t)}return 2147483647<Number(e)?-1:Lo.setTimeout(t,e||0)}function vu(t){t.a=du((function(){t.a=null,t.c&&(t.c=!1,vu(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Ho(lu,Js),(Co=lu.prototype).aa=!1,Co.M=null,Co.Za=function(){if(this.aa){var t=$o()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Zs(this,"tick"),this.aa&&(pu(this),this.start()))}},Co.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=$o())},Co.G=function(){lu.X.G.call(this),pu(this),delete this.a};var yu=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}ko(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:vu(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Lo.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Yo);function mu(t){Yo.call(this),this.b=t,this.a={}}Ho(mu,Yo);var gu=[];function bu(t,e,n,r){Array.isArray(n)||(n&&(gu[0]=n.toString()),n=gu);for(var i=0;i<n.length;i++){var o=qs(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function _u(t){os(t.a,(function(t,e){this.a.hasOwnProperty(e)&&$s(t)}),t),t.a={}}function wu(){this.a=!0}function Eu(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return eu(n)}catch(t){return e}}(t,n)+(r?" "+r:"")}))}mu.prototype.G=function(){mu.X.G.call(this),_u(this)},mu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},wu.prototype.info=function(){};var Tu={},Iu=null;function xu(){return Iu=Iu||new Js}function Au(t){Os.call(this,Tu.Fa,t)}function Su(t){var e=xu();Zs(e,new Au(e,t))}function Nu(t,e){Os.call(this,Tu.STAT_EVENT,t),this.stat=e}function Ou(t){var e=xu();Zs(e,new Nu(e,t))}function ku(t){Os.call(this,Tu.Ga,t)}function Du(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Lo.setTimeout((function(){t()}),e)}Tu.Fa="serverreachability",Ho(Au,Os),Tu.STAT_EVENT="statevent",Ho(Nu,Os),Tu.Ga="timingevent",Ho(ku,Os);var Cu={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Pu={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Ru(){}function Lu(t){var e;return(e=t.a)||(e=t.a={}),e}function ju(){}Ru.prototype.a=null;var Mu,Vu={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Fu(){Os.call(this,"d")}function Uu(){Os.call(this,"c")}function qu(){}function zu(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new mu(this),this.P=Bu,t=vs?125:void 0,this.R=new lu(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Ho(Fu,Os),Ho(Uu,Os),Ho(qu,Ru),Mu=new qu;var Bu=45e3,Gu={},$u={};function Hu(t,e,n){t.H=1,t.i=da(aa(e)),t.j=n,t.I=!0,Yu(t,null)}function Yu(t,e){t.u=$o(),Ku(t),t.l=aa(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Sa(n.b,"t",r),t.D=0,t.a=wc(t.g,t.g.C?e:null),0<t.O&&(t.F=new yu(Bo(t.Ca,t,t.a),t.O)),bu(t.J,t.a,"readystatechange",t.Xa),e=t.B?ss(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Su(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var s="",u=o.split("&"),a=0;a<u.length;a++){var c=u[a].split("=");if(1<c.length){var h=c[0];c=c[1];var f=h.split("_");s=2<=f.length&&"type"==f[1]?s+(h+"=")+c+"&":s+(h+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function Qu(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Xu(t,n);if(i==$u){4==e&&(t.h=4,Ou(14),r=!1),Eu(t.c,t.f,null,"[Incomplete Response]");break}if(i==Gu){t.h=4,Ou(15),Eu(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Eu(t.c,t.f,i,null),ea(t,i)}4==e&&0==n.length&&(t.h=1,Ou(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),pc(e),e.F=!0,Ou(11))):(Eu(t.c,t.f,n,"[Invalid Chunked Response]"),ta(t),Zu(t))}function Xu(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?$u:(n=Number(e.substring(n,r)),isNaN(n)?Gu:(r+=1)+n>e.length?$u:(e=e.substr(r,n),t.D=r+n,e))}function Ku(t){t.T=$o()+t.P,Wu(t,t.P)}function Wu(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Du(Bo(t.Va,t),e)}function Ju(t){t.o&&(Lo.clearTimeout(t.o),t.o=null)}function Zu(t){0==t.g.v||t.A||yc(t.g,t)}function ta(t){Ju(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,pu(t.R),_u(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function ea(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Ra(n.b,t)))if(n.I=t.N,!t.C&&Ra(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(t){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;vc(n),ic(n)}lc(n),Ou(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Du(Bo(n.Sa,n),6e3));if(1>=Pa(n.b)&&n.ea){try{n.ea()}catch(t){}n.ea=void 0}}else gc(n,11)}else if((t.C||n.a==t)&&vc(n),!Jo(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var u=i[5];if(null!=u&&"number"==typeof u&&0<u){var a=1.5*u;n.D=a,n.c.info("backChannelRequestTimeoutMs_="+a)}a=n;var c=t.a;if(c){var h=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(h){var f=a.b;!f.a&&(es(h,"spdy")||es(h,"quic")||es(h,"h2"))&&(f.f=f.g,f.a=new Set,f.b&&(La(f,f.b),f.b=null))}if(a.A){var l=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;l&&(a.na=l,pa(a.B,a.A,l))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=$o()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var p=t;if((a=n).la=_c(a,a.C?a.ga:null,a.fa),p.C){ja(a.b,p);var d=p,v=a.D;v&&d.setTimeout(v),d.o&&(Ju(d),Ku(d)),a.a=p}else fc(a);0<n.g.length&&uc(n)}else"stop"!=i[0]&&"close"!=i[0]||gc(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?gc(n,7):rc(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Su(4)}catch(t){}}function na(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Mo(t)||"string"==typeof t)Xo(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Mo(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Mo(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function ra(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof ra)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function ia(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];oa(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)oa(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function oa(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Co=zu.prototype).setTimeout=function(t){this.P=t},Co.Xa=function(t){t=t.target;var e=this.F;e&&3==Za(t)?e.f():this.Ca(t)},Co.Ca=function(t){try{if(t==this.a)t:{var e=Za(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!vs&&!this.a.$())){this.A||4!=e||7==n||Su(8==n||0>=r?3:2),Ju(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,u=this.a;if((s=u.a?u.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Jo(s)){var a=s;break e}}a=null}if(!a){this.b=!1,this.h=3,Ou(12),ta(this),Zu(this);break t}Eu(this.c,this.f,a,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,ea(this,a)}this.I?(Qu(this,e,o),vs&&this.b&&3==e&&(bu(this.J,this.R,"tick",this.Wa),this.R.start())):(Eu(this.c,this.f,o,null),ea(this,o)),4==e&&ta(this),this.b&&!this.A&&(4==e?yc(this.g,this):(this.b=!1,Ku(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Ou(12)):(this.h=0,Ou(13)),ta(this),Zu(this)}}}catch(t){}},Co.Wa=function(){if(this.a){var t=Za(this.a),e=this.a.$();this.D<e.length&&(Ju(this),Qu(this,t,e),this.b&&4!=t&&Ku(this))}},Co.cancel=function(){this.A=!0,ta(this)},Co.Va=function(){this.o=null;var t=$o();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(Su(3),Ou(17)),ta(this),this.h=2,Zu(this)):Wu(this,this.T-t)},(Co=ra.prototype).K=function(){ia(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Co.L=function(){return ia(this),this.a.concat()},Co.get=function(t,e){return oa(this.b,t)?this.b[t]:e},Co.set=function(t,e){oa(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Co.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var sa=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ua(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof ua){this.a=void 0!==e?e:t.a,ca(this,t.f),this.j=t.j,ha(this,t.c),fa(this,t.h),this.g=t.g,e=t.b;var n=new Ta;n.c=e.c,e.a&&(n.a=new ra(e.a),n.b=e.b),la(this,n),this.i=t.i}else t&&(n=String(t).match(sa))?(this.a=!!e,ca(this,n[1]||"",!0),this.j=va(n[2]||""),ha(this,n[3]||"",!0),fa(this,n[4]),this.g=va(n[5]||"",!0),la(this,n[6]||"",!0),this.i=va(n[7]||"")):(this.a=!!e,this.b=new Ta(null,this.a))}function aa(t){return new ua(t)}function ca(t,e,n){t.f=n?va(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function ha(t,e,n){t.c=n?va(e,!0):e}function fa(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function la(t,e,n){e instanceof Ta?(t.b=e,function(t,e){e&&!t.f&&(Ia(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(xa(this,e),Sa(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=ya(e,wa)),t.b=new Ta(e,t.a))}function pa(t,e,n){t.b.set(e,n)}function da(t){return pa(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^$o()).toString(36)),t}function va(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ya(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,ma),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ma(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ua.prototype.toString=function(){var t=[],e=this.f;e&&t.push(ya(e,ga,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(ya(e,ga,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(ya(n,"/"==n.charAt(0)?_a:ba,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",ya(n,Ea)),t.join("")};var ga=/[#\/\?@]/g,ba=/[#\?:]/g,_a=/[#\?]/g,wa=/[#\?@]/g,Ea=/#/g;function Ta(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Ia(t){t.a||(t.a=new ra,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function xa(t,e){Ia(t),e=Na(t,e),oa(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,oa((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&ia(t)))}function Aa(t,e){return Ia(t),e=Na(t,e),oa(t.a.b,e)}function Sa(t,e,n){xa(t,e),0<n.length&&(t.c=null,t.a.set(Na(t,e),Wo(n)),t.b+=n.length)}function Na(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Co=Ta.prototype).add=function(t,e){Ia(this),this.c=null,t=Na(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Co.forEach=function(t,e){Ia(this),this.a.forEach((function(n,r){Xo(n,(function(n){t.call(e,n,r,this)}),this)}),this)},Co.L=function(){Ia(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Co.K=function(t){Ia(this);var e=[];if("string"==typeof t)Aa(this,t)&&(e=Ko(e,this.a.get(Na(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Ko(e,t[n])}return e},Co.set=function(t,e){return Ia(this),this.c=null,Aa(this,t=Na(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Co.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Co.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var Oa=function(t,e){this.b=t,this.a=e};function ka(t){this.g=t||Da,t=Lo.PerformanceNavigationTiming?0<(t=Lo.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Lo.ia&&Lo.ia.ya&&Lo.ia.ya()&&Lo.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Da=10;function Ca(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Pa(t){return t.b?1:t.a?t.a.size:0}function Ra(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function La(t,e){t.a?t.a.add(e):t.b=e}function ja(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Ma(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Do(t.a.values()),o=i.next();!o.done;o=i.next()){var s=o.value;r=r.concat(s.s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Wo(t.c)}function Va(){}function Fa(){this.a=new Va}function Ua(t,e,n){var r=n||"";try{na(t,(function(t,n){var i=t;Vo(t)&&(i=eu(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}function qa(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}ka.prototype.cancel=function(){var t,e;if(this.c=Ma(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Do(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Va.prototype.stringify=function(t){return Lo.JSON.stringify(t,void 0)},Va.prototype.parse=function(t){return Lo.JSON.parse(t,void 0)};var za=Lo.JSON.parse;function Ba(t){Js.call(this),this.headers=new ra,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Ga,this.D=this.F=!1}Ho(Ba,Js);var Ga="",$a=/^https?$/i,Ha=["POST","PUT"];function Ya(t){return"content-type"==t.toLowerCase()}function Qa(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Xa(t),Wa(t)}function Xa(t){t.u||(t.u=!0,Zs(t,"complete"),Zs(t,"error"))}function Ka(t){if(t.b&&void 0!==Ro&&(!t.s[1]||4!=Za(t)||2!=t.W()))if(t.l&&4==Za(t))du(t.za,0,t);else if(Zs(t,"readystatechange"),4==Za(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(sa)[1]||null;if(!o&&Lo.self&&Lo.self.location){var s=Lo.self.location.protocol;o=s.substr(0,s.length-1)}i=!$a.test(o?o.toLowerCase():"")}e=i}if(e)Zs(t,"complete"),Zs(t,"success");else{t.h=6;try{var u=2<Za(t)?t.a.statusText:""}catch(n){u=""}t.f=u+" ["+t.W()+"]",Xa(t)}}finally{Wa(t)}}}function Wa(t,e){if(t.a){Ja(t);var n=t.a,r=t.s[0]?jo:null;t.a=null,t.s=null,e||Zs(t,"ready");try{n.onreadystatechange=r}catch(t){}}}function Ja(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Lo.clearTimeout(t.m),t.m=null)}function Za(t){return t.a?t.a.readyState:0}function tc(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return os(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):pa(t,e,n))}function ec(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function nc(t){this.pa=0,this.g=[],this.c=new wu,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=ec("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=ec("baseRetryDelayMs",5e3,t),this.Ra=ec("retryDelaySeedMs",1e4,t),this.Ma=ec("forwardChannelMaxRetries",2,t),this.ma=ec("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new ka(t&&t.concurrentRequestLimit),this.ka=new Fa,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function rc(t){if(oc(t),3==t.v){var e=t.R++,n=aa(t.B);pa(n,"SID",t.J),pa(n,"RID",e),pa(n,"TYPE","terminate"),cc(t,n),(e=new zu(t,t.c,e,void 0)).H=2,e.i=da(aa(n)),n=!1,Lo.navigator&&Lo.navigator.sendBeacon&&(n=Lo.navigator.sendBeacon(e.i.toString(),"")),!n&&Lo.Image&&((new Image).src=e.i,n=!0),n||(e.a=wc(e.g,null),e.a.ba(e.i)),e.u=$o(),Ku(e)}bc(t)}function ic(t){t.a&&(pc(t),t.a.cancel(),t.a=null)}function oc(t){ic(t),t.j&&(Lo.clearTimeout(t.j),t.j=null),vc(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Lo.clearTimeout(t.h),t.h=null)}function sc(t,e){t.g.push(new Oa(t.Oa++,e)),3==t.v&&uc(t)}function uc(t){Ca(t.b)||t.h||(t.h=!0,au(t.Ba,t),t.u=0)}function ac(t,e){var n;n=e?e.f:t.R++;var r=aa(t.B);pa(r,"SID",t.J),pa(r,"RID",n),pa(r,"AID",t.P),cc(t,r),t.i&&t.l&&tc(r,t.i,t.l),n=new zu(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=hc(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),La(t.b,n),Hu(n,r,e)}function cc(t,e){t.f&&na({},(function(t,n){pa(e,n,t)}))}function hc(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Bo(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?(o=i[0].b,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var u=!0,a=0;a<n;a++){var c=i[a].b,h=i[a].a;if(0>(c-=o))o=Math.max(0,i[a].b-100),u=!1;else try{Ua(h,s,"req"+c+"_")}catch(t){r&&r(h)}}if(u){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function fc(t){t.a||t.j||(t.T=1,au(t.Aa,t),t.o=0)}function lc(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Du(Bo(t.Aa,t),mc(t,t.o)),t.o++,0))}function pc(t){null!=t.s&&(Lo.clearTimeout(t.s),t.s=null)}function dc(t){t.a=new zu(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=aa(t.la);pa(e,"RID","rpc"),pa(e,"SID",t.J),pa(e,"CI",t.H?"0":"1"),pa(e,"AID",t.P),cc(t,e),pa(e,"TYPE","xmlhttp"),t.i&&t.l&&tc(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=da(aa(e)),n.j=null,n.I=!0,Yu(n,t)}function vc(t){null!=t.m&&(Lo.clearTimeout(t.m),t.m=null)}function yc(t,e){var n=null;if(t.a==e){vc(t),pc(t),t.a=null;var r=2}else{if(!Ra(t.b,e))return;n=e.s,ja(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=$o()-e.u;var i=t.u;Zs(r=xu(),new ku(r,n,e,i)),uc(t)}else fc(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Pa(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Du(Bo(t.Ba,t,e),mc(t,t.u)),t.u++,0)))}(t,e)||2==r&&lc(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:gc(t,5);break;case 4:gc(t,10);break;case 3:gc(t,6);break;default:gc(t,2)}}function mc(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function gc(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Bo(t.Ya,t);n||(n=new ua("//www.google.com/images/cleardot.gif"),Lo.location&&"http"==Lo.location.protocol||ca(n,"https"),da(n)),function(t,e){var n=new wu;if(Lo.Image){var r=new Image;r.onload=Go(qa,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Go(qa,n,r,"TestLoadImage: error",!1,e),r.onabort=Go(qa,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Go(qa,n,r,"TestLoadImage: timeout",!1,e),Lo.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Ou(2);t.v=0,t.f&&t.f.ra(e),bc(t),oc(t)}function bc(t){t.v=0,t.I=-1,t.f&&(0==Ma(t.b).length&&0==t.g.length||(t.b.c.length=0,Wo(t.g),t.g.length=0),t.f.qa())}function _c(t,e,n){var r=function(t){return t instanceof ua?aa(t):new ua(t,void 0)}(n);if(""!=r.c)e&&ha(r,e+"."+r.c),fa(r,r.h);else{var i=Lo.location;r=function(t,e,n,r){var i=new ua(null,void 0);return t&&ca(i,t),e&&ha(i,e),n&&fa(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&os(t.V,(function(t,e){pa(r,e,t)})),e=t.A,n=t.na,e&&n&&pa(r,e,n),pa(r,"VER",t.ha),cc(t,r),r}function wc(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ba(t.Na)).F=t.C,e}function Ec(){}function Tc(){if(ps&&!(10<=Number(xs)))throw Error("Environmental error: no available transport.")}function Ic(t,e){Js.call(this),this.a=new nc(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Jo(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Jo(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Sc(this)}function xc(t){Fu.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Ac(){Uu.call(this),this.status=1}function Sc(t){this.a=t}(Co=Ba.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?Lu(this.H):Lu(Mu),this.a.onreadystatechange=Bo(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(t){return void Qa(this,t)}t=n||"";var i=new ra(this.headers);r&&na(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Ya,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Lo.FormData&&t instanceof Lo.FormData,!(0<=Qo(Ha,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Ja(this),0<this.o&&((this.D=function(t){return ps&&Is(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Bo(this.xa,this)):this.m=du(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){Qa(this,t)}},Co.xa=function(){void 0!==Ro&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Zs(this,"timeout"),this.abort(8))},Co.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Zs(this,"complete"),Zs(this,"abort"),Wa(this))},Co.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Wa(this,!0)),Ba.X.G.call(this)},Co.za=function(){this.j||(this.A||this.l||this.g?Ka(this):this.Ua())},Co.Ua=function(){Ka(this)},Co.W=function(){try{return 2<Za(this)?this.a.status:-1}catch(t){return-1}},Co.$=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},Co.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),za(e)}},Co.ua=function(){return this.h},Co.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Co=nc.prototype).ha=8,Co.v=1,Co.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new zu(this,this.c,t,void 0),r=this.l;if(this.O&&(r?as(r=ss(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=hc(this,n,e),pa(i=aa(this.B),"RID",t),pa(i,"CVER",22),this.A&&pa(i,"X-HTTP-Session-Id",this.A),cc(this,i),this.i&&r&&tc(i,this.i,r),La(this.b,n),this.Ia&&pa(i,"TYPE","init"),this.da?(pa(i,"$req",e),pa(i,"SID","null"),n.U=!0,Hu(n,i,null)):Hu(n,i,e),this.v=2}}else 3==this.v&&(t?ac(this,t):0==this.g.length||Ca(this.b)||ac(this))},Co.Aa=function(){if(this.j=null,dc(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Du(Bo(this.Ta,this),t)}},Co.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Ou(10),ic(this),dc(this))},Co.Sa=function(){null!=this.m&&(this.m=null,ic(this),lc(this),Ou(19))},Co.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Ou(2)):(this.c.info("Failed to ping google.com"),Ou(1))},(Co=Ec.prototype).ta=function(){},Co.sa=function(){},Co.ra=function(){},Co.qa=function(){},Co.Ja=function(){},Tc.prototype.a=function(t,e){return new Ic(t,e)},Ho(Ic,Js),Ic.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Ou(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=_c(t,null,t.fa),uc(t)},Ic.prototype.close=function(){rc(this.a)},Ic.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,sc(this.a,e)}else this.l?((e={}).__data__=eu(t),sc(this.a,e)):sc(this.a,t)},Ic.prototype.G=function(){this.a.f=null,delete this.f,rc(this.a),delete this.a,Ic.X.G.call(this)},Ho(xc,Fu),Ho(Ac,Uu),Ho(Sc,Ec),Sc.prototype.ta=function(){Zs(this.a,"a")},Sc.prototype.sa=function(t){Zs(this.a,new xc(t))},Sc.prototype.ra=function(t){Zs(this.a,new Ac(t))},Sc.prototype.qa=function(){Zs(this.a,"b")},Tc.prototype.createWebChannel=Tc.prototype.a,Ic.prototype.send=Ic.prototype.h,Ic.prototype.open=Ic.prototype.g,Ic.prototype.close=Ic.prototype.close,Cu.NO_ERROR=0,Cu.TIMEOUT=8,Cu.HTTP_ERROR=6,Pu.COMPLETE="complete",ju.EventType=Vu,Vu.OPEN="a",Vu.CLOSE="b",Vu.ERROR="c",Vu.MESSAGE="d",Js.prototype.listen=Js.prototype.va,Ba.prototype.listenOnce=Ba.prototype.wa,Ba.prototype.getLastError=Ba.prototype.Qa,Ba.prototype.getLastErrorCode=Ba.prototype.ua,Ba.prototype.getStatus=Ba.prototype.W,Ba.prototype.getResponseJson=Ba.prototype.Pa,Ba.prototype.getResponseText=Ba.prototype.$,Ba.prototype.send=Ba.prototype.ba;var Nc=Cu,Oc=Pu,kc=Tu,Dc=10,Cc=11,Pc=ju,Rc=Ba,Lc=function(t,e,n,r,i,o){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=o},jc=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Mc=new po("@firebase/firestore");function Vc(){return Mc.logLevel}function Fc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Mc.logLevel<=so.DEBUG){var r=e.map(zc);Mc.debug.apply(Mc,qi(["Firestore (8.2.9): "+t],r))}}function Uc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Mc.logLevel<=so.ERROR){var r=e.map(zc);Mc.error.apply(Mc,qi(["Firestore (8.2.9): "+t],r))}}function qc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Mc.logLevel<=so.WARN){var r=e.map(zc);Mc.warn.apply(Mc,qi(["Firestore (8.2.9): "+t],r))}}function zc(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}function Bc(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.9) INTERNAL ASSERTION FAILED: "+t;throw Uc(e),new Error(e)}function Gc(t,e){t||Bc()}function $c(t,e){return t}function Hc(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Yc=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Hc(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Qc(t,e){return t<e?-1:t>e?1:0}function Xc(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Kc(t){return t+"\0"}var Wc=function(){function t(t){this.h=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.h,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.h)},t.prototype.l=function(){return 2*this.h.length},t.prototype._=function(t){return Qc(this.h,t.h)},t.prototype.isEqual=function(t){return this.h===t.h},t}();Wc.T=new Wc("");var Jc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Zc=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Li(e,t),e}(Error),th=function(){function t(t){this.I=t}return t.fromBase64String=function(e){try{return new t(Wc.fromBase64String(e))}catch(e){throw new Zc(Jc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Wc.fromUint8Array(e))},t.prototype.toBase64=function(){return this.I.toBase64()},t.prototype.toUint8Array=function(){return this.I.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.I.isEqual(t.I)},t}(),eh=function(){function t(t){this.uid=t}return t.prototype.m=function(){return null!=this.uid},t.prototype.A=function(){return this.m()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();eh.UNAUTHENTICATED=new eh(null),eh.R=new eh("google-credentials-uid"),eh.P=new eh("first-party-uid");var nh=function(t,e){this.user=e,this.type="OAuth",this.g={},this.g.Authorization="Bearer "+t},rh=function(){function t(){this.V=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.p=function(){},t.prototype.v=function(t){this.V=t,t(eh.UNAUTHENTICATED)},t.prototype.S=function(){this.V=null},t}(),ih=function(){function t(t){var e=this;this.D=null,this.currentUser=eh.UNAUTHENTICATED,this.C=!1,this.N=0,this.V=null,this.forceRefresh=!1,this.D=function(){e.N++,e.currentUser=e.$(),e.C=!0,e.V&&e.V(e.currentUser)},this.N=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.D):(this.D(null),t.get().then((function(t){e.auth=t,e.D&&e.auth.addAuthTokenListener(e.D)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.N,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.N!==e?(Fc("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Gc("string"==typeof n.accessToken),new nh(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.p=function(){this.forceRefresh=!0},t.prototype.v=function(t){this.V=t,this.C&&t(this.currentUser)},t.prototype.S=function(){this.auth&&this.auth.removeAuthTokenListener(this.D),this.D=null,this.V=null},t.prototype.$=function(){var t=this.auth&&this.auth.getUid();return Gc(null===t||"string"==typeof t),new eh(t)},t}(),oh=function(){function t(t,e){this.F=t,this.O=e,this.type="FirstParty",this.user=eh.P}return Object.defineProperty(t.prototype,"g",{get:function(){var t={"X-Goog-AuthUser":this.O},e=this.F.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),sh=function(){function t(t,e){this.F=t,this.O=e}return t.prototype.getToken=function(){return Promise.resolve(new oh(this.F,this.O))},t.prototype.v=function(t){t(eh.P)},t.prototype.S=function(){},t.prototype.p=function(){},t}(),uh=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.k=function(t){return n.M(t)},this.L=function(t){return e.B(t)})}return t.prototype.M=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.L&&this.L(t),t},t}();uh.q=-1;var ah=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Zc(Jc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Zc(Jc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Zc(Jc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Zc(Jc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.U=function(t){return this.seconds===t.seconds?Qc(this.nanoseconds,t.nanoseconds):Qc(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),ch=function(){function t(t){this.timestamp=t}return t.K=function(e){return new t(e)},t.min=function(){return new t(new ah(0,0))},t.prototype._=function(t){return this.timestamp.U(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.W=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.j=function(){return this.timestamp},t}(),hh=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Bc(),void 0===n?n=t.length-e:n>t.length-e&&Bc(),this.segments=t,this.offset=e,this.G=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.G},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.H(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.J(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.Y=function(t){return t=void 0===t?1:t,this.J(this.segments,this.offset+t,this.length-t)},t.prototype.X=function(){return this.J(this.segments,this.offset,this.length-1)},t.prototype.Z=function(){return this.segments[this.offset]},t.prototype.tt=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.et=function(){return 0===this.length},t.prototype.nt=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.st=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.it=function(){return this.segments.slice(this.offset,this.limit())},t.H=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),fh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Li(e,t),e.prototype.J=function(t,n,r){return new e(t,n,r)},e.prototype.rt=function(){return this.it().join("/")},e.prototype.toString=function(){return this.rt()},e.ot=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new Zc(Jc.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.ct=function(){return new e([])},e}(hh),lh=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ph=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Li(e,t),e.prototype.J=function(t,n,r){return new e(t,n,r)},e.at=function(t){return lh.test(t)},e.prototype.rt=function(){return this.it().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.at(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.rt()},e.prototype.ut=function(){return 1===this.length&&"__name__"===this.get(0)},e.ht=function(){return new e(["__name__"])},e.lt=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Zc(Jc.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var u=t[i];if("\\"===u){if(i+1===t.length)throw new Zc(Jc.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var a=t[i+1];if("\\"!==a&&"."!==a&&"`"!==a)throw new Zc(Jc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=a,i+=2}else"`"===u?(s=!s,i++):"."!==u||s?(r+=u,i++):(o(),i++)}if(o(),s)throw new Zc(Jc.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.ct=function(){return new e([])},e}(hh),dh=function(){function t(t){this.path=t}return t._t=function(e){return new t(fh.ot(e))},t.ft=function(e){return new t(fh.ot(e).Y(5))},t.prototype.dt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===fh.H(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.H=function(t,e){return fh.H(t.path,e.path)},t.wt=function(t){return t.length%2==0},t.Et=function(e){return new t(new fh(e.slice()))},t}();function vh(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function yh(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function mh(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var gh=function(){function t(t){this.fields=t,t.sort(ph.H)}return t.prototype.Tt=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].nt(t))return!0;return!1},t.prototype.isEqual=function(t){return Xc(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),bh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _h(t){if(Gc(!!t),"string"==typeof t){var e=0,n=bh.exec(t);if(Gc(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:wh(t.seconds),nanos:wh(t.nanos)}}function wh(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Eh(t){return"string"==typeof t?Wc.fromBase64String(t):Wc.fromUint8Array(t)}function Th(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ih(t){var e=t.mapValue.fields.__previous_value__;return Th(e)?Ih(e):e}function xh(t){var e=_h(t.mapValue.fields.__local_write_time__.timestampValue);return new ah(e.seconds,e.nanos)}function Ah(t){return null==t}function Sh(t){return 0===t&&1/t==-1/0}function Nh(t){return"number"==typeof t&&Number.isInteger(t)&&!Sh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Oh(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Th(t)?4:10:Bc()}function kh(t,e){var n=Oh(t);if(n!==Oh(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return xh(t).isEqual(xh(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=_h(t.timestampValue),r=_h(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Eh(t.bytesValue).isEqual(Eh(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return wh(t.geoPointValue.latitude)===wh(e.geoPointValue.latitude)&&wh(t.geoPointValue.longitude)===wh(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return wh(t.integerValue)===wh(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=wh(t.doubleValue),r=wh(e.doubleValue);return n===r?Sh(n)===Sh(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Xc(t.arrayValue.values||[],e.arrayValue.values||[],kh);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(vh(n)!==vh(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!kh(n[i],r[i])))return!1;return!0}(t,e);default:return Bc()}}function Dh(t,e){return void 0!==(t.values||[]).find((function(t){return kh(t,e)}))}function Ch(t,e){var n=Oh(t),r=Oh(e);if(n!==r)return Qc(n,r);switch(n){case 0:return 0;case 1:return Qc(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=wh(t.integerValue||t.doubleValue),r=wh(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Ph(t.timestampValue,e.timestampValue);case 4:return Ph(xh(t),xh(e));case 5:return Qc(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Eh(t),r=Eh(e);return n._(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Qc(n[i],r[i]);if(0!==o)return o}return Qc(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Qc(wh(t.latitude),wh(e.latitude));return 0!==n?n:Qc(wh(t.longitude),wh(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Ch(n[i],r[i]);if(o)return o}return Qc(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var u=Qc(r[s],o[s]);if(0!==u)return u;var a=Ch(n[r[s]],i[o[s]]);if(0!==a)return a}return Qc(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Bc()}}function Ph(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Qc(t,e);var n=_h(t),r=_h(e),i=Qc(n.seconds,r.seconds);return 0!==i?i:Qc(n.nanos,r.nanos)}function Rh(t){return Lh(t)}function Lh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=_h(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Eh(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,dh.ft(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Lh(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+Lh(t.fields[o])}return e+"}"}(t.mapValue):Bc();var e,n}function jh(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.rt()}}function Mh(t){return!!t&&"integerValue"in t}function Vh(t){return!!t&&"arrayValue"in t}function Fh(t){return!!t&&"nullValue"in t}function Uh(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function qh(t){return!!t&&"mapValue"in t}var zh=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.et())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!qh(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.tt()])||null},t.prototype.isEqual=function(t){return kh(this.proto,t.proto)},t}(),Bh=function(){function t(t){void 0===t&&(t=zh.empty()),this.It=t,this.At=new Map}return t.prototype.set=function(t,e){return this.Rt(t,e),this},t.prototype.delete=function(t){return this.Rt(t,null),this},t.prototype.Rt=function(t,e){for(var n=this.At,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Oh(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.tt(),e)},t.prototype.Pt=function(){var t=this.yt(ph.ct(),this.At);return null!=t?new zh(t):this.It},t.prototype.yt=function(t,e){var n=this,r=!1,i=this.It.field(t),o=qh(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var s=n.yt(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function Gh(t){var e=[];return yh(t.fields||{},(function(t,n){var r=new ph([t]);if(qh(n)){var i=Gh(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++){var u=s[o];e.push(r.child(u))}}else e.push(r)})),new gh(e)}var $h=function(t,e){this.key=t,this.version=e},Hh=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).gt=r,o.Vt=!!i.Vt,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Li(e,t),e.prototype.field=function(t){return this.gt.field(t)},e.prototype.data=function(){return this.gt},e.prototype.bt=function(){return this.gt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Vt===t.Vt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.gt.isEqual(t.gt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.gt.toString()+", {hasLocalMutations: "+this.Vt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Vt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}($h),Yh=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Li(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}($h),Qh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Li(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}($h),Xh=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.vt=null};function Kh(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Xh(t,e,n,r,i,o,s)}function Wh(t){var e=$c(t);if(null===e.vt){var n=e.path.rt();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.rt()+t.op.toString()+Rh(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.rt()+t.dir}(t)})).join(","),Ah(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=ff(e.startAt)),e.endAt&&(n+="|ub:",n+=ff(e.endAt)),e.vt=n}return e.vt}function Jh(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!pf(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!kh(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!vf(t.startAt,e.startAt)&&vf(t.endAt,e.endAt)}function Zh(t){return dh.wt(t.path)&&null===t.collectionGroup&&0===t.filters.length}var tf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Li(e,t),e.create=function(t,n,r){return t.ut()?"in"===n||"not-in"===n?this.St(t,n,r):new ef(t,n,r):"array-contains"===n?new sf(t,r):"in"===n?new uf(t,r):"not-in"===n?new af(t,r):"array-contains-any"===n?new cf(t,r):new e(t,n,r)},e.St=function(t,e,n){return"in"===e?new nf(t,n):new rf(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Dt(Ch(e,this.value)):null!==e&&Oh(this.value)===Oh(e)&&this.Dt(Ch(e,this.value))},e.prototype.Dt=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Bc()}},e.prototype.Ct=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),ef=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=dh.ft(r.referenceValue),i}return Li(e,t),e.prototype.matches=function(t){var e=dh.H(t.key,this.key);return this.Dt(e)},e}(tf),nf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=of(0,n),r}return Li(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(tf),rf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=of(0,n),r}return Li(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(tf);function of(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return dh.ft(t.referenceValue)}))}var sf=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Li(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Vh(e)&&Dh(e.arrayValue,this.value)},e}(tf),uf=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Li(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Dh(this.value.arrayValue,e)},e}(tf),af=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Li(e,t),e.prototype.matches=function(t){if(Dh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!Dh(this.value.arrayValue,e)},e}(tf),cf=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Li(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Vh(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return Dh(e.value.arrayValue,t)}))},e}(tf),hf=function(t,e){this.position=t,this.before=e};function ff(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return Rh(t)})).join(",")}var lf=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function pf(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function df(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.ut()?dh.H(dh.ft(s.referenceValue),n.key):Ch(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function vf(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!kh(t.position[n],e.position[n]))return!1;return!0}var yf=function(t,e,n,r,i,o,s,u){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===u&&(u=null),this.path=t,this.collectionGroup=e,this.xt=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=u,this.Nt=null,this.$t=null,this.startAt,this.endAt};function mf(t,e,n,r,i,o,s,u){return new yf(t,e,n,r,i,o,s,u)}function gf(t){return new yf(t)}function bf(t){return!Ah(t.limit)&&"F"===t.limitType}function _f(t){return!Ah(t.limit)&&"L"===t.limitType}function wf(t){return t.xt.length>0?t.xt[0].field:null}function Ef(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.Ct())return r.field}return null}function Tf(t){return null!==t.collectionGroup}function If(t){var e=$c(t);if(null===e.Nt){e.Nt=[];var n=Ef(e),r=wf(e);if(null!==n&&null===r)n.ut()||e.Nt.push(new lf(n)),e.Nt.push(new lf(ph.ht(),"asc"));else{for(var i=!1,o=0,s=e.xt;o<s.length;o++){var u=s[o];e.Nt.push(u),u.field.ut()&&(i=!0)}if(!i){var a=e.xt.length>0?e.xt[e.xt.length-1].dir:"asc";e.Nt.push(new lf(ph.ht(),a))}}}return e.Nt}function xf(t){var e=$c(t);if(!e.$t)if("F"===e.limitType)e.$t=Kh(e.path,e.collectionGroup,If(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=If(e);r<i.length;r++){var o=i[r],s="desc"===o.dir?"asc":"desc";n.push(new lf(o.field,s))}var u=e.endAt?new hf(e.endAt.position,!e.endAt.before):null,a=e.startAt?new hf(e.startAt.position,!e.startAt.before):null;e.$t=Kh(e.path,e.collectionGroup,n,e.filters,e.limit,u,a)}return e.$t}function Af(t,e,n){return new yf(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Sf(t,e){return Jh(xf(t),xf(e))&&t.limitType===e.limitType}function Nf(t){return Wh(xf(t))+"|lt:"+t.limitType}function Of(t){return"Query(target="+function(t){var e=t.path.rt();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.rt()+" "+e.op+" "+Rh(e.value);var e})).join(", ")+"]"),Ah(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.rt()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+ff(t.startAt)),t.endAt&&(e+=", endAt: "+ff(t.endAt)),"Target("+e+")"}(xf(t))+"; limitType="+t.limitType+")"}function kf(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.dt(t.collectionGroup)&&t.path.nt(n):dh.wt(t.path)?t.path.isEqual(n):t.path.st(n)}(t,e)&&function(t,e){for(var n=0,r=t.xt;n<r.length;n++){var i=r[n];if(!i.field.ut()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!df(t.startAt,If(t),e)||t.endAt&&df(t.endAt,If(t),e))}(t,e)}function Df(t){return function(e,n){for(var r=!1,i=0,o=If(t);i<o.length;i++){var s=o[i],u=Cf(s,e,n);if(0!==u)return u;r=r||s.field.ut()}return 0}}function Cf(t,e,n){var r=t.field.ut()?dh.H(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Ch(r,i):Bc()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Bc()}}var Pf=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=ch.min()),void 0===o&&(o=ch.min()),void 0===s&&(s=Wc.T),this.target=t,this.targetId=e,this.Ft=n,this.sequenceNumber=r,this.Ot=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.kt=function(e){return new t(this.target,this.targetId,this.Ft,e,this.Ot,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.Mt=function(e,n){return new t(this.target,this.targetId,this.Ft,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.Ft,this.sequenceNumber,this.Ot,e,this.resumeToken)},t}();function Rf(t,e){if(t.Bt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sh(e)?"-0":e}}function Lf(t){return{integerValue:""+t}}function jf(t,e){return Nh(e)?Lf(e):Rf(t,e)}var Mf=function(){this.qt=void 0};function Vf(t,e,n){return t instanceof qf?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof zf?Bf(t,e):t instanceof Gf?$f(t,e):function(t,e){var n=Uf(t,e),r=Yf(n)+Yf(t.Ut);return Mh(n)&&Mh(t.Ut)?Lf(r):Rf(t.Qt,r)}(t,e)}function Ff(t,e,n){return t instanceof zf?Bf(t,e):t instanceof Gf?$f(t,e):n}function Uf(t,e){return t instanceof Hf?Mh(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var qf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Li(e,t),e}(Mf),zf=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Li(e,t),e}(Mf);function Bf(t,e){for(var n=Qf(e),r=function(t){n.some((function(e){return kh(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Gf=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Li(e,t),e}(Mf);function $f(t,e){for(var n=Qf(e),r=function(t){n=n.filter((function(e){return!kh(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Hf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qt=e,r.Ut=n,r}return Li(e,t),e}(Mf);function Yf(t){return wh(t.integerValue||t.doubleValue)}function Qf(t){return Vh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Xf=function(t,e){this.field=t,this.transform=e},Kf=function(t,e){this.version=t,this.transformResults=e},Wf=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Kt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Wt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Jf(t,e){return void 0!==t.updateTime?e instanceof Hh&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Hh}var Zf=function(){};function tl(t,e,n){return t instanceof ol?function(t,e,n){var r=t.value;if(n.transformResults){var i=al(t.fieldTransforms,e,n.transformResults);r=hl(t.fieldTransforms,r,i)}return new Hh(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof sl?function(t,e,n){if(!Jf(t.jt,e))return new Qh(t.key,n.version);var r=ul(t,e,n.transformResults?al(t.fieldTransforms,e,n.transformResults):[]);return new Hh(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new Yh(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function el(t,e,n){return t instanceof ol?function(t,e,n){if(!Jf(t.jt,e))return e;var r=t.value,i=cl(t.fieldTransforms,n,e);r=hl(t.fieldTransforms,r,i);var o=il(e);return new Hh(t.key,o,r,{Vt:!0})}(t,e,n):t instanceof sl?function(t,e,n){if(!Jf(t.jt,e))return e;var r=il(e),i=ul(t,e,cl(t.fieldTransforms,n,e));return new Hh(t.key,r,i,{Vt:!0})}(t,e,n):function(t,e){return Jf(t.jt,e)?new Yh(t.key,ch.min()):e}(t,e)}function nl(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],s=e instanceof Hh?e.field(o.field):void 0,u=Uf(o.transform,s||null);null!=u&&(n=null==n?(new Bh).set(o.field,u):n.set(o.field,u))}return n?n.Pt():null}(t.fieldTransforms,e)}function rl(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.jt.isEqual(e.jt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Xc(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof zf&&e instanceof zf||t instanceof Gf&&e instanceof Gf?Xc(t.elements,e.elements,kh):t instanceof Hf&&e instanceof Hf?kh(t.Ut,e.Ut):t instanceof qf&&e instanceof qf}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.Gt.isEqual(e.Gt))}function il(t){return t instanceof Hh?t.version:ch.min()}var ol=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.jt=r,o.fieldTransforms=i,o.type=0,o}return Li(e,t),e}(Zf),sl=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.Gt=r,s.jt=i,s.fieldTransforms=o,s.type=1,s}return Li(e,t),e}(Zf);function ul(t,e,n){var r;return r=function(t,e){var n=new Bh(e);return t.Gt.fields.forEach((function(e){if(!e.et()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.Pt()}(t,r=e instanceof Hh?e.data():zh.empty()),hl(t.fieldTransforms,r,n)}function al(t,e,n){var r=[];Gc(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,u=null;e instanceof Hh&&(u=e.field(o.field)),r.push(Ff(s,u,n[i]))}return r}function cl(t,e,n){for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i],u=s.transform,a=null;n instanceof Hh&&(a=n.field(s.field)),r.push(Vf(u,a,e))}return r}function hl(t,e,n){for(var r=new Bh(e),i=0;i<t.length;i++){var o=t[i];r.set(o.field,n[i])}return r.Pt()}var fl,ll,pl=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.jt=n,r.type=2,r.fieldTransforms=[],r}return Li(e,t),e}(Zf),dl=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.jt=n,r.type=3,r.fieldTransforms=[],r}return Li(e,t),e}(Zf),vl=function(t){this.count=t};function yl(t){switch(t){case Jc.OK:return Bc();case Jc.CANCELLED:case Jc.UNKNOWN:case Jc.DEADLINE_EXCEEDED:case Jc.RESOURCE_EXHAUSTED:case Jc.INTERNAL:case Jc.UNAVAILABLE:case Jc.UNAUTHENTICATED:return!1;case Jc.INVALID_ARGUMENT:case Jc.NOT_FOUND:case Jc.ALREADY_EXISTS:case Jc.PERMISSION_DENIED:case Jc.FAILED_PRECONDITION:case Jc.ABORTED:case Jc.OUT_OF_RANGE:case Jc.UNIMPLEMENTED:case Jc.DATA_LOSS:return!0;default:return Bc()}}function ml(t){if(void 0===t)return Uc("GRPC error has no .code"),Jc.UNKNOWN;switch(t){case fl.OK:return Jc.OK;case fl.CANCELLED:return Jc.CANCELLED;case fl.UNKNOWN:return Jc.UNKNOWN;case fl.DEADLINE_EXCEEDED:return Jc.DEADLINE_EXCEEDED;case fl.RESOURCE_EXHAUSTED:return Jc.RESOURCE_EXHAUSTED;case fl.INTERNAL:return Jc.INTERNAL;case fl.UNAVAILABLE:return Jc.UNAVAILABLE;case fl.UNAUTHENTICATED:return Jc.UNAUTHENTICATED;case fl.INVALID_ARGUMENT:return Jc.INVALID_ARGUMENT;case fl.NOT_FOUND:return Jc.NOT_FOUND;case fl.ALREADY_EXISTS:return Jc.ALREADY_EXISTS;case fl.PERMISSION_DENIED:return Jc.PERMISSION_DENIED;case fl.FAILED_PRECONDITION:return Jc.FAILED_PRECONDITION;case fl.ABORTED:return Jc.ABORTED;case fl.OUT_OF_RANGE:return Jc.OUT_OF_RANGE;case fl.UNIMPLEMENTED:return Jc.UNIMPLEMENTED;case fl.DATA_LOSS:return Jc.DATA_LOSS;default:return Bc()}}(ll=fl||(fl={}))[ll.OK=0]="OK",ll[ll.CANCELLED=1]="CANCELLED",ll[ll.UNKNOWN=2]="UNKNOWN",ll[ll.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ll[ll.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ll[ll.NOT_FOUND=5]="NOT_FOUND",ll[ll.ALREADY_EXISTS=6]="ALREADY_EXISTS",ll[ll.PERMISSION_DENIED=7]="PERMISSION_DENIED",ll[ll.UNAUTHENTICATED=16]="UNAUTHENTICATED",ll[ll.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ll[ll.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ll[ll.ABORTED=10]="ABORTED",ll[ll.OUT_OF_RANGE=11]="OUT_OF_RANGE",ll[ll.UNIMPLEMENTED=12]="UNIMPLEMENTED",ll[ll.INTERNAL=13]="INTERNAL",ll[ll.UNAVAILABLE=14]="UNAVAILABLE",ll[ll.DATA_LOSS=15]="DATA_LOSS";var gl=function(){function t(t,e){this.H=t,this.root=e||_l.EMPTY}return t.prototype.zt=function(e,n){return new t(this.H,this.root.zt(e,n,this.H).copy(null,null,_l.Ht,null,null))},t.prototype.remove=function(e){return new t(this.H,this.root.remove(e,this.H).copy(null,null,_l.Ht,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.et();){var n=this.H(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.et();){var r=this.H(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.et=function(){return this.root.et()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Jt=function(){return this.root.Jt()},t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(t){return this.root.Xt(t)},t.prototype.forEach=function(t){this.Xt((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.Xt((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.te=function(){return new bl(this.root,null,this.H,!1)},t.prototype.ee=function(t){return new bl(this.root,t,this.H,!1)},t.prototype.ne=function(){return new bl(this.root,null,this.H,!0)},t.prototype.se=function(t){return new bl(this.root,t,this.H,!0)},t}(),bl=function(){function t(t,e,n,r){this.ie=r,this.re=[];for(var i=1;!t.et();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.ie?t.left:t.right;else{if(0===i){this.re.push(t);break}this.re.push(t),t=this.ie?t.right:t.left}}return t.prototype.oe=function(){var t=this.re.pop(),e={key:t.key,value:t.value};if(this.ie)for(t=t.left;!t.et();)this.re.push(t),t=t.right;else for(t=t.right;!t.et();)this.re.push(t),t=t.left;return e},t.prototype.ce=function(){return this.re.length>0},t.prototype.ae=function(){if(0===this.re.length)return null;var t=this.re[this.re.length-1];return{key:t.key,value:t.value}},t}(),_l=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.et=function(){return!1},t.prototype.Xt=function(t){return this.left.Xt(t)||t(this.key,this.value)||this.right.Xt(t)},t.prototype.Zt=function(t){return this.right.Zt(t)||t(this.key,this.value)||this.left.Zt(t)},t.prototype.min=function(){return this.left.et()?this:this.left.min()},t.prototype.Jt=function(){return this.min().key},t.prototype.Yt=function(){return this.right.et()?this.key:this.right.Yt()},t.prototype.zt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.zt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.zt(t,e,n))).ue()},t.prototype.he=function(){if(this.left.et())return t.EMPTY;var e=this;return e.left.le()||e.left.left.le()||(e=e._e()),(e=e.copy(null,null,null,e.left.he(),null)).ue()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.et()||i.left.le()||i.left.left.le()||(i=i._e()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.le()&&(i=i.fe()),i.right.et()||i.right.le()||i.right.left.le()||(i=i.de()),0===n(e,i.key)){if(i.right.et())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.he())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.ue()},t.prototype.le=function(){return this.color},t.prototype.ue=function(){var t=this;return t.right.le()&&!t.left.le()&&(t=t.we()),t.left.le()&&t.left.left.le()&&(t=t.fe()),t.left.le()&&t.right.le()&&(t=t.Ee()),t},t.prototype._e=function(){var t=this.Ee();return t.right.left.le()&&(t=(t=(t=t.copy(null,null,null,null,t.right.fe())).we()).Ee()),t},t.prototype.de=function(){var t=this.Ee();return t.left.left.le()&&(t=(t=t.fe()).Ee()),t},t.prototype.we=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.fe=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Ee=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Te=function(){var t=this.Ie();return Math.pow(2,t)<=this.size+1},t.prototype.Ie=function(){if(this.le()&&this.left.le())throw Bc();if(this.right.le())throw Bc();var t=this.left.Ie();if(t!==this.right.Ie())throw Bc();return t+(this.le()?0:1)},t}();_l.EMPTY=null,_l.RED=!0,_l.Ht=!1,_l.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Bc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Bc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Bc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Bc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Bc()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.zt=function(t,e,n){return new _l(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.et=function(){return!0},t.prototype.Xt=function(t){return!1},t.prototype.Zt=function(t){return!1},t.prototype.Jt=function(){return null},t.prototype.Yt=function(){return null},t.prototype.le=function(){return!1},t.prototype.Te=function(){return!0},t.prototype.Ie=function(){return 0},t}());var wl=function(){function t(t){this.H=t,this.data=new gl(this.H)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Jt()},t.prototype.last=function(){return this.data.Yt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Xt((function(e,n){return t(e),!1}))},t.prototype.me=function(t,e){for(var n=this.data.ee(t[0]);n.ce();){var r=n.oe();if(this.H(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Ae=function(t,e){var n;for(n=void 0!==e?this.data.ee(e):this.data.te();n.ce();)if(!t(n.oe().key))return},t.prototype.Re=function(t){var e=this.data.ee(t);return e.ce()?e.oe().key:null},t.prototype.te=function(){return new El(this.data.te())},t.prototype.ee=function(t){return new El(this.data.ee(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).zt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.et=function(){return this.data.et()},t.prototype.Pe=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.te(),r=e.data.te();n.ce();){var i=n.oe().key,o=r.oe().key;if(0!==this.H(i,o))return!1}return!0},t.prototype.it=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.H);return n.data=e,n},t}(),El=function(){function t(t){this.ye=t}return t.prototype.oe=function(){return this.ye.oe().key},t.prototype.ce=function(){return this.ye.ce()},t}(),Tl=new gl(dh.H);function Il(){return Tl}function xl(){return Il()}var Al=new gl(dh.H);function Sl(){return Al}var Nl=new gl(dh.H);function Ol(){return Nl}var kl=new wl(dh.H);function Dl(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=kl,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Cl=new wl(Qc);function Pl(){return Cl}var Rl=function(){function t(t){this.H=t?function(e,n){return t(e,n)||dh.H(e.key,n.key)}:function(t,e){return dh.H(t.key,e.key)},this.ge=Sl(),this.Ve=new gl(this.H)}return t.pe=function(e){return new t(e.H)},t.prototype.has=function(t){return null!=this.ge.get(t)},t.prototype.get=function(t){return this.ge.get(t)},t.prototype.first=function(){return this.Ve.Jt()},t.prototype.last=function(){return this.Ve.Yt()},t.prototype.et=function(){return this.Ve.et()},t.prototype.indexOf=function(t){var e=this.ge.get(t);return e?this.Ve.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Ve.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Ve.Xt((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.ge.zt(t.key,t),e.Ve.zt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.ge.remove(t),this.Ve.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Ve.te(),r=e.Ve.te();n.ce();){var i=n.oe().key,o=r.oe().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.H=this.H,r.ge=e,r.Ve=n,r},t}(),Ll=function(){function t(){this.be=new gl(dh.H)}return t.prototype.track=function(t){var e=t.doc.key,n=this.be.get(e);n?0!==t.type&&3===n.type?this.be=this.be.zt(e,t):3===t.type&&1!==n.type?this.be=this.be.zt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.be=this.be.zt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.be=this.be.zt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.be=this.be.remove(e):1===t.type&&2===n.type?this.be=this.be.zt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.be=this.be.zt(e,{type:2,doc:t.doc}):Bc():this.be=this.be.zt(e,t)},t.prototype.ve=function(){var t=[];return this.be.Xt((function(e,n){t.push(n)})),t},t}(),jl=function(){function t(t,e,n,r,i,o,s,u){this.query=t,this.docs=e,this.Se=n,this.docChanges=r,this.De=i,this.fromCache=o,this.Ce=s,this.xe=u}return t.Ne=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,Rl.pe(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.De.et()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Ce===t.Ce&&this.De.isEqual(t.De)&&Sf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Se.isEqual(t.Se)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Ml=function(){function t(t,e,n,r,i){this.Ot=t,this.$e=e,this.Fe=n,this.Oe=r,this.ke=i}return t.Me=function(e,n){var r=new Map;return r.set(e,Vl.Le(e,n)),new t(ch.min(),r,Pl(),Il(),Dl())},t}(),Vl=function(){function t(t,e,n,r,i){this.resumeToken=t,this.Be=e,this.qe=n,this.Ue=r,this.Qe=i}return t.Le=function(e,n){return new t(Wc.T,n,Dl(),Dl(),Dl())},t}(),Fl=function(t,e,n,r){this.Ke=t,this.removedTargetIds=e,this.key=n,this.We=r},Ul=function(t,e){this.targetId=t,this.je=e},ql=function(t,e,n,r){void 0===n&&(n=Wc.T),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},zl=function(){function t(){this.Ge=0,this.ze=$l(),this.He=Wc.T,this.Je=!1,this.Ye=!0}return Object.defineProperty(t.prototype,"Be",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.He},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Xe",{get:function(){return 0!==this.Ge},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),t.prototype.tn=function(t){t.l()>0&&(this.Ye=!0,this.He=t)},t.prototype.en=function(){var t=Dl(),e=Dl(),n=Dl();return this.ze.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Bc()}})),new Vl(this.He,this.Je,t,e,n)},t.prototype.nn=function(){this.Ye=!1,this.ze=$l()},t.prototype.sn=function(t,e){this.Ye=!0,this.ze=this.ze.zt(t,e)},t.prototype.rn=function(t){this.Ye=!0,this.ze=this.ze.remove(t)},t.prototype.on=function(){this.Ge+=1},t.prototype.cn=function(){this.Ge-=1},t.prototype.an=function(){this.Ye=!0,this.Je=!0},t}(),Bl=function(){function t(t){this.un=t,this.hn=new Map,this.ln=Il(),this._n=Gl(),this.fn=new wl(Qc)}return t.prototype.dn=function(t){for(var e=0,n=t.Ke;e<n.length;e++){var r=n[e];t.We instanceof Hh?this.wn(r,t.We):t.We instanceof Yh&&this.En(r,t.key,t.We)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.En(r,t.key,t.We)},t.prototype.Tn=function(t){var e=this;this.In(t,(function(n){var r=e.mn(n);switch(t.state){case 0:e.An(n)&&r.tn(t.resumeToken);break;case 1:r.cn(),r.Xe||r.nn(),r.tn(t.resumeToken);break;case 2:r.cn(),r.Xe||e.removeTarget(n);break;case 3:e.An(n)&&(r.an(),r.tn(t.resumeToken));break;case 4:e.An(n)&&(e.Rn(n),r.tn(t.resumeToken));break;default:Bc()}}))},t.prototype.In=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.hn.forEach((function(t,r){n.An(r)&&e(r)}))},t.prototype.Pn=function(t){var e=t.targetId,n=t.je.count,r=this.yn(e);if(r){var i=r.target;if(Zh(i))if(0===n){var o=new dh(i.path);this.En(e,o,new Yh(o,ch.min()))}else Gc(1===n);else this.gn(e)!==n&&(this.Rn(e),this.fn=this.fn.add(e))}},t.prototype.Vn=function(t){var e=this,n=new Map;this.hn.forEach((function(r,i){var o=e.yn(i);if(o){if(r.Be&&Zh(o.target)){var s=new dh(o.target.path);null!==e.ln.get(s)||e.pn(i,s)||e.En(i,s,new Yh(s,t))}r.Ze&&(n.set(i,r.en()),r.nn())}}));var r=Dl();this._n.forEach((function(t,n){var i=!0;n.Ae((function(t){var n=e.yn(t);return!n||2===n.Ft||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new Ml(t,n,this.fn,this.ln,r);return this.ln=Il(),this._n=Gl(),this.fn=new wl(Qc),i},t.prototype.wn=function(t,e){if(this.An(t)){var n=this.pn(t,e.key)?2:0;this.mn(t).sn(e.key,n),this.ln=this.ln.zt(e.key,e),this._n=this._n.zt(e.key,this.bn(e.key).add(t))}},t.prototype.En=function(t,e,n){if(this.An(t)){var r=this.mn(t);this.pn(t,e)?r.sn(e,1):r.rn(e),this._n=this._n.zt(e,this.bn(e).delete(t)),n&&(this.ln=this.ln.zt(e,n))}},t.prototype.removeTarget=function(t){this.hn.delete(t)},t.prototype.gn=function(t){var e=this.mn(t).en();return this.un.vn(t).size+e.qe.size-e.Qe.size},t.prototype.on=function(t){this.mn(t).on()},t.prototype.mn=function(t){var e=this.hn.get(t);return e||(e=new zl,this.hn.set(t,e)),e},t.prototype.bn=function(t){var e=this._n.get(t);return e||(e=new wl(Qc),this._n=this._n.zt(t,e)),e},t.prototype.An=function(t){var e=null!==this.yn(t);return e||Fc("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.yn=function(t){var e=this.hn.get(t);return e&&e.Xe?null:this.un.Sn(t)},t.prototype.Rn=function(t){var e=this;this.hn.set(t,new zl),this.un.vn(t).forEach((function(n){e.En(t,n,null)}))},t.prototype.pn=function(t,e){return this.un.vn(t).has(e)},t}();function Gl(){return new gl(dh.H)}function $l(){return new gl(dh.H)}var Hl={asc:"ASCENDING",desc:"DESCENDING"},Yl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ql=function(t,e){this.t=t,this.Bt=e};function Xl(t,e){return t.Bt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Kl(t,e){return t.Bt?e.toBase64():e.toUint8Array()}function Wl(t,e){return Xl(t,e.j())}function Jl(t){return Gc(!!t),ch.K(function(t){var e=_h(t);return new ah(e.seconds,e.nanos)}(t))}function Zl(t,e){return function(t){return new fh(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).rt()}function tp(t){var e=fh.ot(t);return Gc(Ip(e)),e}function ep(t,e){return Zl(t.t,e.path)}function np(t,e){var n=tp(e);if(n.get(1)!==t.t.projectId)throw new Zc(Jc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new Zc(Jc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new dh(sp(n))}function rp(t,e){return Zl(t.t,e)}function ip(t){var e=tp(t);return 4===e.length?fh.ct():sp(e)}function op(t){return new fh(["projects",t.t.projectId,"databases",t.t.database]).rt()}function sp(t){return Gc(t.length>4&&"documents"===t.get(4)),t.Y(5)}function up(t,e,n){return{name:ep(t,e),fields:n.proto.mapValue.fields}}function ap(t,e,n){var r=np(t,e.name),i=Jl(e.updateTime),o=new zh({mapValue:{fields:e.fields}});return new Hh(r,i,o,{hasCommittedMutations:!!n})}function cp(t,e){var n;if(e instanceof ol)n={update:up(t,e.key,e.value)};else if(e instanceof pl)n={delete:ep(t,e.key)};else if(e instanceof sl)n={update:up(t,e.key,e.data),updateMask:Tp(e.Gt)};else{if(!(e instanceof dl))return Bc();n={verify:ep(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof qf)return{fieldPath:e.field.rt(),setToServerValue:"REQUEST_TIME"};if(n instanceof zf)return{fieldPath:e.field.rt(),appendMissingElements:{values:n.elements}};if(n instanceof Gf)return{fieldPath:e.field.rt(),removeAllFromArray:{values:n.elements}};if(n instanceof Hf)return{fieldPath:e.field.rt(),increment:n.Ut};throw Bc()}(0,t)}))),e.jt.Wt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Wl(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Bc()}(t,e.jt)),n}function hp(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Wf.updateTime(Jl(t.updateTime)):void 0!==t.exists?Wf.exists(t.exists):Wf.Kt()}(e.currentDocument):Wf.Kt(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)Gc("REQUEST_TIME"===e.setToServerValue),n=new qf;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new zf(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new Gf(i)}else"increment"in e?n=new Hf(t,e.increment):Bc();var o=ph.lt(e.fieldPath);return new Xf(o,n)}(t,e)})):[];if(e.update){e.update.name;var i=np(t,e.update.name),o=new zh({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){var e=t.fieldPaths||[];return new gh(e.map((function(t){return ph.lt(t)})))}(e.updateMask);return new sl(i,o,s,n,r)}return new ol(i,o,n,r)}if(e.delete){var u=np(t,e.delete);return new pl(u,n)}if(e.verify){var a=np(t,e.verify);return new dl(a,n)}return Bc()}function fp(t,e){return{documents:[rp(t,e.path)]}}function lp(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=rp(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=rp(t,r.X()),n.structuredQuery.from=[{collectionId:r.tt()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(Uh(t.value))return{unaryFilter:{field:bp(t.field),op:"IS_NAN"}};if(Fh(t.value))return{unaryFilter:{field:bp(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Uh(t.value))return{unaryFilter:{field:bp(t.field),op:"IS_NOT_NAN"}};if(Fh(t.value))return{unaryFilter:{field:bp(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bp(t.field),op:gp(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:bp(t.field),direction:mp(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.Bt||Ah(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=vp(e.startAt)),e.endAt&&(n.structuredQuery.endAt=vp(e.endAt)),n}function pp(t){var e=ip(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Gc(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=dp(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(t){return function(t){return new lf(_p(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var a=null;n.limit&&(a=function(t){var e;return Ah(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=yp(n.startAt));var h=null;return n.endAt&&(h=yp(n.endAt)),mf(e,i,u,s,a,"F",c,h)}function dp(t){return t?void 0!==t.unaryFilter?[Ep(t)]:void 0!==t.fieldFilter?[wp(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return dp(t)})).reduce((function(t,e){return t.concat(e)})):Bc():[]}function vp(t){return{before:t.before,values:t.position}}function yp(t){var e=!!t.before,n=t.values||[];return new hf(n,e)}function mp(t){return Hl[t]}function gp(t){return Yl[t]}function bp(t){return{fieldPath:t.rt()}}function _p(t){return ph.lt(t.fieldPath)}function wp(t){return tf.create(_p(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Bc()}}(t.fieldFilter.op),t.fieldFilter.value)}function Ep(t){switch(t.unaryFilter.op){case"IS_NAN":var e=_p(t.unaryFilter.field);return tf.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=_p(t.unaryFilter.field);return tf.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=_p(t.unaryFilter.field);return tf.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=_p(t.unaryFilter.field);return tf.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Bc()}}function Tp(t){var e=[];return t.fields.forEach((function(t){return e.push(t.rt())})),{fieldPaths:e}}function Ip(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var xp=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Ap=function(){function t(t){var e=this;this.Dn=null,this.Cn=null,this.result=void 0,this.error=void 0,this.xn=!1,this.Nn=!1,t((function(t){e.xn=!0,e.result=t,e.Dn&&e.Dn(t)}),(function(t){e.xn=!0,e.error=t,e.Cn&&e.Cn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Nn&&Bc(),this.Nn=!0,this.xn?this.error?this.$n(n,this.error):this.Fn(e,this.result):new t((function(t,i){r.Dn=function(n){r.Fn(e,n).next(t,i)},r.Cn=function(e){r.$n(n,e).next(t,i)}}))},t.prototype.On=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.kn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Fn=function(e,n){return e?this.kn((function(){return e(n)})):t.resolve(n)},t.prototype.$n=function(e,n){return e?this.kn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.Mn=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.Ln=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.Mn(r)},t}(),Sp=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.Bn=new xp,this.transaction.oncomplete=function(){n.Bn.resolve()},this.transaction.onabort=function(){e.error?n.Bn.reject(new kp(t,e.error)):n.Bn.resolve()},this.transaction.onerror=function(e){var r=Lp(e.target.error);n.Bn.reject(new kp(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new kp(n,e)}},Object.defineProperty(t.prototype,"qn",{get:function(){return this.Bn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Bn.reject(t),this.aborted||(Fc("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Cp(e)},t}(),Np=function(){function t(e,n,r){this.name=e,this.version=n,this.Un=r,12.2===t.Qn(Gi())&&Uc("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Fc("SimpleDb","Removing database:",t),Pp(window.indexedDB.deleteDatabase(t)).On()},t.Kn=function(){if("undefined"==typeof indexedDB)return!1;if(t.Wn())return!0;var e=Gi(),n=t.Qn(e),r=0<n&&n<10,i=t.jn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Wn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Gn)},t.zn=function(t,e){return t.store(e)},t.Qn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.jn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Hn=function(t){return Mi(this,void 0,void 0,(function(){var e,n=this;return Vi(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Fc("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new kp(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Zc(Jc.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new kp(t,n))},i.onupgradeneeded=function(t){Fc("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.Un.Jn(e,i.transaction,t.oldVersion,n.version).next((function(){Fc("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Yn&&(this.db.onversionchange=function(t){return n.Yn(t)}),this.db)]}}))}))},t.prototype.Xn=function(t){this.Yn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Mi(this,void 0,void 0,(function(){var i,o,s,u,a;return Vi(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,a,c,h;return Vi(this,(function(f){switch(f.label){case 0:++o,f.label=1;case 1:return f.trys.push([1,4,,5]),[4,u.Hn(t)];case 2:return u.db=f.sent(),e=Sp.open(u.db,t,i?"readonly":"readwrite",n),s=r(e).catch((function(t){return e.abort(t),Ap.reject(t)})).On(),a={},s.catch((function(){})),[4,e.qn];case 3:return[2,(a.value=(f.sent(),s),a)];case 4:return c=f.sent(),h="FirebaseError"!==c.name&&o<3,Fc("SimpleDb","Transaction failed with error:",c.message,"Retrying:",h),u.close(),h?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},u=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(a=c.sent()))return[2,a.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Op=function(){function t(t){this.Zn=t,this.ts=!1,this.es=null}return Object.defineProperty(t.prototype,"xn",{get:function(){return this.ts},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ns",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Zn=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.ts=!0},t.prototype.ss=function(t){this.es=t},t.prototype.delete=function(){return Pp(this.Zn.delete())},t}(),kp=function(t){function e(e,n){var r=this;return(r=t.call(this,Jc.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Li(e,t),e}(Zc);function Dp(t){return"IndexedDbTransactionError"===t.name}var Cp=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Fc("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Fc("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Pp(n)},t.prototype.add=function(t){return Fc("SimpleDb","ADD",this.store.name,t,t),Pp(this.store.add(t))},t.prototype.get=function(t){var e=this;return Pp(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Fc("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return Fc("SimpleDb","DELETE",this.store.name,t),Pp(this.store.delete(t))},t.prototype.count=function(){return Fc("SimpleDb","COUNT",this.store.name),Pp(this.store.count())},t.prototype.rs=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.os(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.cs=function(t,e){Fc("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.us=!1;var r=this.cursor(n);return this.os(r,(function(t,e,n){return n.delete()}))},t.prototype.hs=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.os(r,e)},t.prototype.ls=function(t){var e=this.cursor({});return new Ap((function(n,r){e.onerror=function(t){var e=Lp(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.os=function(t,e){var n=[];return new Ap((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Op(i),s=e(i.primaryKey,i.value,o);if(s instanceof Ap){var u=s.catch((function(t){return o.done(),Ap.reject(t)}));n.push(u)}o.xn?r():null===o.ns?i.continue():i.continue(o.ns)}else r()}})).next((function(){return Ap.Mn(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.us?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Pp(t){return new Ap((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=Lp(t.target.error);n(e)}}))}var Rp=!1;function Lp(t){var e=Np.Qn(Gi());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Zc("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Rp||(Rp=!0,setTimeout((function(){throw r}),0)),r}}return t}var jp=function(){function t(t,e,n,r,i){this._s=t,this.fs=e,this.ds=n,this.op=r,this.ws=i,this.Es=new xp,this.then=this.Es.promise.then.bind(this.Es.promise),this.Es.promise.catch((function(t){}))}return t.Ts=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.Is=setTimeout((function(){return e.As()}),t)},t.prototype.Rs=function(){return this.As()},t.prototype.cancel=function(t){null!==this.Is&&(this.clearTimeout(),this.Es.reject(new Zc(Jc.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.As=function(){var t=this;this._s.Ps((function(){return null!==t.Is?(t.clearTimeout(),t.op().then((function(e){return t.Es.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.Is&&(this.ws(this),clearTimeout(this.Is),this.Is=null)},t}();function Mp(t,e){if(Uc("AsyncQueue",e+": "+t),Dp(t))return new Zc(Jc.UNAVAILABLE,e+": "+t);throw t}var Vp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Fp=function(){function t(){this.ys=[]}return t.prototype.gs=function(t){this.ys.push(t)},t.prototype.Vs=function(){this.ys.forEach((function(t){return t()}))},t}();function Up(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=zp(e)),e=qp(t.get(n),e);return zp(e)}function qp(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function zp(t){return t+""}function Bp(t){var e=t.length;if(Gc(e>=2),2===e)return Gc(""===t.charAt(0)&&""===t.charAt(1)),fh.ct();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("",o);switch((s<0||s>n)&&Bc(),t.charAt(s+1)){case"":var u=t.substring(o,s),a=void 0;0===i.length?a=u:(a=i+=u,i=""),r.push(a);break;case"":i+=t.substring(o,s),i+="\0";break;case"":i+=t.substring(o,s+1);break;default:Bc()}o=s+2}return new fh(r)}var Gp=function(t,e){this.seconds=t,this.nanoseconds=e},$p=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};$p.store="owner",$p.key="owner";var Hp=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Hp.store="mutationQueues",Hp.keyPath="userId";var Yp=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Yp.store="mutations",Yp.keyPath="batchId",Yp.userMutationsIndex="userMutationsIndex",Yp.userMutationsKeyPath=["userId","batchId"];var Qp=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Up(e)]},t.key=function(t,e,n){return[t,Up(e),n]},t}();Qp.store="documentMutations",Qp.PLACEHOLDER=new Qp;var Xp=function(t,e){this.path=t,this.readTime=e},Kp=function(t,e){this.path=t,this.version=e},Wp=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Wp.store="remoteDocuments",Wp.readTimeIndex="readTimeIndex",Wp.readTimeIndexPath="readTime",Wp.collectionReadTimeIndex="collectionReadTimeIndex",Wp.collectionReadTimeIndexPath=["parentPath","readTime"];var Jp=function(t){this.byteSize=t};Jp.store="remoteDocumentGlobal",Jp.key="remoteDocumentGlobalKey";var Zp=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Zp.store="targets",Zp.keyPath="targetId",Zp.queryTargetsIndexName="queryTargetsIndex",Zp.queryTargetsKeyPath=["canonicalId","targetId"];var td=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};td.store="targetDocuments",td.keyPath=["targetId","path"],td.documentTargetsIndex="documentTargetsIndex",td.documentTargetsKeyPath=["path","targetId"];var ed=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};ed.key="targetGlobalKey",ed.store="targetGlobal";var nd=function(t,e){this.collectionId=t,this.parent=e};nd.store="collectionParents",nd.keyPath=["collectionId","parent"];var rd=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};rd.store="clientMetadata",rd.keyPath="clientId";var id=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};id.store="bundles",id.keyPath="bundleId";var od=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};od.store="namedQueries",od.keyPath="name";var sd=qi(qi(qi(qi([Hp.store,Yp.store,Qp.store,Wp.store,Zp.store,$p.store,ed.store,td.store],[rd.store]),[Jp.store]),[nd.store]),[id.store,od.store]),ud=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ps=e,r.bs=n,r}return Li(e,t),e}(Fp);function ad(t,e){var n=$c(t);return Np.zn(n.ps,e)}var cd=function(){function t(t,e,n,r){this.batchId=t,this.vs=e,this.baseMutations=n,this.mutations=r}return t.prototype.Ss=function(t,e,n){for(var r=n.Ds,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=tl(o,e,r[i]))}return e},t.prototype.Cs=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(t)&&(e=el(s,e,this.vs));for(var i=0,o=this.mutations;i<o.length;i++){var s;(s=o[i]).key.isEqual(t)&&(e=el(s,e,this.vs))}return e},t.prototype.xs=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.Cs(r.key,t.get(r.key));i&&(n=n.zt(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Dl())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Xc(this.mutations,t.mutations,(function(t,e){return rl(t,e)}))&&Xc(this.baseMutations,t.baseMutations,(function(t,e){return rl(t,e)}))},t}(),hd=function(){function t(t,e,n,r){this.batch=t,this.Ns=e,this.Ds=n,this.$s=r}return t.from=function(e,n,r){Gc(e.mutations.length===r.length);for(var i=Ol(),o=e.mutations,s=0;s<o.length;s++)i=i.zt(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),fd=function(t){this.Fs=t};function ld(t,e){if(e.document)return ap(t.Fs,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=dh.Et(e.noDocument.path),r=md(e.noDocument.readTime);return new Yh(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=dh.Et(e.unknownDocument.path);return r=md(e.unknownDocument.version),new Qh(i,r)}return Bc()}function pd(t,e,n){var r=dd(n),i=e.key.path.X().it();if(e instanceof Hh){var o=function(t,e){return{name:ep(t,e.key),fields:e.bt().mapValue.fields,updateTime:Xl(t,e.version.j())}}(t.Fs,e),s=e.hasCommittedMutations;return new Wp(null,null,o,s,r,i)}if(e instanceof Yh){var u=e.key.path.it(),a=yd(e.version);return s=e.hasCommittedMutations,new Wp(null,new Xp(u,a),null,s,r,i)}if(e instanceof Qh){var c=e.key.path.it(),h=yd(e.version);return new Wp(new Kp(c,h),null,null,!0,r,i)}return Bc()}function dd(t){var e=t.j();return[e.seconds,e.nanoseconds]}function vd(t){var e=new ah(t[0],t[1]);return ch.K(e)}function yd(t){var e=t.j();return new Gp(e.seconds,e.nanoseconds)}function md(t){var e=new ah(t.seconds,t.nanoseconds);return ch.K(e)}function gd(t,e){for(var n=(e.baseMutations||[]).map((function(e){return hp(t.Fs,e)})),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];if(r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform){var o=e.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var s=e.mutations.map((function(e){return hp(t.Fs,e)})),u=ah.fromMillis(e.localWriteTimeMs);return new cd(e.batchId,u,n,s)}function bd(t){var e,n,r=md(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?md(t.lastLimboFreeSnapshotVersion):ch.min();return void 0!==t.query.documents?(Gc(1===(n=t.query).documents.length),e=xf(gf(ip(n.documents[0])))):e=function(t){return xf(pp(t))}(t.query),new Pf(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Wc.fromBase64String(t.resumeToken))}function _d(t,e){var n,r=yd(e.Ot),i=yd(e.lastLimboFreeSnapshotVersion);n=Zh(e.target)?fp(t.Fs,e.target):lp(t.Fs,e.target);var o=e.resumeToken.toBase64();return new Zp(e.targetId,Wh(e.target),r,o,e.sequenceNumber,i,n)}function wd(t){var e=pp({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Af(e,e.limit,"L"):e}var Ed=function(){function t(){}return t.prototype.Os=function(t,e){return Td(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:md(e.createTime),version:e.version};var e}))},t.prototype.ks=function(t,e){return Td(t).put({bundleId:(n=e).id,createTime:yd(Jl(n.createTime)),version:n.version});var n},t.prototype.Ms=function(t,e){return Id(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:wd(e.bundledQuery),readTime:md(e.readTime)};var e}))},t.prototype.Ls=function(t,e){return Id(t).put(function(t){return{name:t.name,readTime:yd(Jl(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Td(t){return ad(t,id.store)}function Id(t){return ad(t,od.store)}var xd=function(){function t(){this.Bs=new Ad}return t.prototype.qs=function(t,e){return this.Bs.add(e),Ap.resolve()},t.prototype.Us=function(t,e){return Ap.resolve(this.Bs.getEntries(e))},t}(),Ad=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.tt(),n=t.X(),r=this.index[e]||new wl(fh.H),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.tt(),n=t.X(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new wl(fh.H)).it()},t}(),Sd=function(){function t(){this.Qs=new Ad}return t.prototype.qs=function(t,e){var n=this;if(!this.Qs.has(e)){var r=e.tt(),i=e.X();t.gs((function(){n.Qs.add(e)}));var o={collectionId:r,parent:Up(i)};return Nd(t).put(o)}return Ap.resolve()},t.prototype.Us=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Kc(e),""],!1,!0);return Nd(t).rs(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Bp(o.parent))}return n}))},t}();function Nd(t){return ad(t,nd.store)}var Od={Ks:!1,Ws:0,js:0,Gs:0},kd=function(){function t(t,e,n){this.zs=t,this.Hs=e,this.Js=n}return t.Ys=function(e){return new t(e,t.Xs,t.Zs)},t}();function Dd(t){return Mi(this,void 0,void 0,(function(){return Vi(this,(function(e){if(t.code!==Jc.FAILED_PRECONDITION||t.message!==Vp)throw t;return Fc("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}kd.Xs=10,kd.Zs=1e3,kd.ti=new kd(41943040,kd.Xs,kd.Zs),kd.ei=new kd(-1,0,0);var Cd=function(){function t(t,e){this.ni=t,this.si=e,this.ii={}}return t.prototype.get=function(t){var e=this.ni(t),n=this.ii[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],u=o[1];if(this.si(s,t))return u}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.ni(t),r=this.ii[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.si(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.ii[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.ni(t),n=this.ii[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.si(n[r][0],t))return 1===n.length?delete this.ii[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){yh(this.ii,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],u=o[1];t(s,u)}}))},t.prototype.et=function(){return mh(this.ii)},t}(),Pd=function(){function t(){this.ri=new Cd((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.oi=!1}return t.prototype.ci=function(t){var e=this.ri.get(t);return e?e.readTime:ch.min()},t.prototype.ai=function(t,e){this.ui(),this.ri.set(t.key,{hi:t,readTime:e})},t.prototype.li=function(t,e){void 0===e&&(e=null),this.ui(),this.ri.set(t,{hi:null,readTime:e})},t.prototype._i=function(t,e){this.ui();var n=this.ri.get(e);return void 0!==n?Ap.resolve(n.hi):this.fi(t,e)},t.prototype.getEntries=function(t,e){return this.di(t,e)},t.prototype.apply=function(t){return this.ui(),this.oi=!0,this.wi(t)},t.prototype.ui=function(){},t}();function Rd(t,e,n){var r=t.store(Yp.store),i=t.store(Qp.store),o=[],s=IDBKeyRange.only(n.batchId),u=0,a=r.hs({range:s},(function(t,e,n){return u++,n.delete()}));o.push(a.next((function(){Gc(1===u)})));for(var c=[],h=0,f=n.mutations;h<f.length;h++){var l=f[h],p=Qp.key(e,l.key.path,n.batchId);o.push(i.delete(p)),c.push(l.key)}return Ap.Mn(o).next((function(){return c}))}function Ld(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Bc();e=t.noDocument}return JSON.stringify(e).length}var jd=function(){function t(t,e,n,r){this.userId=t,this.Qt=e,this.Ei=n,this.Ti=r,this.Ii={}}return t.mi=function(e,n,r,i){return Gc(""!==e.uid),new t(e.m()?e.uid:"",n,r,i)},t.prototype.Ai=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Vd(t).hs({index:Yp.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Ri=function(t,e,n,r){var i=this,o=Fd(t),s=Vd(t);return s.add({}).next((function(u){Gc("number"==typeof u);for(var a=new cd(u,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return cp(t.Fs,e)})),i=n.mutations.map((function(e){return cp(t.Fs,e)}));return new Yp(e,n.batchId,n.vs.toMillis(),r,i)}(i.Qt,i.userId,a),h=[],f=new wl((function(t,e){return Qc(t.rt(),e.rt())})),l=0,p=r;l<p.length;l++){var d=p[l],v=Qp.key(i.userId,d.key.path,u);f=f.add(d.key.path.X()),h.push(s.put(c)),h.push(o.put(v,Qp.PLACEHOLDER))}return f.forEach((function(e){h.push(i.Ei.qs(t,e))})),t.gs((function(){i.Ii[u]=a.keys()})),Ap.Mn(h).next((function(){return a}))}))},t.prototype.Pi=function(t,e){var n=this;return Vd(t).get(e).next((function(t){return t?(Gc(t.userId===n.userId),gd(n.Qt,t)):null}))},t.prototype.yi=function(t,e){var n=this;return this.Ii[e]?Ap.resolve(this.Ii[e]):this.Pi(t,e).next((function(t){if(t){var r=t.keys();return n.Ii[e]=r,r}return null}))},t.prototype.gi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Vd(t).hs({index:Yp.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(Gc(e.batchId>=r),o=gd(n.Qt,e)),i.done()})).next((function(){return o}))},t.prototype.Vi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Vd(t).hs({index:Yp.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.pi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Vd(t).rs(Yp.userMutationsIndex,n).next((function(t){return t.map((function(t){return gd(e.Qt,t)}))}))},t.prototype.bi=function(t,e){var n=this,r=Qp.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Fd(t).hs({range:i},(function(r,i,s){var u=r[0],a=r[1],c=r[2],h=Bp(a);if(u===n.userId&&e.path.isEqual(h))return Vd(t).get(c).next((function(t){if(!t)throw Bc();Gc(t.userId===n.userId),o.push(gd(n.Qt,t))}));s.done()})).next((function(){return o}))},t.prototype.vi=function(t,e){var n=this,r=new wl(Qc),i=[];return e.forEach((function(e){var o=Qp.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),u=Fd(t).hs({range:s},(function(t,i,o){var s=t[0],u=t[1],a=t[2],c=Bp(u);s===n.userId&&e.path.isEqual(c)?r=r.add(a):o.done()}));i.push(u)})),Ap.Mn(i).next((function(){return n.Si(t,r)}))},t.prototype.Di=function(t,e){var n=this,r=e.path,i=r.length+1,o=Qp.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),u=new wl(Qc);return Fd(t).hs({range:s},(function(t,e,o){var s=t[0],a=t[1],c=t[2],h=Bp(a);s===n.userId&&r.nt(h)?h.length===i&&(u=u.add(c)):o.done()})).next((function(){return n.Si(t,u)}))},t.prototype.Si=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Vd(t).get(e).next((function(t){if(null===t)throw Bc();Gc(t.userId===n.userId),r.push(gd(n.Qt,t))})))})),Ap.Mn(i).next((function(){return r}))},t.prototype.Ci=function(t,e){var n=this;return Rd(t.ps,this.userId,e).next((function(r){return t.gs((function(){n.xi(e.batchId)})),Ap.forEach(r,(function(e){return n.Ti.Ni(t,e)}))}))},t.prototype.xi=function(t){delete this.Ii[t]},t.prototype.$i=function(t){var e=this;return this.Ai(t).next((function(n){if(!n)return Ap.resolve();var r=IDBKeyRange.lowerBound(Qp.prefixForUser(e.userId)),i=[];return Fd(t).hs({range:r},(function(t,n,r){if(t[0]===e.userId){var o=Bp(t[1]);i.push(o)}else r.done()})).next((function(){Gc(0===i.length)}))}))},t.prototype.Fi=function(t,e){return Md(t,this.userId,e)},t.prototype.Oi=function(t){var e=this;return Ud(t).get(this.userId).next((function(t){return t||new Hp(e.userId,-1,"")}))},t}();function Md(t,e,n){var r=Qp.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Fd(t).hs({range:o,us:!0},(function(t,n,r){var o=t[0],u=t[1];t[2],o===e&&u===i&&(s=!0),r.done()})).next((function(){return s}))}function Vd(t){return ad(t,Yp.store)}function Fd(t){return ad(t,Qp.store)}function Ud(t){return ad(t,Hp.store)}var qd=function(){function t(t){this.ki=t}return t.prototype.next=function(){return this.ki+=2,this.ki},t.Mi=function(){return new t(0)},t.Li=function(){return new t(-1)},t}(),zd=function(){function t(t,e){this.Ti=t,this.Qt=e}return t.prototype.Bi=function(t){var e=this;return this.qi(t).next((function(n){var r=new qd(n.highestTargetId);return n.highestTargetId=r.next(),e.Ui(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Qi=function(t){return this.qi(t).next((function(t){return ch.K(new ah(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.Ki=function(t){return this.qi(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.Wi=function(t,e,n){var r=this;return this.qi(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.j()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ui(t,i)}))},t.prototype.ji=function(t,e){var n=this;return this.Gi(t,e).next((function(){return n.qi(t).next((function(r){return r.targetCount+=1,n.zi(e,r),n.Ui(t,r)}))}))},t.prototype.Hi=function(t,e){return this.Gi(t,e)},t.prototype.Ji=function(t,e){var n=this;return this.Yi(t,e.targetId).next((function(){return Bd(t).delete(e.targetId)})).next((function(){return n.qi(t)})).next((function(e){return Gc(e.targetCount>0),e.targetCount-=1,n.Ui(t,e)}))},t.prototype.Xi=function(t,e,n){var r=this,i=0,o=[];return Bd(t).hs((function(s,u){var a=bd(u);a.sequenceNumber<=e&&null===n.get(a.targetId)&&(i++,o.push(r.Ji(t,a)))})).next((function(){return Ap.Mn(o)})).next((function(){return i}))},t.prototype.In=function(t,e){return Bd(t).hs((function(t,n){var r=bd(n);e(r)}))},t.prototype.qi=function(t){return Gd(t).get(ed.key).next((function(t){return Gc(null!==t),t}))},t.prototype.Ui=function(t,e){return Gd(t).put(ed.key,e)},t.prototype.Gi=function(t,e){return Bd(t).put(_d(this.Qt,e))},t.prototype.zi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.Zi=function(t){return this.qi(t).next((function(t){return t.targetCount}))},t.prototype.tr=function(t,e){var n=Wh(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Bd(t).hs({range:r,index:Zp.queryTargetsIndexName},(function(t,n,r){var o=bd(n);Jh(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.er=function(t,e,n){var r=this,i=[],o=$d(t);return e.forEach((function(e){var s=Up(e.path);i.push(o.put(new td(n,s))),i.push(r.Ti.nr(t,n,e))})),Ap.Mn(i)},t.prototype.sr=function(t,e,n){var r=this,i=$d(t);return Ap.forEach(e,(function(e){var o=Up(e.path);return Ap.Mn([i.delete([n,o]),r.Ti.ir(t,n,e)])}))},t.prototype.Yi=function(t,e){var n=$d(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.rr=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=$d(t),i=Dl();return r.hs({range:n,us:!0},(function(t,e,n){var r=Bp(t[1]),o=new dh(r);i=i.add(o)})).next((function(){return i}))},t.prototype.Fi=function(t,e){var n=Up(e.path),r=IDBKeyRange.bound([n],[Kc(n)],!1,!0),i=0;return $d(t).hs({index:td.documentTargetsIndex,us:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Sn=function(t,e){return Bd(t).get(e).next((function(t){return t?bd(t):null}))},t}();function Bd(t){return ad(t,Zp.store)}function Gd(t){return ad(t,ed.store)}function $d(t){return ad(t,td.store)}function Hd(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],s=Qc(n,i);return 0===s?Qc(r,o):s}var Yd=function(){function t(t){this.cr=t,this.buffer=new wl(Hd),this.ar=0}return t.prototype.ur=function(){return++this.ar},t.prototype.hr=function(t){var e=[t,this.ur()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Hd(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Qd=function(){function t(t,e){this.lr=t,this._s=e,this._r=!1,this.dr=null}return t.prototype.start=function(t){-1!==this.lr.params.zs&&this.wr(t)},t.prototype.stop=function(){this.dr&&(this.dr.cancel(),this.dr=null)},Object.defineProperty(t.prototype,"Er",{get:function(){return null!==this.dr},enumerable:!1,configurable:!0}),t.prototype.wr=function(t){var e=this,n=this._r?3e5:6e4;Fc("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.dr=this._s.Tr("lru_garbage_collection",n,(function(){return Mi(e,void 0,void 0,(function(){var e;return Vi(this,(function(n){switch(n.label){case 0:this.dr=null,this._r=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Ir(this.lr)];case 2:return n.sent(),[3,7];case 3:return Dp(e=n.sent())?(Fc("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Dd(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.wr(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),Xd=function(){function t(t,e){this.mr=t,this.params=e}return t.prototype.Ar=function(t,e){return this.mr.Rr(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.Pr=function(t,e){var n=this;if(0===e)return Ap.resolve(uh.q);var r=new Yd(e);return this.mr.In(t,(function(t){return r.hr(t.sequenceNumber)})).next((function(){return n.mr.yr(t,(function(t){return r.hr(t)}))})).next((function(){return r.maxValue}))},t.prototype.Xi=function(t,e,n){return this.mr.Xi(t,e,n)},t.prototype.gr=function(t,e){return this.mr.gr(t,e)},t.prototype.Vr=function(t,e){var n=this;return-1===this.params.zs?(Fc("LruGarbageCollector","Garbage collection skipped; disabled"),Ap.resolve(Od)):this.pr(t).next((function(r){return r<n.params.zs?(Fc("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.zs),Od):n.br(t,e)}))},t.prototype.pr=function(t){return this.mr.pr(t)},t.prototype.br=function(t,e){var n,r,i,o,s,u,a,c=this,h=Date.now();return this.Ar(t,this.params.Hs).next((function(e){return e>c.params.Js?(Fc("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Js+" from "+e),r=c.params.Js):r=e,o=Date.now(),c.Pr(t,r)})).next((function(r){return n=r,s=Date.now(),c.Xi(t,n,e)})).next((function(e){return i=e,u=Date.now(),c.gr(t,n)})).next((function(t){return a=Date.now(),Vc()<=so.DEBUG&&Fc("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-h)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(u-s)+"ms\n\tRemoved "+t+" documents in "+(a-u)+"ms\nTotal Duration: "+(a-h)+"ms"),Ap.resolve({Ks:!0,Ws:r,js:i,Gs:t})}))},t}(),Kd=function(){function t(t,e){this.db=t,this.lr=function(t,e){return new Xd(t,e)}(this,e)}return t.prototype.Rr=function(t){var e=this.vr(t);return this.db.Sr().Zi(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.vr=function(t){var e=0;return this.yr(t,(function(t){e++})).next((function(){return e}))},t.prototype.In=function(t,e){return this.db.Sr().In(t,e)},t.prototype.yr=function(t,e){return this.Dr(t,(function(t,n){return e(n)}))},t.prototype.nr=function(t,e,n){return Wd(t,n)},t.prototype.ir=function(t,e,n){return Wd(t,n)},t.prototype.Xi=function(t,e,n){return this.db.Sr().Xi(t,e,n)},t.prototype.Ni=function(t,e){return Wd(t,e)},t.prototype.Cr=function(t,e){return function(t,e){var n=!1;return Ud(t).ls((function(r){return Md(t,r,e).next((function(t){return t&&(n=!0),Ap.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.gr=function(t,e){var n=this,r=this.db.$r().Nr(),i=[],o=0;return this.Dr(t,(function(s,u){if(u<=e){var a=n.Cr(t,s).next((function(e){if(!e)return o++,r._i(t,s).next((function(){return r.li(s),$d(t).delete([0,Up(s.path)])}))}));i.push(a)}})).next((function(){return Ap.Mn(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.kt(t.bs);return this.db.Sr().Hi(t,n)},t.prototype.Fr=function(t,e){return Wd(t,e)},t.prototype.Dr=function(t,e){var n,r=$d(t),i=uh.q;return r.hs({index:td.documentTargetsIndex},(function(t,r){var o=t[0],s=(t[1],r.path),u=r.sequenceNumber;0===o?(i!==uh.q&&e(new dh(Bp(n)),i),i=u,n=s):i=uh.q})).next((function(){i!==uh.q&&e(new dh(Bp(n)),i)}))},t.prototype.pr=function(t){return this.db.$r().Or(t)},t}();function Wd(t,e){return $d(t).put(function(t,e){return new td(0,Up(t.path),e)}(e,t.bs))}var Jd=function(){function t(t,e){this.Qt=t,this.Ei=e}return t.prototype.ai=function(t,e,n){return ev(t).put(nv(e),n)},t.prototype.li=function(t,e){var n=ev(t),r=nv(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.kr(t,r)}))},t.prototype._i=function(t,e){var n=this;return ev(t).get(nv(e)).next((function(t){return n.Mr(t)}))},t.prototype.Lr=function(t,e){var n=this;return ev(t).get(nv(e)).next((function(t){var e=n.Mr(t);return e?{hi:e,size:Ld(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=xl();return this.Br(t,e,(function(t,e){var i=n.Mr(e);r=r.zt(t,i)})).next((function(){return r}))},t.prototype.qr=function(t,e){var n=this,r=xl(),i=new gl(dh.H);return this.Br(t,e,(function(t,e){var o=n.Mr(e);o?(r=r.zt(t,o),i=i.zt(t,Ld(e))):(r=r.zt(t,null),i=i.zt(t,0))})).next((function(){return{Ur:r,Qr:i}}))},t.prototype.Br=function(t,e,n){if(e.et())return Ap.resolve();var r=IDBKeyRange.bound(e.first().path.it(),e.last().path.it()),i=e.te(),o=i.oe();return ev(t).hs({range:r},(function(t,e,r){for(var s=dh.Et(t);o&&dh.H(o,s)<0;)n(o,null),o=i.oe();o&&o.isEqual(s)&&(n(o,e),o=i.ce()?i.oe():null),o?r.ss(o.path.it()):r.done()})).next((function(){for(;o;)n(o,null),o=i.ce()?i.oe():null}))},t.prototype.Kr=function(t,e,n){var r=this,i=Sl(),o=e.path.length+1,s={};if(n.isEqual(ch.min())){var u=e.path.it();s.range=IDBKeyRange.lowerBound(u)}else{var a=e.path.it(),c=dd(n);s.range=IDBKeyRange.lowerBound([a,c],!0),s.index=Wp.collectionReadTimeIndex}return ev(t).hs(s,(function(t,n,s){if(t.length===o){var u=ld(r.Qt,n);e.path.nt(u.key.path)?u instanceof Hh&&kf(e,u)&&(i=i.zt(u.key,u)):s.done()}})).next((function(){return i}))},t.prototype.Nr=function(t){return new Zd(this,!!t&&t.Wr)},t.prototype.Or=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return tv(t).get(Jp.key).next((function(t){return Gc(!!t),t}))},t.prototype.kr=function(t,e){return tv(t).put(Jp.key,e)},t.prototype.Mr=function(t){if(t){var e=ld(this.Qt,t);return e instanceof Yh&&e.version.isEqual(ch.min())?null:e}return null},t}(),Zd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jr=e,r.Wr=n,r.Gr=new Cd((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Li(e,t),e.prototype.wi=function(t){var e=this,n=[],r=0,i=new wl((function(t,e){return Qc(t.rt(),e.rt())}));return this.ri.forEach((function(o,s){var u=e.Gr.get(o);if(s.hi){var a=pd(e.jr.Qt,s.hi,e.ci(o));i=i.add(o.path.X());var c=Ld(a);r+=c-u,n.push(e.jr.ai(t,o,a))}else if(r-=u,e.Wr){var h=pd(e.jr.Qt,new Yh(o,ch.min()),e.ci(o));n.push(e.jr.ai(t,o,h))}else n.push(e.jr.li(t,o))})),i.forEach((function(r){n.push(e.jr.Ei.qs(t,r))})),n.push(this.jr.updateMetadata(t,r)),Ap.Mn(n)},e.prototype.fi=function(t,e){var n=this;return this.jr.Lr(t,e).next((function(t){return null===t?(n.Gr.set(e,0),null):(n.Gr.set(e,t.size),t.hi)}))},e.prototype.di=function(t,e){var n=this;return this.jr.qr(t,e).next((function(t){var e=t.Ur;return t.Qr.forEach((function(t,e){n.Gr.set(t,e)})),e}))},e}(Pd);function tv(t){return ad(t,Jp.store)}function ev(t){return ad(t,Wp.store)}function nv(t){return t.path.it()}var rv=function(){function t(t){this.Qt=t}return t.prototype.Jn=function(t,e,n,r){var i=this;Gc(n<r&&n>=0&&r<=11);var o=new Sp("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore($p.store)}(t),function(t){t.createObjectStore(Hp.store,{keyPath:Hp.keyPath}),t.createObjectStore(Yp.store,{keyPath:Yp.keyPath,autoIncrement:!0}).createIndex(Yp.userMutationsIndex,Yp.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Qp.store)}(t),iv(t),function(t){t.createObjectStore(Wp.store)}(t));var s=Ap.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(td.store),t.deleteObjectStore(Zp.store),t.deleteObjectStore(ed.store)}(t),iv(t)),s=s.next((function(){return function(t){var e=t.store(ed.store),n=new ed(0,0,ch.min().j(),0);return e.put(ed.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(Yp.store).rs().next((function(n){t.deleteObjectStore(Yp.store),t.createObjectStore(Yp.store,{keyPath:Yp.keyPath,autoIncrement:!0}).createIndex(Yp.userMutationsIndex,Yp.userMutationsKeyPath,{unique:!0});var r=e.store(Yp.store),i=n.map((function(t){return r.put(t)}));return Ap.Mn(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(rd.store,{keyPath:rd.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.zr(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(Jp.store)}(t),i.Hr(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.Jr(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.Yr(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Wp.store);e.createIndex(Wp.readTimeIndex,Wp.readTimeIndexPath,{unique:!1}),e.createIndex(Wp.collectionReadTimeIndex,Wp.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.Xr(o)}))),n<11&&r>=11&&(s=s.next((function(){!function(t){t.createObjectStore(id.store,{keyPath:id.keyPath})}(t),function(t){t.createObjectStore(od.store,{keyPath:od.keyPath})}(t)}))),s},t.prototype.Hr=function(t){var e=0;return t.store(Wp.store).hs((function(t,n){e+=Ld(n)})).next((function(){var n=new Jp(e);return t.store(Jp.store).put(Jp.key,n)}))},t.prototype.zr=function(t){var e=this,n=t.store(Hp.store),r=t.store(Yp.store);return n.rs().next((function(n){return Ap.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.rs(Yp.userMutationsIndex,i).next((function(r){return Ap.forEach(r,(function(r){Gc(r.userId===n.userId);var i=gd(e.Qt,r);return Rd(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.Jr=function(t){var e=t.store(td.store),n=t.store(Wp.store);return t.store(ed.store).get(ed.key).next((function(t){var r=[];return n.hs((function(n,i){var o=new fh(n),s=function(t){return[0,Up(t)]}(o);r.push(e.get(s).next((function(n){return n?Ap.resolve():function(n){return e.put(new td(0,Up(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return Ap.Mn(r)}))}))},t.prototype.Yr=function(t,e){t.createObjectStore(nd.store,{keyPath:nd.keyPath});var n=e.store(nd.store),r=new Ad,i=function(t){if(r.add(t)){var e=t.tt(),i=t.X();return n.put({collectionId:e,parent:Up(i)})}};return e.store(Wp.store).hs({us:!0},(function(t,e){var n=new fh(t);return i(n.X())})).next((function(){return e.store(Qp.store).hs({us:!0},(function(t,e){t[0];var n=t[1],r=(t[2],Bp(n));return i(r.X())}))}))},t.prototype.Xr=function(t){var e=this,n=t.store(Zp.store);return n.hs((function(t,r){var i=bd(r),o=_d(e.Qt,i);return n.put(o)}))},t}();function iv(t){t.createObjectStore(td.store,{keyPath:td.keyPath}).createIndex(td.documentTargetsIndex,td.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Zp.store,{keyPath:Zp.keyPath}).createIndex(Zp.queryTargetsIndexName,Zp.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(ed.store)}var ov="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",sv=function(){function t(e,n,r,i,o,s,u,a,c,h){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Zr=o,this.window=s,this.document=u,this.eo=c,this.no=h,this.so=null,this.io=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ro=null,this.inForeground=!1,this.oo=null,this.co=null,this.ao=Number.NEGATIVE_INFINITY,this.uo=function(t){return Promise.resolve()},!t.Kn())throw new Zc(Jc.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ti=new Kd(this,i),this.ho=n+"main",this.Qt=new fd(a),this.lo=new Np(this.ho,11,new rv(this.Qt)),this._o=new zd(this.Ti,this.Qt),this.Ei=new Sd,this.fo=function(t,e){return new Jd(t,e)}(this.Qt,this.Ei),this.wo=new Ed,this.window&&this.window.localStorage?this.Eo=this.window.localStorage:(this.Eo=null,!1===h&&Uc("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.To().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Zc(Jc.FAILED_PRECONDITION,ov);return t.Io(),t.mo(),t.Ao(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t._o.Ki(e)}))})).then((function(e){t.so=new uh(e,t.eo)})).then((function(){t.io=!0})).catch((function(e){return t.lo&&t.lo.close(),Promise.reject(e)}))},t.prototype.Ro=function(t){var e=this;return this.uo=function(n){return Mi(e,void 0,void 0,(function(){return Vi(this,(function(e){return this.Er?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.Po=function(t){var e=this;this.lo.Xn((function(n){return Mi(e,void 0,void 0,(function(){return Vi(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.yo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Zr.Ps((function(){return Mi(e,void 0,void 0,(function(){return Vi(this,(function(t){switch(t.label){case 0:return this.Er?[4,this.To()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.To=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return av(e).put(new rd(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Vo(e).next((function(e){e||(t.isPrimary=!1,t.Zr.po((function(){return t.uo(!1)})))}))})).next((function(){return t.bo(e)})).next((function(n){return t.isPrimary&&!n?t.vo(e).next((function(){return!1})):!!n&&t.So(e).next((function(){return!0}))}))})).catch((function(e){if(Dp(e))return Fc("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Fc("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Zr.po((function(){return t.uo(e)})),t.isPrimary=e}))},t.prototype.Vo=function(t){var e=this;return uv(t).get($p.key).next((function(t){return Ap.resolve(e.Do(t))}))},t.prototype.Co=function(t){return av(t).delete(this.clientId)},t.prototype.xo=function(){return Mi(this,void 0,void 0,(function(){var t,e,n,r,i=this;return Vi(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.No(this.ao,18e5)?[3,2]:(this.ao=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=ad(t,rd.store);return e.rs().next((function(t){var n=i.$o(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return Ap.forEach(r,(function(t){return e.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=o.sent(),this.Eo)for(e=0,n=t;e<n.length;e++)r=n[e],this.Eo.removeItem(this.Fo(r.clientId));o.label=2;case 2:return[2]}}))}))},t.prototype.Ao=function(){var t=this;this.co=this.Zr.Tr("client_metadata_refresh",4e3,(function(){return t.To().then((function(){return t.xo()})).then((function(){return t.Ao()}))}))},t.prototype.Do=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.bo=function(t){var e=this;return this.no?Ap.resolve(!0):uv(t).get($p.key).next((function(n){if(null!==n&&e.No(n.leaseTimestampMs,5e3)&&!e.Oo(n.ownerId)){if(e.Do(n)&&e.networkEnabled)return!0;if(!e.Do(n)){if(!n.allowTabSynchronization)throw new Zc(Jc.FAILED_PRECONDITION,ov);return!1}}return!(!e.networkEnabled||!e.inForeground)||av(t).rs().next((function(t){return void 0===e.$o(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&Fc("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.ko=function(){return Mi(this,void 0,void 0,(function(){var t=this;return Vi(this,(function(e){switch(e.label){case 0:return this.io=!1,this.Mo(),this.co&&(this.co.cancel(),this.co=null),this.Lo(),this.Bo(),[4,this.lo.runTransaction("shutdown","readwrite",[$p.store,rd.store],(function(e){var n=new ud(e,uh.q);return t.vo(n).next((function(){return t.Co(n)}))}))];case 1:return e.sent(),this.lo.close(),this.qo(),[2]}}))}))},t.prototype.$o=function(t,e){var n=this;return t.filter((function(t){return n.No(t.updateTimeMs,e)&&!n.Oo(t.clientId)}))},t.prototype.Uo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return av(e).rs().next((function(e){return t.$o(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Qo=function(t){return jd.mi(t,this.Qt,this.Ei,this.Ti)},t.prototype.Sr=function(){return this._o},t.prototype.$r=function(){return this.fo},t.prototype.Ko=function(){return this.Ei},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(t,e,n){var r=this;Fc("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.lo.runTransaction(t,o,sd,(function(o){return i=new ud(o,r.so?r.so.next():uh.q),"readwrite-primary"===e?r.Vo(i).next((function(t){return!!t||r.bo(i)})).next((function(e){if(!e)throw Uc("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Zr.po((function(){return r.uo(!1)})),new Zc(Jc.FAILED_PRECONDITION,Vp);return n(i)})).next((function(t){return r.So(i).next((function(){return t}))})):r.jo(i).next((function(){return n(i)}))})).then((function(t){return i.Vs(),t}))},t.prototype.jo=function(t){var e=this;return uv(t).get($p.key).next((function(t){if(null!==t&&e.No(t.leaseTimestampMs,5e3)&&!e.Oo(t.ownerId)&&!e.Do(t)&&!(e.no||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Zc(Jc.FAILED_PRECONDITION,ov)}))},t.prototype.So=function(t){var e=new $p(this.clientId,this.allowTabSynchronization,Date.now());return uv(t).put($p.key,e)},t.Kn=function(){return Np.Kn()},t.prototype.vo=function(t){var e=this,n=uv(t);return n.get($p.key).next((function(t){return e.Do(t)?(Fc("IndexedDbPersistence","Releasing primary lease."),n.delete($p.key)):Ap.resolve()}))},t.prototype.No=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Uc("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Io=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.oo=function(){t.Zr.Ps((function(){return t.inForeground="visible"===t.document.visibilityState,t.To()}))},this.document.addEventListener("visibilitychange",this.oo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Lo=function(){this.oo&&(this.document.removeEventListener("visibilitychange",this.oo),this.oo=null)},t.prototype.mo=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ro=function(){e.Mo(),e.Zr.Ps((function(){return e.ko()}))},this.window.addEventListener("unload",this.ro))},t.prototype.Bo=function(){this.ro&&(this.window.removeEventListener("unload",this.ro),this.ro=null)},t.prototype.Oo=function(t){var e;try{var n=null!==(null===(e=this.Eo)||void 0===e?void 0:e.getItem(this.Fo(t)));return Fc("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Uc("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.Mo=function(){if(this.Eo)try{this.Eo.setItem(this.Fo(this.clientId),String(Date.now()))}catch(t){Uc("Failed to set zombie client id.",t)}},t.prototype.qo=function(){if(this.Eo)try{this.Eo.removeItem(this.Fo(this.clientId))}catch(t){}},t.prototype.Fo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function uv(t){return ad(t,$p.store)}function av(t){return ad(t,rd.store)}function cv(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var hv=function(t,e){this.progress=t,this.Go=e},fv=function(){function t(t,e,n){this.fo=t,this.zo=e,this.Ei=n}return t.prototype.Ho=function(t,e){var n=this;return this.zo.bi(t,e).next((function(r){return n.Jo(t,e,r)}))},t.prototype.Jo=function(t,e,n){return this.fo._i(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].Cs(e,t);return t}))},t.prototype.Yo=function(t,e,n){var r=xl();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].Cs(t,e);r=r.zt(t,e)})),r},t.prototype.Xo=function(t,e){var n=this;return this.fo.getEntries(t,e).next((function(e){return n.Zo(t,e)}))},t.prototype.Zo=function(t,e){var n=this;return this.zo.vi(t,e).next((function(r){var i=n.Yo(t,e,r),o=Il();return i.forEach((function(t,e){e||(e=new Yh(t,ch.min())),o=o.zt(t,e)})),o}))},t.prototype.Kr=function(t,e,n){return function(t){return dh.wt(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.tc(t,e.path):Tf(e)?this.ec(t,e,n):this.nc(t,e,n)},t.prototype.tc=function(t,e){return this.Ho(t,new dh(e)).next((function(t){var e=Sl();return t instanceof Hh&&(e=e.zt(t.key,t)),e}))},t.prototype.ec=function(t,e,n){var r=this,i=e.collectionGroup,o=Sl();return this.Ei.Us(t,i).next((function(s){return Ap.forEach(s,(function(s){var u=function(t,e){return new yf(e,null,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.nc(t,u,n).next((function(t){t.forEach((function(t,e){o=o.zt(t,e)}))}))})).next((function(){return o}))}))},t.prototype.nc=function(t,e,n){var r,i,o=this;return this.fo.Kr(t,e,n).next((function(n){return r=n,o.zo.Di(t,e)})).next((function(e){return i=e,o.sc(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,u=o.mutations;s<u.length;s++){var a=u[s],c=a.key,h=el(a,r.get(c),o.vs);r=h instanceof Hh?r.zt(c,h):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){kf(e,n)||(r=r.remove(t))})),r}))},t.prototype.sc=function(t,e,n){for(var r=Dl(),i=0,o=e;i<o.length;i++)for(var s=0,u=o[i].mutations;s<u.length;s++){var a=u[s];a instanceof sl&&null===n.get(a.key)&&(r=r.add(a.key))}var c=n;return this.fo.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof Hh&&(c=c.zt(t,e))})),c}))},t}(),lv=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.ic=n,this.rc=r}return t.oc=function(e,n){for(var r=Dl(),i=Dl(),o=0,s=n.docChanges;o<s.length;o++){var u=s[o];switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),pv=function(){function t(){}return t.prototype.cc=function(t){this.ac=t},t.prototype.Kr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.xt.length||1===t.xt.length&&t.xt[0].field.ut())}(e)||n.isEqual(ch.min())?this.uc(t,e):this.ac.Xo(t,r).next((function(o){var s=i.hc(e,o);return(bf(e)||_f(e))&&i.lc(e.limitType,s,r,n)?i.uc(t,e):(Vc()<=so.DEBUG&&Fc("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Of(e)),i.ac.Kr(t,e,n).next((function(t){return s.forEach((function(e){t=t.zt(e.key,e)})),t})))}))},t.prototype.hc=function(t,e){var n=new wl(Df(t));return e.forEach((function(e,r){r instanceof Hh&&kf(t,r)&&(n=n.add(r))})),n},t.prototype.lc=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version._(r)>0)},t.prototype.uc=function(t,e){return Vc()<=so.DEBUG&&Fc("QueryEngine","Using full collection scan to execute query:",Of(e)),this.ac.Kr(t,e,ch.min())},t}(),dv=function(){function t(t,e,n,r){this.persistence=t,this._c=e,this.Qt=r,this.fc=new gl(Qc),this.dc=new Cd((function(t){return Wh(t)}),Jh),this.wc=ch.min(),this.zo=t.Qo(n),this.Ec=t.$r(),this._o=t.Sr(),this.Tc=new fv(this.Ec,this.zo,this.persistence.Ko()),this.wo=t.Wo(),this._c.cc(this.Tc)}return t.prototype.Ir=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.Vr(n,e.fc)}))},t}();function vv(t,e,n,r){return new dv(t,e,n,r)}function yv(t,e){return Mi(this,void 0,void 0,(function(){var n,r,i,o;return Vi(this,(function(s){switch(s.label){case 0:return n=$c(t),r=n.zo,i=n.Tc,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n.zo.pi(t).next((function(s){return o=s,r=n.persistence.Qo(e),i=new fv(n.Ec,r,n.persistence.Ko()),r.pi(t)})).next((function(e){for(var n=[],r=[],s=Dl(),u=0,a=o;u<a.length;u++){var c=a[u];n.push(c.batchId);for(var h=0,f=c.mutations;h<f.length;h++){var l=f[h];s=s.add(l.key)}}for(var p=0,d=e;p<d.length;p++){var v=d[p];r.push(v.batchId);for(var y=0,m=v.mutations;y<m.length;y++){var g=m[y];s=s.add(g.key)}}return i.Xo(t,s).next((function(t){return{Ic:t,mc:n,Ac:r}}))}))}))];case 1:return o=s.sent(),[2,(n.zo=r,n.Tc=i,n._c.cc(n.Tc),o)]}}))}))}function mv(t,e){var n=$c(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Ec.Nr({Wr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=Ap.resolve();return o.forEach((function(t){s=s.next((function(){return r._i(e,t)})).next((function(e){var o=e,s=n.$s.get(t);Gc(null!==s),(!o||o.version._(s)<0)&&(o=i.Ss(t,o,n))&&r.ai(o,n.Ns)}))})),s.next((function(){return t.zo.Ci(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.zo.$i(t)})).next((function(){return n.Tc.Xo(t,r)}))}))}function gv(t){var e=$c(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e._o.Qi(t)}))}function bv(t,e){var n=$c(t),r=e.Ot,i=n.fc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Ec.Nr({Wr:!0});i=n.fc;var s=[];e.$e.forEach((function(e,o){var u=i.get(o);if(u){s.push(n._o.sr(t,e.Qe,o).next((function(){return n._o.er(t,e.qe,o)})));var a=e.resumeToken;if(a.l()>0){var c=u.Mt(a,r).kt(t.bs);i=i.zt(o,c),function(t,e,n){return Gc(e.resumeToken.l()>0),0===t.resumeToken.l()||e.Ot.W()-t.Ot.W()>=3e8||n.qe.size+n.Ue.size+n.Qe.size>0}(u,c,e)&&s.push(n._o.Hi(t,c))}}}));var u=Il();if(e.Oe.forEach((function(r,i){e.ke.has(r)&&s.push(n.persistence.Ti.Fr(t,r))})),s.push(_v(t,o,e.Oe,r,void 0).next((function(t){u=t}))),!r.isEqual(ch.min())){var a=n._o.Qi(t).next((function(e){return n._o.Wi(t,t.bs,r)}));s.push(a)}return Ap.Mn(s).next((function(){return o.apply(t)})).next((function(){return n.Tc.Zo(t,u)}))})).then((function(t){return n.fc=i,t}))}function _v(t,e,n,r,i){var o=Dl();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=Il();return n.forEach((function(n,s){var u=t.get(n),a=(null==i?void 0:i.get(n))||r;s instanceof Yh&&s.version.isEqual(ch.min())?(e.li(n,a),o=o.zt(n,s)):null==u||s.version._(u.version)>0||0===s.version._(u.version)&&u.hasPendingWrites?(e.ai(s,a),o=o.zt(n,s)):Fc("LocalStore","Ignoring outdated watch update for ",n,". Current version:",u.version," Watch version:",s.version)})),o}))}function wv(t,e){var n=$c(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.zo.gi(t,e)}))}function Ev(t,e){var n=$c(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n._o.tr(t,e).next((function(i){return i?(r=i,Ap.resolve(r)):n._o.Bi(t).next((function(i){return r=new Pf(e,i,0,t.bs),n._o.ji(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.fc.get(t.targetId);return(null===r||t.Ot._(r.Ot)>0)&&(n.fc=n.fc.zt(t.targetId,t),n.dc.set(e,t.targetId)),t}))}function Tv(t,e,n){return Mi(this,void 0,void 0,(function(){var r,i,o,s;return Vi(this,(function(u){switch(u.label){case 0:r=$c(t),i=r.fc.get(e),o=n?"readwrite":"readwrite-primary",u.label=1;case 1:return u.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.Ti.removeTarget(t,i)}))];case 2:u.sent(),u.label=3;case 3:return[3,5];case 4:if(!Dp(s=u.sent()))throw s;return Fc("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.fc=r.fc.remove(e),r.dc.delete(i.target),[2]}}))}))}function Iv(t,e,n){var r=$c(t),i=ch.min(),o=Dl();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=$c(t),i=r.dc.get(n);return void 0!==i?Ap.resolve(r.fc.get(i)):r._o.tr(e,n)}(r,t,xf(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r._o.rr(t,e.targetId).next((function(t){o=t}))})).next((function(){return r._c.Kr(t,e,n?i:ch.min(),n?o:Dl())})).next((function(t){return{documents:t,Rc:o}}))}))}function xv(t,e){var n=$c(t),r=$c(n._o),i=n.fc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Sn(t,e).next((function(t){return t?t.target:null}))}))}function Av(t){var e=$c(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=$c(t),i=Il(),o=dd(n),s=ev(e),u=IDBKeyRange.lowerBound(o,!0);return s.hs({index:Wp.readTimeIndex,range:u},(function(t,e){var n=ld(r.Qt,e);i=i.zt(n.key,n),o=e.readTime})).next((function(){return{Go:i,readTime:vd(o)}}))}(e.Ec,t,e.wc)})).then((function(t){var n=t.Go,r=t.readTime;return e.wc=r,n}))}function Sv(t){return Mi(this,void 0,void 0,(function(){var e;return Vi(this,(function(n){return[2,(e=$c(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=ev(t),n=ch.min();return e.hs({index:Wp.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=vd(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.wc=t}))]}))}))}function Nv(t,e,n,r){return Mi(this,void 0,void 0,(function(){var i,o,s,u,a,c,h,f,l,p;return Vi(this,(function(d){switch(d.label){case 0:for(i=$c(t),o=Dl(),s=Il(),u=Ol(),a=0,c=n;a<c.length;a++)h=c[a],f=e.Pc(h.metadata.name),h.document&&(o=o.add(f)),s=s.zt(f,e.yc(h)),u=u.zt(f,e.gc(h.metadata.readTime));return l=i.Ec.Nr({Wr:!0}),[4,Ev(i,function(t){return xf(gf(fh.ot("__bundle__/docs/"+t)))}(r))];case 1:return p=d.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return _v(t,l,s,ch.min(),u).next((function(e){return l.apply(t),e})).next((function(e){return i._o.Yi(t,p.targetId).next((function(){return i._o.er(t,o,p.targetId)})).next((function(){return i.Tc.Zo(t,e)}))}))}))]}}))}))}function Ov(t,e,n){return void 0===n&&(n=Dl()),Mi(this,void 0,void 0,(function(){var r,i;return Vi(this,(function(o){switch(o.label){case 0:return[4,Ev(t,xf(wd(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=$c(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var o=Jl(e.readTime);if(r.Ot._(o)>=0)return i.wo.Ls(t,e);var s=r.Mt(Wc.T,o);return i.fc=i.fc.zt(s.targetId,s),i._o.Hi(t,s).next((function(){return i._o.Yi(t,r.targetId)})).next((function(){return i._o.er(t,n,r.targetId)})).next((function(){return i.wo.Ls(t,e)}))}))]}}))}))}var kv=function(){function t(t){this.Qt=t,this.Vc=new Map,this.bc=new Map}return t.prototype.Os=function(t,e){return Ap.resolve(this.Vc.get(e))},t.prototype.ks=function(t,e){var n;return this.Vc.set(e.id,{id:(n=e).id,version:n.version,createTime:Jl(n.createTime)}),Ap.resolve()},t.prototype.Ms=function(t,e){return Ap.resolve(this.bc.get(e))},t.prototype.Ls=function(t,e){return this.bc.set(e.name,function(t){return{name:t.name,query:wd(t.bundledQuery),readTime:Jl(t.readTime)}}(e)),Ap.resolve()},t}(),Dv=function(){function t(){this.vc=new wl(Cv.Sc),this.Dc=new wl(Cv.Cc)}return t.prototype.et=function(){return this.vc.et()},t.prototype.nr=function(t,e){var n=new Cv(t,e);this.vc=this.vc.add(n),this.Dc=this.Dc.add(n)},t.prototype.xc=function(t,e){var n=this;t.forEach((function(t){return n.nr(t,e)}))},t.prototype.ir=function(t,e){this.Nc(new Cv(t,e))},t.prototype.$c=function(t,e){var n=this;t.forEach((function(t){return n.ir(t,e)}))},t.prototype.Fc=function(t){var e=this,n=new dh(new fh([])),r=new Cv(n,t),i=new Cv(n,t+1),o=[];return this.Dc.me([r,i],(function(t){e.Nc(t),o.push(t.key)})),o},t.prototype.Oc=function(){var t=this;this.vc.forEach((function(e){return t.Nc(e)}))},t.prototype.Nc=function(t){this.vc=this.vc.delete(t),this.Dc=this.Dc.delete(t)},t.prototype.kc=function(t){var e=new dh(new fh([])),n=new Cv(e,t),r=new Cv(e,t+1),i=Dl();return this.Dc.me([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.Fi=function(t){var e=new Cv(t,0),n=this.vc.Re(e);return null!==n&&t.isEqual(n.key)},t}(),Cv=function(){function t(t,e){this.key=t,this.Mc=e}return t.Sc=function(t,e){return dh.H(t.key,e.key)||Qc(t.Mc,e.Mc)},t.Cc=function(t,e){return Qc(t.Mc,e.Mc)||dh.H(t.key,e.key)},t}(),Pv=function(){function t(t,e){this.Ei=t,this.Ti=e,this.zo=[],this.Lc=1,this.Bc=new wl(Cv.Sc)}return t.prototype.Ai=function(t){return Ap.resolve(0===this.zo.length)},t.prototype.Ri=function(t,e,n,r){var i=this.Lc;this.Lc++,this.zo.length>0&&this.zo[this.zo.length-1];var o=new cd(i,e,n,r);this.zo.push(o);for(var s=0,u=r;s<u.length;s++){var a=u[s];this.Bc=this.Bc.add(new Cv(a.key,i)),this.Ei.qs(t,a.key.path.X())}return Ap.resolve(o)},t.prototype.Pi=function(t,e){return Ap.resolve(this.qc(e))},t.prototype.gi=function(t,e){var n=e+1,r=this.Uc(n),i=r<0?0:r;return Ap.resolve(this.zo.length>i?this.zo[i]:null)},t.prototype.Vi=function(){return Ap.resolve(0===this.zo.length?-1:this.Lc-1)},t.prototype.pi=function(t){return Ap.resolve(this.zo.slice())},t.prototype.bi=function(t,e){var n=this,r=new Cv(e,0),i=new Cv(e,Number.POSITIVE_INFINITY),o=[];return this.Bc.me([r,i],(function(t){var e=n.qc(t.Mc);o.push(e)})),Ap.resolve(o)},t.prototype.vi=function(t,e){var n=this,r=new wl(Qc);return e.forEach((function(t){var e=new Cv(t,0),i=new Cv(t,Number.POSITIVE_INFINITY);n.Bc.me([e,i],(function(t){r=r.add(t.Mc)}))})),Ap.resolve(this.Qc(r))},t.prototype.Di=function(t,e){var n=e.path,r=n.length+1,i=n;dh.wt(i)||(i=i.child(""));var o=new Cv(new dh(i),0),s=new wl(Qc);return this.Bc.Ae((function(t){var e=t.key.path;return!!n.nt(e)&&(e.length===r&&(s=s.add(t.Mc)),!0)}),o),Ap.resolve(this.Qc(s))},t.prototype.Qc=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.qc(t);null!==r&&n.push(r)})),n},t.prototype.Ci=function(t,e){var n=this;Gc(0===this.Kc(e.batchId,"removed")),this.zo.shift();var r=this.Bc;return Ap.forEach(e.mutations,(function(i){var o=new Cv(i.key,e.batchId);return r=r.delete(o),n.Ti.Ni(t,i.key)})).next((function(){n.Bc=r}))},t.prototype.xi=function(t){},t.prototype.Fi=function(t,e){var n=new Cv(e,0),r=this.Bc.Re(n);return Ap.resolve(e.isEqual(r&&r.key))},t.prototype.$i=function(t){return this.zo.length,Ap.resolve()},t.prototype.Kc=function(t,e){return this.Uc(t)},t.prototype.Uc=function(t){return 0===this.zo.length?0:t-this.zo[0].batchId},t.prototype.qc=function(t){var e=this.Uc(t);return e<0||e>=this.zo.length?null:this.zo[e]},t}(),Rv=function(){function t(t,e){this.Ei=t,this.Wc=e,this.docs=new gl(dh.H),this.size=0}return t.prototype.ai=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.Wc(e);return this.docs=this.docs.zt(r,{hi:e,size:s,readTime:n}),this.size+=s-o,this.Ei.qs(t,r.path.X())},t.prototype.li=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype._i=function(t,e){var n=this.docs.get(e);return Ap.resolve(n?n.hi:null)},t.prototype.getEntries=function(t,e){var n=this,r=xl();return e.forEach((function(t){var e=n.docs.get(t);r=r.zt(t,e?e.hi:null)})),Ap.resolve(r)},t.prototype.Kr=function(t,e,n){for(var r=Sl(),i=new dh(e.path.child("")),o=this.docs.ee(i);o.ce();){var s=o.oe(),u=s.key,a=s.value,c=a.hi,h=a.readTime;if(!e.path.nt(u.path))break;h._(n)<=0||c instanceof Hh&&kf(e,c)&&(r=r.zt(c.key,c))}return Ap.resolve(r)},t.prototype.jc=function(t,e){return Ap.forEach(this.docs,(function(t){return e(t)}))},t.prototype.Nr=function(t){return new Lv(this)},t.prototype.Or=function(t){return Ap.resolve(this.size)},t}(),Lv=function(t){function e(e){var n=this;return(n=t.call(this)||this).jr=e,n}return Li(e,t),e.prototype.wi=function(t){var e=this,n=[];return this.ri.forEach((function(r,i){i&&i.hi?n.push(e.jr.ai(t,i.hi,e.ci(r))):e.jr.li(r)})),Ap.Mn(n)},e.prototype.fi=function(t,e){return this.jr._i(t,e)},e.prototype.di=function(t,e){return this.jr.getEntries(t,e)},e}(Pd),jv=function(){function t(t){this.persistence=t,this.Gc=new Cd((function(t){return Wh(t)}),Jh),this.lastRemoteSnapshotVersion=ch.min(),this.highestTargetId=0,this.zc=0,this.Hc=new Dv,this.targetCount=0,this.Jc=qd.Mi()}return t.prototype.In=function(t,e){return this.Gc.forEach((function(t,n){return e(n)})),Ap.resolve()},t.prototype.Qi=function(t){return Ap.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Ki=function(t){return Ap.resolve(this.zc)},t.prototype.Bi=function(t){return this.highestTargetId=this.Jc.next(),Ap.resolve(this.highestTargetId)},t.prototype.Wi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.zc&&(this.zc=e),Ap.resolve()},t.prototype.Gi=function(t){this.Gc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Jc=new qd(e),this.highestTargetId=e),t.sequenceNumber>this.zc&&(this.zc=t.sequenceNumber)},t.prototype.ji=function(t,e){return this.Gi(e),this.targetCount+=1,Ap.resolve()},t.prototype.Hi=function(t,e){return this.Gi(e),Ap.resolve()},t.prototype.Ji=function(t,e){return this.Gc.delete(e.target),this.Hc.Fc(e.targetId),this.targetCount-=1,Ap.resolve()},t.prototype.Xi=function(t,e,n){var r=this,i=0,o=[];return this.Gc.forEach((function(s,u){u.sequenceNumber<=e&&null===n.get(u.targetId)&&(r.Gc.delete(s),o.push(r.Yi(t,u.targetId)),i++)})),Ap.Mn(o).next((function(){return i}))},t.prototype.Zi=function(t){return Ap.resolve(this.targetCount)},t.prototype.tr=function(t,e){var n=this.Gc.get(e)||null;return Ap.resolve(n)},t.prototype.er=function(t,e,n){return this.Hc.xc(e,n),Ap.resolve()},t.prototype.sr=function(t,e,n){this.Hc.$c(e,n);var r=this.persistence.Ti,i=[];return r&&e.forEach((function(e){i.push(r.Ni(t,e))})),Ap.Mn(i)},t.prototype.Yi=function(t,e){return this.Hc.Fc(e),Ap.resolve()},t.prototype.rr=function(t,e){var n=this.Hc.kc(e);return Ap.resolve(n)},t.prototype.Fi=function(t,e){return Ap.resolve(this.Hc.Fi(e))},t}(),Mv=function(){function t(t,e){var n=this;this.Yc={},this.so=new uh(0),this.io=!1,this.io=!0,this.Ti=t(this),this._o=new jv(this),this.Ei=new xd,this.fo=function(t,e){return new Rv(t,(function(t){return n.Ti.Xc(t)}))}(this.Ei),this.Qt=new fd(e),this.wo=new kv(this.Qt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.ko=function(){return this.io=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Po=function(){},t.prototype.yo=function(){},t.prototype.Ko=function(){return this.Ei},t.prototype.Qo=function(t){var e=this.Yc[t.A()];return e||(e=new Pv(this.Ei,this.Ti),this.Yc[t.A()]=e),e},t.prototype.Sr=function(){return this._o},t.prototype.$r=function(){return this.fo},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(t,e,n){var r=this;Fc("MemoryPersistence","Starting transaction:",t);var i=new Vv(this.so.next());return this.Ti.Zc(),n(i).next((function(t){return r.Ti.ta(i).next((function(){return t}))})).On().then((function(t){return i.Vs(),t}))},t.prototype.ea=function(t,e){return Ap.Ln(Object.values(this.Yc).map((function(n){return function(){return n.Fi(t,e)}})))},t}(),Vv=function(t){function e(e){var n=this;return(n=t.call(this)||this).bs=e,n}return Li(e,t),e}(Fp),Fv=function(){function t(t){this.persistence=t,this.na=new Dv,this.sa=null}return t.ia=function(e){return new t(e)},Object.defineProperty(t.prototype,"ra",{get:function(){if(this.sa)return this.sa;throw Bc()},enumerable:!1,configurable:!0}),t.prototype.nr=function(t,e,n){return this.na.nr(n,e),this.ra.delete(n.toString()),Ap.resolve()},t.prototype.ir=function(t,e,n){return this.na.ir(n,e),this.ra.add(n.toString()),Ap.resolve()},t.prototype.Ni=function(t,e){return this.ra.add(e.toString()),Ap.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.na.Fc(e.targetId).forEach((function(t){return n.ra.add(t.toString())}));var r=this.persistence.Sr();return r.rr(t,e.targetId).next((function(t){t.forEach((function(t){return n.ra.add(t.toString())}))})).next((function(){return r.Ji(t,e)}))},t.prototype.Zc=function(){this.sa=new Set},t.prototype.ta=function(t){var e=this,n=this.persistence.$r().Nr();return Ap.forEach(this.ra,(function(r){var i=dh._t(r);return e.oa(t,i).next((function(t){t||n.li(i)}))})).next((function(){return e.sa=null,n.apply(t)}))},t.prototype.Fr=function(t,e){var n=this;return this.oa(t,e).next((function(t){t?n.ra.delete(e.toString()):n.ra.add(e.toString())}))},t.prototype.Xc=function(t){return 0},t.prototype.oa=function(t,e){var n=this;return Ap.Ln([function(){return Ap.resolve(n.na.Fi(e))},function(){return n.persistence.Sr().Fi(t,e)},function(){return n.persistence.ea(t,e)}])},t}();function Uv(t,e){return"firestore_clients_"+t+"_"+e}function qv(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.m()&&(r+="_"+e.uid),r}function zv(t,e){return"firestore_targets_"+t+"_"+e}var Bv=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.ca=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Zc(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(Uc("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Gv=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.ca=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Zc(i.error.code,i.error.message)),o?new t(e,i.state,r):(Uc("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),$v=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.ca=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Pl(),s=0;i&&s<r.activeTargetIds.length;++s)i=Nh(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Uc("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Hv=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.ca=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Uc("SharedClientState","Failed to parse online state: "+e),null)},t}(),Yv=function(){function t(){this.activeTargetIds=Pl()}return t.prototype.ua=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.aa=function(){var t={activeTargetIds:this.activeTargetIds.it(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Qv=function(){function t(t,e,n,r,i){this.window=t,this.Zr=e,this.persistenceKey=n,this.la=r,this._a=null,this.fa=null,this.k=null,this.da=this.wa.bind(this),this.Ea=new gl(Qc),this.Er=!1,this.Ta=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ia=Uv(this.persistenceKey,this.la),this.ma=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ea=this.Ea.zt(this.la,new Yv),this.Aa=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Ra=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Pa=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ya=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.ga=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.da)}return t.Kn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Mi(this,void 0,void 0,(function(){var t,e,n,r,i,o,s,u,a,c,h,f=this;return Vi(this,(function(l){switch(l.label){case 0:return[4,this._a.Uo()];case 1:for(t=l.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.la&&(i=this.getItem(Uv(this.persistenceKey,r)))&&(o=$v.ca(r,i))&&(this.Ea=this.Ea.zt(o.clientId,o));for(this.Va(),(s=this.storage.getItem(this.ya))&&(u=this.pa(s))&&this.ba(u),a=0,c=this.Ta;a<c.length;a++)h=c[a],this.wa(h);return this.Ta=[],this.window.addEventListener("unload",(function(){return f.ko()})),this.Er=!0,[2]}}))}))},t.prototype.B=function(t){this.setItem(this.ma,JSON.stringify(t))},t.prototype.va=function(){return this.Sa(this.Ea)},t.prototype.Da=function(t){var e=!1;return this.Ea.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.Ca=function(t){this.xa(t,"pending")},t.prototype.Na=function(t,e,n){this.xa(t,e,n),this.$a(t)},t.prototype.Fa=function(t){var e="not-current";if(this.Da(t)){var n=this.storage.getItem(zv(this.persistenceKey,t));if(n){var r=Gv.ca(t,n);r&&(e=r.state)}}return this.Oa.ua(t),this.Va(),e},t.prototype.ka=function(t){this.Oa.ha(t),this.Va()},t.prototype.Ma=function(t){return this.Oa.activeTargetIds.has(t)},t.prototype.La=function(t){this.removeItem(zv(this.persistenceKey,t))},t.prototype.Ba=function(t,e,n){this.qa(t,e,n)},t.prototype.Ua=function(t,e,n){var r=this;e.forEach((function(t){r.$a(t)})),this.currentUser=t,n.forEach((function(t){r.Ca(t)}))},t.prototype.Qa=function(t){this.Ka(t)},t.prototype.Wa=function(){this.ja()},t.prototype.ko=function(){this.Er&&(this.window.removeEventListener("storage",this.da),this.removeItem(this.Ia),this.Er=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Fc("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Fc("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Fc("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.wa=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Fc("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ia)return void Uc("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Zr.po((function(){return Mi(e,void 0,void 0,(function(){var t,e,r,i,o,s;return Vi(this,(function(u){if(this.Er){if(null!==n.key)if(this.Aa.test(n.key)){if(null==n.newValue)return t=this.Ga(n.key),[2,this.za(t,null)];if(e=this.Ha(n.key,n.newValue))return[2,this.za(e.clientId,e)]}else if(this.Ra.test(n.key)){if(null!==n.newValue&&(r=this.Ja(n.key,n.newValue)))return[2,this.Ya(r)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(i=this.Xa(n.key,n.newValue)))return[2,this.Za(i)]}else if(n.key===this.ya){if(null!==n.newValue&&(o=this.pa(n.newValue)))return[2,this.ba(o)]}else if(n.key===this.ma)(s=function(t){var e=uh.q;if(null!=t)try{var n=JSON.parse(t);Gc("number"==typeof n),e=n}catch(t){Uc("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==uh.q&&this.k(s);else if(n.key===this.ga)return[2,this._a.tu()]}else this.Ta.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Oa",{get:function(){return this.Ea.get(this.la)},enumerable:!1,configurable:!0}),t.prototype.Va=function(){this.setItem(this.Ia,this.Oa.aa())},t.prototype.xa=function(t,e,n){var r=new Bv(this.currentUser,t,e,n),i=qv(this.persistenceKey,this.currentUser,t);this.setItem(i,r.aa())},t.prototype.$a=function(t){var e=qv(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Ka=function(t){var e={clientId:this.la,onlineState:t};this.storage.setItem(this.ya,JSON.stringify(e))},t.prototype.qa=function(t,e,n){var r=zv(this.persistenceKey,t),i=new Gv(t,e,n);this.setItem(r,i.aa())},t.prototype.ja=function(){this.setItem(this.ga,"value-not-used")},t.prototype.Ga=function(t){var e=this.Aa.exec(t);return e?e[1]:null},t.prototype.Ha=function(t,e){var n=this.Ga(t);return $v.ca(n,e)},t.prototype.Ja=function(t,e){var n=this.Ra.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Bv.ca(new eh(i),r,e)},t.prototype.Xa=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return Gv.ca(r,e)},t.prototype.pa=function(t){return Hv.ca(t)},t.prototype.Ya=function(t){return Mi(this,void 0,void 0,(function(){return Vi(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this._a.eu(t.batchId,t.state,t.error)]:(Fc("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.Za=function(t){return this._a.nu(t.targetId,t.state,t.error)},t.prototype.za=function(t,e){var n=this,r=e?this.Ea.zt(t,e):this.Ea.remove(t),i=this.Sa(this.Ea),o=this.Sa(r),s=[],u=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||u.push(t)})),this._a.su(s,u).then((function(){n.Ea=r}))},t.prototype.ba=function(t){this.Ea.get(t.clientId)&&this.fa(t.onlineState)},t.prototype.Sa=function(t){var e=Pl();return t.forEach((function(t,n){e=e.Pe(n.activeTargetIds)})),e},t}(),Xv=function(){function t(){this.iu=new Yv,this.ru={},this.fa=null,this.k=null}return t.prototype.Ca=function(t){},t.prototype.Na=function(t,e,n){},t.prototype.Fa=function(t){return this.iu.ua(t),this.ru[t]||"not-current"},t.prototype.Ba=function(t,e,n){this.ru[t]=e},t.prototype.ka=function(t){this.iu.ha(t)},t.prototype.Ma=function(t){return this.iu.activeTargetIds.has(t)},t.prototype.La=function(t){delete this.ru[t]},t.prototype.va=function(){return this.iu.activeTargetIds},t.prototype.Da=function(t){return this.iu.activeTargetIds.has(t)},t.prototype.start=function(){return this.iu=new Yv,Promise.resolve()},t.prototype.Ua=function(t,e,n){},t.prototype.Qa=function(t){},t.prototype.ko=function(){},t.prototype.B=function(t){},t.prototype.Wa=function(){},t}(),Kv=function(){function t(){}return t.prototype.ou=function(t){},t.prototype.ko=function(){},t}(),Wv=function(){function t(){var t=this;this.cu=function(){return t.au()},this.uu=function(){return t.hu()},this.lu=[],this._u()}return t.prototype.ou=function(t){this.lu.push(t)},t.prototype.ko=function(){window.removeEventListener("online",this.cu),window.removeEventListener("offline",this.uu)},t.prototype._u=function(){window.addEventListener("online",this.cu),window.addEventListener("offline",this.uu)},t.prototype.au=function(){Fc("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.lu;t<e.length;t++)(0,e[t])(0)},t.prototype.hu=function(){Fc("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.lu;t<e.length;t++)(0,e[t])(1)},t.Kn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Jv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Zv=function(){function t(t){this.fu=t.fu,this.du=t.du}return t.prototype.wu=function(t){this.Eu=t},t.prototype.Tu=function(t){this.Iu=t},t.prototype.onMessage=function(t){this.mu=t},t.prototype.close=function(){this.du()},t.prototype.send=function(t){this.fu(t)},t.prototype.Au=function(){this.Eu()},t.prototype.Ru=function(t){this.Iu(t)},t.prototype.Pu=function(t){this.mu(t)},t}(),ty=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.i=e.i,n}return Li(e,t),e.prototype.Su=function(t,e,n,r){return new Promise((function(i,o){var s=new Rc;s.listenOnce(Oc.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case Nc.NO_ERROR:var e=s.getResponseJson();Fc("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Nc.TIMEOUT:Fc("Connection",'RPC "'+t+'" timed out'),o(new Zc(Jc.DEADLINE_EXCEEDED,"Request time out"));break;case Nc.HTTP_ERROR:var n=s.getStatus();if(Fc("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var u=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Jc).indexOf(e)>=0?e:Jc.UNKNOWN}(r.status);o(new Zc(u,r.message))}else o(new Zc(Jc.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Zc(Jc.UNAVAILABLE,"Connection failed."));break;default:Bc()}}finally{Fc("Connection",'RPC "'+t+'" completed.')}}));var u=JSON.stringify(r);s.send(e,"POST",u,n,15)}))},e.prototype.Cu=function(t,e){var n,r=[this.gu,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=new Tc,o=xu(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.vu(s.initMessageHeaders,e),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gi())||"object"==typeof navigator&&"ReactNative"===navigator.product||Gi().indexOf("Electron/")>=0||function(){var t=Gi();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()||Gi().indexOf("MSAppHost/")>=0||"object"==typeof(n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0)&&void 0!==n.id||(s.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");Fc("Connection","Creating WebChannel: "+u,s);var a=i.createWebChannel(u,s),c=!1,h=!1,f=new Zv({fu:function(t){h?Fc("Connection","Not sending because WebChannel is closed:",t):(c||(Fc("Connection","Opening WebChannel transport."),a.open(),c=!0),Fc("Connection","WebChannel sending:",t),a.send(t))},du:function(){return a.close()}}),l=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return l(a,Pc.EventType.OPEN,(function(){h||Fc("Connection","WebChannel transport opened.")})),l(a,Pc.EventType.CLOSE,(function(){h||(h=!0,Fc("Connection","WebChannel transport closed"),f.Ru())})),l(a,Pc.EventType.ERROR,(function(t){h||(h=!0,qc("Connection","WebChannel transport errored:",t),f.Ru(new Zc(Jc.UNAVAILABLE,"The operation could not be completed")))})),l(a,Pc.EventType.MESSAGE,(function(t){var e;if(!h){var n=t.data[0];Gc(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){Fc("Connection","WebChannel received error:",i);var o=i.status,s=function(t){var e=fl[t];if(void 0!==e)return ml(e)}(o),u=i.message;void 0===s&&(s=Jc.INTERNAL,u="Unknown error status: "+o+" with message "+i.message),h=!0,f.Ru(new Zc(s,u)),a.close()}else Fc("Connection","WebChannel received:",n),f.Pu(n)}})),l(o,kc.STAT_EVENT,(function(t){t.stat===Dc?Fc("Connection","Detected buffering proxy"):t.stat===Cc&&Fc("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Au()}),0),f},e}(function(){function t(t){this.yu=t,this.t=t.t;var e=t.ssl?"https":"http";this.gu=e+"://"+t.host,this.Vu="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.pu=function(t,e,n,r){var i=this.bu(t,e);Fc("RestConnection","Sending: ",i,n);var o={};return this.vu(o,r),this.Su(t,i,o,n).then((function(t){return Fc("RestConnection","Received: ",t),t}),(function(e){throw qc("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Du=function(t,e,n,r){return this.pu(t,e,n,r)},t.prototype.vu=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.9",t["Content-Type"]="text/plain",e)for(var n in e.g)e.g.hasOwnProperty(n)&&(t[n]=e.g[n])},t.prototype.bu=function(t,e){var n=Jv[t];return this.gu+"/v1/"+e+":"+n},t}());function ey(){return"undefined"!=typeof window?window:null}function ny(){return"undefined"!=typeof document?document:null}function ry(t){return new Ql(t,!0)}var iy=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Zr=t,this.fs=e,this.xu=n,this.Nu=r,this.$u=i,this.Fu=0,this.Ou=null,this.ku=Date.now(),this.reset()}return t.prototype.reset=function(){this.Fu=0},t.prototype.Mu=function(){this.Fu=this.$u},t.prototype.Lu=function(t){var e=this;this.cancel();var n=Math.floor(this.Fu+this.Bu()),r=Math.max(0,Date.now()-this.ku),i=Math.max(0,n-r);i>0&&Fc("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Fu+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ou=this.Zr.Tr(this.fs,i,(function(){return e.ku=Date.now(),t()})),this.Fu*=this.Nu,this.Fu<this.xu&&(this.Fu=this.xu),this.Fu>this.$u&&(this.Fu=this.$u)},t.prototype.qu=function(){null!==this.Ou&&(this.Ou.Rs(),this.Ou=null)},t.prototype.cancel=function(){null!==this.Ou&&(this.Ou.cancel(),this.Ou=null)},t.prototype.Bu=function(){return(Math.random()-.5)*this.Fu},t}(),oy=function(){function t(t,e,n,r,i,o){this.Zr=t,this.Uu=n,this.Qu=r,this.Ku=i,this.listener=o,this.state=0,this.Wu=0,this.ju=null,this.stream=null,this.Gu=new iy(t,e)}return t.prototype.zu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Hu=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Ju()},t.prototype.stop=function(){return Mi(this,void 0,void 0,(function(){return Vi(this,(function(t){switch(t.label){case 0:return this.zu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.Yu=function(){this.state=0,this.Gu.reset()},t.prototype.Xu=function(){var t=this;this.Hu()&&null===this.ju&&(this.ju=this.Zr.Tr(this.Uu,6e4,(function(){return t.Zu()})))},t.prototype.th=function(t){this.eh(),this.stream.send(t)},t.prototype.Zu=function(){return Mi(this,void 0,void 0,(function(){return Vi(this,(function(t){return this.Hu()?[2,this.close(0)]:[2]}))}))},t.prototype.eh=function(){this.ju&&(this.ju.cancel(),this.ju=null)},t.prototype.close=function(t,e){return Mi(this,void 0,void 0,(function(){return Vi(this,(function(n){switch(n.label){case 0:return this.eh(),this.Gu.cancel(),this.Wu++,3!==t?this.Gu.reset():e&&e.code===Jc.RESOURCE_EXHAUSTED?(Uc(e.toString()),Uc("Using maximum backoff delay to prevent overloading the backend."),this.Gu.Mu()):e&&e.code===Jc.UNAUTHENTICATED&&this.Ku.p(),null!==this.stream&&(this.nh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Tu(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.nh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.sh(this.Wu),n=this.Wu;this.Ku.getToken().then((function(e){t.Wu===n&&t.ih(e)}),(function(n){e((function(){var e=new Zc(Jc.UNKNOWN,"Fetching auth token failed: "+n.message);return t.rh(e)}))}))},t.prototype.ih=function(t){var e=this,n=this.sh(this.Wu);this.stream=this.oh(t),this.stream.wu((function(){n((function(){return e.state=2,e.listener.wu()}))})),this.stream.Tu((function(t){n((function(){return e.rh(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.Ju=function(){var t=this;this.state=4,this.Gu.Lu((function(){return Mi(t,void 0,void 0,(function(){return Vi(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.rh=function(t){return Fc("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.sh=function(t){var e=this;return function(n){e.Zr.Ps((function(){return e.Wu===t?n():(Fc("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),sy=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).Qt=i,s}return Li(e,t),e.prototype.oh=function(t){return this.Qu.Cu("Listen",t)},e.prototype.onMessage=function(t){this.Gu.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Bc()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.Bt?(Gc(void 0===e||"string"==typeof e),Wc.fromBase64String(e||"")):(Gc(void 0===e||e instanceof Uint8Array),Wc.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(u=e.targetChange.cause)&&function(t){var e=void 0===t.code?Jc.UNKNOWN:ml(t.code);return new Zc(e,t.message||"")}(u);n=new ql(r,i,o,s||null)}else if("documentChange"in e){e.documentChange,(r=e.documentChange).document,r.document.name,r.document.updateTime,i=np(t,r.document.name),o=Jl(r.document.updateTime);var u=new zh({mapValue:{fields:r.document.fields}}),a=(s=new Hh(i,o,u,{}),r.targetIds||[]),c=r.removedTargetIds||[];n=new Fl(a,c,s.key,s)}else if("documentDelete"in e)e.documentDelete,(r=e.documentDelete).document,i=np(t,r.document),o=r.readTime?Jl(r.readTime):ch.min(),u=new Yh(i,o),s=r.removedTargetIds||[],n=new Fl([],s,u.key,u);else if("documentRemove"in e)e.documentRemove,(r=e.documentRemove).document,i=np(t,r.document),o=r.removedTargetIds||[],n=new Fl([],o,i,null);else{if(!("filter"in e))return Bc();e.filter;var h=e.filter;h.targetId,r=h.count||0,i=new vl(r),o=h.targetId,n=new Ul(o,i)}return n}(this.Qt,t),n=function(t){if(!("targetChange"in t))return ch.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?ch.min():e.readTime?Jl(e.readTime):ch.min()}(t);return this.listener.ah(e,n)},e.prototype.uh=function(t){var e={};e.database=op(this.Qt),e.addTarget=function(t,e){var n,r=e.target;return(n=Zh(r)?{documents:fp(t,r)}:{query:lp(t,r)}).targetId=e.targetId,e.resumeToken.l()>0?n.resumeToken=Kl(t,e.resumeToken):e.Ot._(ch.min())>0&&(n.readTime=Xl(t,e.Ot.j())),n}(this.Qt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Bc()}}(0,e.Ft);return null==n?null:{"goog-listen-tags":n}}(this.Qt,t);n&&(e.labels=n),this.th(e)},e.prototype.hh=function(t){var e={};e.database=op(this.Qt),e.removeTarget=t,this.th(e)},e}(oy),uy=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).Qt=i,s.lh=!1,s}return Li(e,t),Object.defineProperty(e.prototype,"_h",{get:function(){return this.lh},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.lh=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.nh=function(){this.lh&&this.fh([])},e.prototype.oh=function(t){return this.Qu.Cu("Write",t)},e.prototype.onMessage=function(t){if(Gc(!!t.streamToken),this.lastStreamToken=t.streamToken,this.lh){this.Gu.reset();var e=function(t,e){return t&&t.length>0?(Gc(void 0!==e),t.map((function(t){return function(t,e){var n=t.updateTime?Jl(t.updateTime):Jl(e);n.isEqual(ch.min())&&(n=Jl(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Kf(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=Jl(t.commitTime);return this.listener.dh(n,e)}return Gc(!t.writeResults||0===t.writeResults.length),this.lh=!0,this.listener.wh()},e.prototype.Eh=function(){var t={};t.database=op(this.Qt),this.th(t)},e.prototype.fh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return cp(e.Qt,t)}))};this.th(n)},e}(oy),ay=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Qu=n,i.Qt=r,i.Th=!1,i}return Li(e,t),e.prototype.Ih=function(){if(this.Th)throw new Zc(Jc.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.pu=function(t,e,n){var r=this;return this.Ih(),this.credentials.getToken().then((function(i){return r.Qu.pu(t,e,n,i)})).catch((function(t){throw t.code===Jc.UNAUTHENTICATED&&r.credentials.p(),t}))},e.prototype.Du=function(t,e,n){var r=this;return this.Ih(),this.credentials.getToken().then((function(i){return r.Qu.Du(t,e,n,i)})).catch((function(t){throw t.code===Jc.UNAUTHENTICATED&&r.credentials.p(),t}))},e.prototype.terminate=function(){this.Th=!1},e}((function(){})),cy=function(){function t(t,e){this._s=t,this.fa=e,this.state="Unknown",this.mh=0,this.Ah=null,this.Rh=!0}return t.prototype.Ph=function(){var t=this;0===this.mh&&(this.yh("Unknown"),this.Ah=this._s.Tr("online_state_timeout",1e4,(function(){return t.Ah=null,t.gh("Backend didn't respond within 10 seconds."),t.yh("Offline"),Promise.resolve()})))},t.prototype.Vh=function(t){"Online"===this.state?this.yh("Unknown"):(this.mh++,this.mh>=1&&(this.ph(),this.gh("Connection failed 1 times. Most recent error: "+t.toString()),this.yh("Offline")))},t.prototype.set=function(t){this.ph(),this.mh=0,"Online"===t&&(this.Rh=!1),this.yh(t)},t.prototype.yh=function(t){t!==this.state&&(this.state=t,this.fa(t))},t.prototype.gh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Rh?(Uc(e),this.Rh=!1):Fc("OnlineStateTracker",e)},t.prototype.ph=function(){null!==this.Ah&&(this.Ah.cancel(),this.Ah=null)},t}(),hy=function(t,e,n,r,i){var o=this;this.bh=t,this.Sh=e,this._s=n,this.Dh={},this.Ch=[],this.xh=new Map,this.Nh=new Set,this.$h=[],this.Fh=i,this.Fh.ou((function(t){n.Ps((function(){return Mi(o,void 0,void 0,(function(){return Vi(this,(function(t){switch(t.label){case 0:return by(this)?(Fc("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Mi(this,void 0,void 0,(function(){var e;return Vi(this,(function(n){switch(n.label){case 0:return(e=$c(t)).Nh.add(4),[4,ly(e)];case 1:return n.sent(),e.Oh.set("Unknown"),e.Nh.delete(4),[4,fy(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Oh=new cy(n,r)};function fy(t){return Mi(this,void 0,void 0,(function(){var e,n;return Vi(this,(function(r){switch(r.label){case 0:if(!by(t))return[3,4];e=0,n=t.$h,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function ly(t){return Mi(this,void 0,void 0,(function(){var e,n;return Vi(this,(function(r){switch(r.label){case 0:e=0,n=t.$h,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function py(t,e){var n=$c(t);n.xh.has(e.targetId)||(n.xh.set(e.targetId,e),gy(n)?my(n):Ry(n).Hu()&&vy(n,e))}function dy(t,e){var n=$c(t),r=Ry(n);n.xh.delete(e),r.Hu()&&yy(n,e),0===n.xh.size&&(r.Hu()?r.Xu():by(n)&&n.Oh.set("Unknown"))}function vy(t,e){t.kh.on(e.targetId),Ry(t).uh(e)}function yy(t,e){t.kh.on(e),Ry(t).hh(e)}function my(t){t.kh=new Bl({vn:function(e){return t.Dh.vn(e)},Sn:function(e){return t.xh.get(e)||null}}),Ry(t).start(),t.Oh.Ph()}function gy(t){return by(t)&&!Ry(t).zu()&&t.xh.size>0}function by(t){return 0===$c(t).Nh.size}function _y(t){t.kh=void 0}function wy(t){return Mi(this,void 0,void 0,(function(){return Vi(this,(function(e){return t.xh.forEach((function(e,n){vy(t,e)})),[2]}))}))}function Ey(t,e){return Mi(this,void 0,void 0,(function(){return Vi(this,(function(n){return _y(t),gy(t)?(t.Oh.Vh(e),my(t)):t.Oh.set("Unknown"),[2]}))}))}function Ty(t,e,n){return Mi(this,void 0,void 0,(function(){var r,i,o;return Vi(this,(function(s){switch(s.label){case 0:if(t.Oh.set("Online"),!(e instanceof ql&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Mi(this,void 0,void 0,(function(){var n,r,i,o;return Vi(this,(function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?(o=i[r],t.xh.has(o)?[4,t.Dh.Mh(o,n)]:[3,3]):[3,5];case 2:s.sent(),t.xh.delete(o),t.kh.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Fc("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Iy(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Fl?t.kh.dn(e):e instanceof Ul?t.kh.Pn(e):t.kh.Tn(e),n.isEqual(ch.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,gv(t.bh)];case 8:return i=s.sent(),n._(i)>=0?[4,function(t,e){var n=t.kh.Vn(e);return n.$e.forEach((function(n,r){if(n.resumeToken.l()>0){var i=t.xh.get(r);i&&t.xh.set(r,i.Mt(n.resumeToken,e))}})),n.Fe.forEach((function(e){var n=t.xh.get(e);if(n){t.xh.set(e,n.Mt(Wc.T,n.Ot)),yy(t,e);var r=new Pf(n.target,e,1,n.sequenceNumber);vy(t,r)}})),t.Dh.Lh(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Fc("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Iy(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function Iy(t,e,n){return Mi(this,void 0,void 0,(function(){var r=this;return Vi(this,(function(i){switch(i.label){case 0:if(!Dp(e))throw e;return t.Nh.add(1),[4,ly(t)];case 1:return i.sent(),t.Oh.set("Offline"),n||(n=function(){return gv(t.bh)}),t._s.po((function(){return Mi(r,void 0,void 0,(function(){return Vi(this,(function(e){switch(e.label){case 0:return Fc("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Nh.delete(1),[4,fy(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function xy(t,e){return e().catch((function(n){return Iy(t,n,e)}))}function Ay(t){return Mi(this,void 0,void 0,(function(){var e,n,r,i,o;return Vi(this,(function(s){switch(s.label){case 0:e=$c(t),n=Ly(e),r=e.Ch.length>0?e.Ch[e.Ch.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return by(t)&&t.Ch.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,wv(e.bh,r)];case 3:return null===(i=s.sent())?(0===e.Ch.length&&n.Xu(),[3,7]):(r=i.batchId,function(t,e){t.Ch.push(e);var n=Ly(t);n.Hu()&&n._h&&n.fh(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,Iy(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return Sy(e)&&Ny(e),[2]}}))}))}function Sy(t){return by(t)&&!Ly(t).zu()&&t.Ch.length>0}function Ny(t){Ly(t).start()}function Oy(t){return Mi(this,void 0,void 0,(function(){return Vi(this,(function(e){return Ly(t).Eh(),[2]}))}))}function ky(t){return Mi(this,void 0,void 0,(function(){var e,n,r,i;return Vi(this,(function(o){for(e=Ly(t),n=0,r=t.Ch;n<r.length;n++)i=r[n],e.fh(i.mutations);return[2]}))}))}function Dy(t,e,n){return Mi(this,void 0,void 0,(function(){var r,i;return Vi(this,(function(o){switch(o.label){case 0:return r=t.Ch.shift(),i=hd.from(r,e,n),[4,xy(t,(function(){return t.Dh.Bh(i)}))];case 1:return o.sent(),[4,Ay(t)];case 2:return o.sent(),[2]}}))}))}function Cy(t,e){return Mi(this,void 0,void 0,(function(){return Vi(this,(function(n){switch(n.label){case 0:return e&&Ly(t)._h?[4,function(t,e){return Mi(this,void 0,void 0,(function(){var n,r;return Vi(this,(function(i){switch(i.label){case 0:return yl(r=e.code)&&r!==Jc.ABORTED?(n=t.Ch.shift(),Ly(t).Yu(),[4,xy(t,(function(){return t.Dh.qh(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,Ay(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Sy(t)&&Ny(t),[2]}}))}))}function Py(t,e){return Mi(this,void 0,void 0,(function(){var n;return Vi(this,(function(r){switch(r.label){case 0:return n=$c(t),e?(n.Nh.delete(2),[4,fy(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Nh.add(2),[4,ly(n)]);case 3:r.sent(),n.Oh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Ry(t){var e=this;return t.Uh||(t.Uh=function(t,e,n){var r=$c(t);return r.Ih(),new sy(e,r.Qu,r.credentials,r.Qt,n)}(t.Sh,t._s,{wu:wy.bind(null,t),Tu:Ey.bind(null,t),ah:Ty.bind(null,t)}),t.$h.push((function(n){return Mi(e,void 0,void 0,(function(){return Vi(this,(function(e){switch(e.label){case 0:return n?(t.Uh.Yu(),gy(t)?my(t):t.Oh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Uh.stop()];case 2:e.sent(),_y(t),e.label=3;case 3:return[2]}}))}))}))),t.Uh}function Ly(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=$c(t);return r.Ih(),new uy(e,r.Qu,r.credentials,r.Qt,n)}(t.Sh,t._s,{wu:Oy.bind(null,t),Tu:Cy.bind(null,t),wh:ky.bind(null,t),dh:Dy.bind(null,t)}),t.$h.push((function(n){return Mi(e,void 0,void 0,(function(){return Vi(this,(function(e){switch(e.label){case 0:return n?(t.Qh.Yu(),[4,Ay(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qh.stop()];case 3:e.sent(),t.Ch.length>0&&(Fc("RemoteStore","Stopping write stream with "+t.Ch.length+" pending writes"),t.Ch=[]),e.label=4;case 4:return[2]}}))}))}))),t.Qh}var jy=function(){this.Kh=void 0,this.listeners=[]},My=function(){this.queries=new Cd((function(t){return Nf(t)}),Sf),this.onlineState="Unknown",this.Wh=new Set};function Vy(t,e){return Mi(this,void 0,void 0,(function(){var n,r,i,o,s,u,a;return Vi(this,(function(c){switch(c.label){case 0:if(n=$c(t),r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new jy),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.jh(r)];case 2:return s.Kh=c.sent(),[3,4];case 3:return u=c.sent(),a=Mp(u,"Initialization of query '"+Of(e.query)+"' failed"),[2,void e.onError(a)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.Gh(n.onlineState),o.Kh&&e.zh(o.Kh)&&zy(n),[2]}}))}))}function Fy(t,e){return Mi(this,void 0,void 0,(function(){var n,r,i,o,s;return Vi(this,(function(u){return n=$c(t),r=e.query,i=!1,(o=n.queries.get(r))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Hh(r))]:[2]}))}))}function Uy(t,e){for(var n=$c(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],u=s.query,a=n.queries.get(u);if(a){for(var c=0,h=a.listeners;c<h.length;c++)h[c].zh(s)&&(r=!0);a.Kh=s}}r&&zy(n)}function qy(t,e,n){var r=$c(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function zy(t){t.Wh.forEach((function(t){t.next()}))}var By=function(){function t(t,e,n){this.query=t,this.Jh=e,this.Yh=!1,this.Xh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.zh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new jl(t.query,t.docs,t.Se,e,t.De,t.fromCache,t.Ce,!0)}var o=!1;return this.Yh?this.Zh(t)&&(this.Jh.next(t),o=!0):this.tl(t,this.onlineState)&&(this.el(t),o=!0),this.Xh=t,o},t.prototype.onError=function(t){this.Jh.error(t)},t.prototype.Gh=function(t){this.onlineState=t;var e=!1;return this.Xh&&!this.Yh&&this.tl(this.Xh,t)&&(this.el(this.Xh),e=!0),e},t.prototype.tl=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.nl&&n||t.docs.et()&&"Offline"!==e)},t.prototype.Zh=function(t){if(t.docChanges.length>0)return!0;var e=this.Xh&&this.Xh.hasPendingWrites!==t.hasPendingWrites;return!(!t.Ce&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.el=function(t){t=jl.Ne(t.query,t.docs,t.De,t.fromCache),this.Yh=!0,this.Jh.next(t)},t}(),Gy=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.sl=function(){return"metadata"in this.payload},t}(),$y=function(){function t(t){this.Qt=t}return t.prototype.Pc=function(t){return np(this.Qt,t)},t.prototype.yc=function(t){return t.metadata.exists?ap(this.Qt,t.document,!1):new Yh(this.Pc(t.metadata.name),this.gc(t.metadata.readTime))},t.prototype.gc=function(t){return Jl(t)},t}();!function(){function t(t,e,n){this.il=t,this.bh=e,this.Qt=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.rl=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.ol=function(t){for(var e=new Map,n=new $y(this.Qt),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.Pc(o.metadata.name),u=0,a=o.metadata.queries;u<a.length;u++){var c=a[u],h=(e.get(c)||Dl()).add(s);e.set(c,h)}}return e},t.prototype.complete=function(){return Mi(this,void 0,void 0,(function(){var t,e,n,r,i;return Vi(this,(function(o){switch(o.label){case 0:return[4,Nv(this.bh,new $y(this.Qt),this.documents,this.il.id)];case 1:t=o.sent(),e=this.ol(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,Ov(this.bh,i,e.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new hv(Object.assign({},this.progress),t))]}}))}))}}();var Hy=function(t){this.key=t},Yy=function(t){this.key=t},Qy=function(){function t(t,e){this.query=t,this.cl=e,this.al=null,this.Be=!1,this.ul=Dl(),this.De=Dl(),this.hl=Df(t),this.ll=new Rl(this.hl)}return Object.defineProperty(t.prototype,"_l",{get:function(){return this.cl},enumerable:!1,configurable:!0}),t.prototype.fl=function(t,e){var n=this,r=e?e.dl:new Ll,i=e?e.ll:this.ll,o=e?e.De:this.De,s=i,u=!1,a=bf(this.query)&&i.size===this.query.limit?i.last():null,c=_f(this.query)&&i.size===this.query.limit?i.first():null;if(t.Xt((function(t,e){var h=i.get(t),f=e instanceof Hh?e:null;f&&(f=kf(n.query,f)?f:null);var l=!!h&&n.De.has(h.key),p=!!f&&(f.Vt||n.De.has(f.key)&&f.hasCommittedMutations),d=!1;h&&f?h.data().isEqual(f.data())?l!==p&&(r.track({type:3,doc:f}),d=!0):n.wl(h,f)||(r.track({type:2,doc:f}),d=!0,(a&&n.hl(f,a)>0||c&&n.hl(f,c)<0)&&(u=!0)):!h&&f?(r.track({type:0,doc:f}),d=!0):h&&!f&&(r.track({type:1,doc:h}),d=!0,(a||c)&&(u=!0)),d&&(f?(s=s.add(f),o=p?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),bf(this.query)||_f(this.query))for(;s.size>this.query.limit;){var h=bf(this.query)?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{ll:s,dl:r,lc:u,De:o}},t.prototype.wl=function(t,e){return t.Vt&&e.hasCommittedMutations&&!e.Vt},t.prototype.wi=function(t,e,n){var r=this,i=this.ll;this.ll=t.ll,this.De=t.De;var o=t.dl.ve();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Bc()}};return n(t)-n(e)}(t.type,e.type)||r.hl(t.doc,e.doc)})),this.El(n);var s=e?this.Tl():[],u=0===this.ul.size&&this.Be?1:0,a=u!==this.al;return this.al=u,0!==o.length||a?{snapshot:new jl(this.query,t.ll,i,o,t.De,0===u,a,!1),Il:s}:{Il:s}},t.prototype.Gh=function(t){return this.Be&&"Offline"===t?(this.Be=!1,this.wi({ll:this.ll,dl:new Ll,De:this.De,lc:!1},!1)):{Il:[]}},t.prototype.ml=function(t){return!this.cl.has(t)&&!!this.ll.has(t)&&!this.ll.get(t).Vt},t.prototype.El=function(t){var e=this;t&&(t.qe.forEach((function(t){return e.cl=e.cl.add(t)})),t.Ue.forEach((function(t){})),t.Qe.forEach((function(t){return e.cl=e.cl.delete(t)})),this.Be=t.Be)},t.prototype.Tl=function(){var t=this;if(!this.Be)return[];var e=this.ul;this.ul=Dl(),this.ll.forEach((function(e){t.ml(e.key)&&(t.ul=t.ul.add(e.key))}));var n=[];return e.forEach((function(e){t.ul.has(e)||n.push(new Yy(e))})),this.ul.forEach((function(t){e.has(t)||n.push(new Hy(t))})),n},t.prototype.Al=function(t){this.cl=t.Rc,this.ul=Dl();var e=this.fl(t.documents);return this.wi(e,!0)},t.prototype.Rl=function(){return jl.Ne(this.query,this.ll,this.De,0===this.al)},t}(),Xy=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Ky=function(t){this.key=t,this.Pl=!1},Wy=function(){function t(t,e,n,r,i,o){this.bh=t,this.yl=e,this.gl=n,this.Vl=r,this.currentUser=i,this.pl=o,this.bl={},this.vl=new Cd((function(t){return Nf(t)}),Sf),this.Sl=new Map,this.Dl=new Set,this.Cl=new gl(dh.H),this.xl=new Map,this.Nl=new Dv,this.$l={},this.Fl=new Map,this.Ol=qd.Li(),this.onlineState="Unknown",this.kl=void 0}return Object.defineProperty(t.prototype,"Ml",{get:function(){return!0===this.kl},enumerable:!1,configurable:!0}),t}();function Jy(t,e){return Mi(this,void 0,void 0,(function(){var n,r,i,o,s,u;return Vi(this,(function(a){switch(a.label){case 0:return n=Sm(t),(o=n.vl.get(e))?(r=o.targetId,n.Vl.Fa(r),i=o.view.Rl(),[3,4]):[3,1];case 1:return[4,Ev(n.bh,xf(e))];case 2:return s=a.sent(),u=n.Vl.Fa(s.targetId),r=s.targetId,[4,Zy(n,e,r,"current"===u)];case 3:i=a.sent(),n.Ml&&py(n.yl,s),a.label=4;case 4:return[2,i]}}))}))}function Zy(t,e,n,r){return Mi(this,void 0,void 0,(function(){var i,o,s,u,a,c;return Vi(this,(function(h){switch(h.label){case 0:return t.Ll=function(e,n,r){return function(t,e,n,r){return Mi(this,void 0,void 0,(function(){var i,o,s;return Vi(this,(function(u){switch(u.label){case 0:return(i=e.view.fl(n)).lc?[4,Iv(t.bh,e.query,!1).then((function(t){var n=t.documents;return e.view.fl(n,i)}))]:[3,2];case 1:i=u.sent(),u.label=2;case 2:return o=r&&r.$e.get(e.targetId),s=e.view.wi(i,t.Ml,o),[2,(lm(t,e.targetId,s.Il),s.snapshot)]}}))}))}(t,e,n,r)},[4,Iv(t.bh,e,!0)];case 1:return i=h.sent(),o=new Qy(e,i.Rc),s=o.fl(i.documents),u=Vl.Le(n,r&&"Offline"!==t.onlineState),a=o.wi(s,t.Ml,u),lm(t,n,a.Il),c=new Xy(e,n,o),[2,(t.vl.set(e,c),t.Sl.has(n)?t.Sl.get(n).push(e):t.Sl.set(n,[e]),a.snapshot)]}}))}))}function tm(t,e){return Mi(this,void 0,void 0,(function(){var n,r,i;return Vi(this,(function(o){switch(o.label){case 0:return n=$c(t),r=n.vl.get(e),(i=n.Sl.get(r.targetId)).length>1?[2,(n.Sl.set(r.targetId,i.filter((function(t){return!Sf(t,e)}))),void n.vl.delete(e))]:n.Ml?(n.Vl.ka(r.targetId),n.Vl.Da(r.targetId)?[3,2]:[4,Tv(n.bh,r.targetId,!1).then((function(){n.Vl.La(r.targetId),dy(n.yl,r.targetId),hm(n,r.targetId)})).catch(Dd)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return hm(n,r.targetId),[4,Tv(n.bh,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function em(t,e,n){return Mi(this,void 0,void 0,(function(){var r,i,o,s;return Vi(this,(function(u){switch(u.label){case 0:r=Nm(t),u.label=1;case 1:return u.trys.push([1,5,,6]),[4,function(t,e){var n,r=$c(t),i=ah.now(),o=e.reduce((function(t,e){return t.add(e.key)}),Dl());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Tc.Xo(t,o).next((function(o){n=o;for(var s=[],u=0,a=e;u<a.length;u++){var c=a[u],h=nl(c,n.get(c.key));null!=h&&s.push(new sl(c.key,h,Gh(h.proto.mapValue),Wf.exists(!0)))}return r.zo.Ri(t,i,s,e)}))})).then((function(t){var e=t.xs(n);return{batchId:t.batchId,ri:e}}))}(r.bh,e)];case 2:return i=u.sent(),r.Vl.Ca(i.batchId),function(t,e,n){var r=t.$l[t.currentUser.A()];r||(r=new gl(Qc)),r=r.zt(e,n),t.$l[t.currentUser.A()]=r}(r,i.batchId,n),[4,vm(r,i.ri)];case 3:return u.sent(),[4,Ay(r.yl)];case 4:return u.sent(),[3,6];case 5:return o=u.sent(),s=Mp(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}}))}))}function nm(t,e){return Mi(this,void 0,void 0,(function(){var n,r;return Vi(this,(function(i){switch(i.label){case 0:n=$c(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,bv(n.bh,e)];case 2:return r=i.sent(),e.$e.forEach((function(t,e){var r=n.xl.get(e);r&&(Gc(t.qe.size+t.Ue.size+t.Qe.size<=1),t.qe.size>0?r.Pl=!0:t.Ue.size>0?Gc(r.Pl):t.Qe.size>0&&(Gc(r.Pl),r.Pl=!1))})),[4,vm(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Dd(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function rm(t,e,n){var r=$c(t);if(r.Ml&&0===n||!r.Ml&&1===n){var i=[];r.vl.forEach((function(t,n){var r=n.view.Gh(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=$c(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].Gh(e)&&(r=!0)})),r&&zy(n)}(r.gl,e),i.length&&r.bl.ah(i),r.onlineState=e,r.Ml&&r.Vl.Qa(e)}}function im(t,e,n){return Mi(this,void 0,void 0,(function(){var r,i,o,s,u,a;return Vi(this,(function(c){switch(c.label){case 0:return(r=$c(t)).Vl.Ba(e,"rejected",n),i=r.xl.get(e),(o=i&&i.key)?(s=(s=new gl(dh.H)).zt(o,new Yh(o,ch.min())),u=Dl().add(o),a=new Ml(ch.min(),new Map,new wl(Qc),s,u),[4,nm(r,a)]):[3,2];case 1:return c.sent(),r.Cl=r.Cl.remove(o),r.xl.delete(e),dm(r),[3,4];case 2:return[4,Tv(r.bh,e,!1).then((function(){return hm(r,e,n)})).catch(Dd)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function om(t,e){return Mi(this,void 0,void 0,(function(){var n,r,i;return Vi(this,(function(o){switch(o.label){case 0:n=$c(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,mv(n.bh,e)];case 2:return i=o.sent(),cm(n,r,null),am(n,r),n.Vl.Na(r,"acknowledged"),[4,vm(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Dd(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function sm(t,e,n){return Mi(this,void 0,void 0,(function(){var r,i;return Vi(this,(function(o){switch(o.label){case 0:r=$c(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=$c(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.zo.Pi(t,e).next((function(e){return Gc(null!==e),r=e.keys(),n.zo.Ci(t,e)})).next((function(){return n.zo.$i(t)})).next((function(){return n.Tc.Xo(t,r)}))}))}(r.bh,e)];case 2:return i=o.sent(),cm(r,e,n),am(r,e),r.Vl.Na(e,"rejected",n),[4,vm(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Dd(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function um(t,e){return Mi(this,void 0,void 0,(function(){var n,r,i,o,s;return Vi(this,(function(u){switch(u.label){case 0:by((n=$c(t)).yl)||Fc("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,function(t){var e=$c(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.zo.Vi(t)}))}(n.bh)];case 2:return-1===(r=u.sent())?[2,void e.resolve()]:((i=n.Fl.get(r)||[]).push(e),n.Fl.set(r,i),[3,4]);case 3:return o=u.sent(),s=Mp(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}}))}))}function am(t,e){(t.Fl.get(e)||[]).forEach((function(t){t.resolve()})),t.Fl.delete(e)}function cm(t,e,n){var r=$c(t),i=r.$l[r.currentUser.A()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.$l[r.currentUser.A()]=i}}function hm(t,e,n){void 0===n&&(n=null),t.Vl.ka(e);for(var r=0,i=t.Sl.get(e);r<i.length;r++){var o=i[r];t.vl.delete(o),n&&t.bl.Bl(o,n)}t.Sl.delete(e),t.Ml&&t.Nl.Fc(e).forEach((function(e){t.Nl.Fi(e)||fm(t,e)}))}function fm(t,e){t.Dl.delete(e.path.rt());var n=t.Cl.get(e);null!==n&&(dy(t.yl,n),t.Cl=t.Cl.remove(e),t.xl.delete(n),dm(t))}function lm(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Hy?(t.Nl.nr(o.key,e),pm(t,o)):o instanceof Yy?(Fc("SyncEngine","Document no longer in limbo: "+o.key),t.Nl.ir(o.key,e),t.Nl.Fi(o.key)||fm(t,o.key)):Bc()}}function pm(t,e){var n=e.key,r=n.path.rt();t.Cl.get(n)||t.Dl.has(r)||(Fc("SyncEngine","New document in limbo: "+n),t.Dl.add(r),dm(t))}function dm(t){for(;t.Dl.size>0&&t.Cl.size<t.pl;){var e=t.Dl.values().next().value;t.Dl.delete(e);var n=new dh(fh.ot(e)),r=t.Ol.next();t.xl.set(r,new Ky(n)),t.Cl=t.Cl.zt(n,r),py(t.yl,new Pf(xf(gf(n.path)),r,2,uh.q))}}function vm(t,e,n){return Mi(this,void 0,void 0,(function(){var r,i,o,s;return Vi(this,(function(u){switch(u.label){case 0:return r=$c(t),i=[],o=[],s=[],r.vl.et()?[3,3]:(r.vl.forEach((function(t,u){s.push(r.Ll(u,e,n).then((function(t){if(t){r.Ml&&r.Vl.Ba(u.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=lv.oc(u.targetId,t);o.push(e)}})))})),[4,Promise.all(s)]);case 1:return u.sent(),r.bl.ah(i),[4,function(t,e){return Mi(this,void 0,void 0,(function(){var n,r,i,o,s,u,a,c,h;return Vi(this,(function(f){switch(f.label){case 0:n=$c(t),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return Ap.forEach(e,(function(e){return Ap.forEach(e.ic,(function(r){return n.persistence.Ti.nr(t,e.targetId,r)})).next((function(){return Ap.forEach(e.rc,(function(r){return n.persistence.Ti.ir(t,e.targetId,r)}))}))}))}))];case 2:return f.sent(),[3,4];case 3:if(!Dp(r=f.sent()))throw r;return Fc("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)s=o[i],u=s.targetId,s.fromCache||(a=n.fc.get(u),c=a.Ot,h=a.Lt(c),n.fc=n.fc.zt(u,h));return[2]}}))}))}(r.bh,o)];case 2:u.sent(),u.label=3;case 3:return[2]}}))}))}function ym(t,e){return Mi(this,void 0,void 0,(function(){var n,r;return Vi(this,(function(i){switch(i.label){case 0:return(n=$c(t)).currentUser.isEqual(e)?[3,3]:(Fc("SyncEngine","User change. New user:",e.A()),[4,yv(n.bh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fl.forEach((function(t){t.forEach((function(t){t.reject(new Zc(Jc.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Fl.clear()}(n),n.Vl.Ua(e,r.mc,r.Ac),[4,vm(n,r.Ic)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function mm(t,e){var n=$c(t),r=n.xl.get(e);if(r&&r.Pl)return Dl().add(r.key);var i=Dl(),o=n.Sl.get(e);if(!o)return i;for(var s=0,u=o;s<u.length;s++){var a=u[s],c=n.vl.get(a);i=i.Pe(c.view._l)}return i}function gm(t,e){return Mi(this,void 0,void 0,(function(){var n,r,i;return Vi(this,(function(o){switch(o.label){case 0:return[4,Iv((n=$c(t)).bh,e.query,!0)];case 1:return r=o.sent(),i=e.view.Al(r),[2,(n.Ml&&lm(n,e.targetId,i.Il),i)]}}))}))}function bm(t){return Mi(this,void 0,void 0,(function(){var e;return Vi(this,(function(n){return[2,Av((e=$c(t)).bh).then((function(t){return vm(e,t)}))]}))}))}function _m(t,e,n,r){return Mi(this,void 0,void 0,(function(){var i,o;return Vi(this,(function(s){switch(s.label){case 0:return[4,function(t,e){var n=$c(t),r=$c(n.zo);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.yi(t,e).next((function(e){return e?n.Tc.Xo(t,e):Ap.resolve(null)}))}))}((i=$c(t)).bh,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,Ay(i.yl)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(cm(i,e,r||null),am(i,e),function(t,e){$c($c(t).zo).xi(e)}(i.bh,e)):Bc(),s.label=4;case 4:return[4,vm(i,o)];case 5:return s.sent(),[3,7];case 6:Fc("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}}))}))}function wm(t,e){return Mi(this,void 0,void 0,(function(){var n,r,i,o,s,u,a,c;return Vi(this,(function(h){switch(h.label){case 0:return Sm(n=$c(t)),Nm(n),!0!==e||!0===n.kl?[3,3]:(r=n.Vl.va(),[4,Em(n,r.it())]);case 1:return i=h.sent(),n.kl=!0,[4,Py(n.yl,!0)];case 2:for(h.sent(),o=0,s=i;o<s.length;o++)u=s[o],py(n.yl,u);return[3,7];case 3:return!1!==e||!1===n.kl?[3,7]:(a=[],c=Promise.resolve(),n.Sl.forEach((function(t,e){n.Vl.Ma(e)?a.push(e):c=c.then((function(){return hm(n,e),Tv(n.bh,e,!0)})),dy(n.yl,e)})),[4,c]);case 4:return h.sent(),[4,Em(n,a)];case 5:return h.sent(),function(t){var e=$c(t);e.xl.forEach((function(t,n){dy(e.yl,n)})),e.Nl.Oc(),e.xl=new Map,e.Cl=new gl(dh.H)}(n),n.kl=!1,[4,Py(n.yl,!1)];case 6:h.sent(),h.label=7;case 7:return[2]}}))}))}function Em(t,e,n){return Mi(this,void 0,void 0,(function(){var n,r,i,o,s,u,a,c,h,f,l,p,d,v;return Vi(this,(function(y){switch(y.label){case 0:n=$c(t),r=[],i=[],o=0,s=e,y.label=1;case 1:return o<s.length?(u=s[o],a=void 0,(c=n.Sl.get(u))&&0!==c.length?[4,Ev(n.bh,xf(c[0]))]:[3,7]):[3,13];case 2:a=y.sent(),h=0,f=c,y.label=3;case 3:return h<f.length?(l=f[h],p=n.vl.get(l),[4,gm(n,p)]):[3,6];case 4:(d=y.sent()).snapshot&&i.push(d.snapshot),y.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,xv(n.bh,u)];case 8:return v=y.sent(),[4,Ev(n.bh,v)];case 9:return a=y.sent(),[4,Zy(n,Tm(v),u,!1)];case 10:y.sent(),y.label=11;case 11:r.push(a),y.label=12;case 12:return o++,[3,1];case 13:return[2,(n.bl.ah(i),r)]}}))}))}function Tm(t){return mf(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Im(t){var e=$c(t);return $c($c(e.bh).persistence).Uo()}function xm(t,e,n,r){return Mi(this,void 0,void 0,(function(){var i,o,s;return Vi(this,(function(u){switch(u.label){case 0:return(i=$c(t)).kl?(Fc("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Sl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Av(i.bh)];case 3:return o=u.sent(),s=Ml.Me(e,"current"===n),[4,vm(i,o,s)];case 4:return u.sent(),[3,8];case 5:return[4,Tv(i.bh,e,!0)];case 6:return u.sent(),hm(i,e,r),[3,8];case 7:Bc(),u.label=8;case 8:return[2]}}))}))}function Am(t,e,n){return Mi(this,void 0,void 0,(function(){var r,i,o,s,u,a,c,h,f,l;return Vi(this,(function(p){switch(p.label){case 0:if(!(r=Sm(t)).kl)return[3,10];i=0,o=e,p.label=1;case 1:return i<o.length?(s=o[i],r.Sl.has(s)?(Fc("SyncEngine","Adding an already active target "+s),[3,5]):[4,xv(r.bh,s)]):[3,6];case 2:return u=p.sent(),[4,Ev(r.bh,u)];case 3:return a=p.sent(),[4,Zy(r,Tm(u),a.targetId,!1)];case 4:p.sent(),py(r.yl,a),p.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Vi(this,(function(e){switch(e.label){case 0:return r.Sl.has(t)?[4,Tv(r.bh,t,!1).then((function(){dy(r.yl,t),hm(r,t)})).catch(Dd)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},h=0,f=n,p.label=7;case 7:return h<f.length?(l=f[h],[5,c(l)]):[3,10];case 8:p.sent(),p.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))}function Sm(t){var e=$c(t);return e.yl.Dh.Lh=nm.bind(null,e),e.yl.Dh.vn=mm.bind(null,e),e.yl.Dh.Mh=im.bind(null,e),e.bl.ah=Uy.bind(null,e.gl),e.bl.Bl=qy.bind(null,e.gl),e}function Nm(t){var e=$c(t);return e.yl.Dh.Bh=om.bind(null,e),e.yl.Dh.qh=sm.bind(null,e),e}var Om=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Mi(this,void 0,void 0,(function(){return Vi(this,(function(e){switch(e.label){case 0:return this.Qt=ry(t.yu.t),this.Vl=this.Wl(t),this.persistence=this.jl(t),[4,this.persistence.start()];case 1:return e.sent(),this.Gl=this.zl(t),this.bh=this.Hl(t),[2]}}))}))},t.prototype.zl=function(t){return null},t.prototype.Hl=function(t){return vv(this.persistence,new pv,t.Jl,this.Qt)},t.prototype.jl=function(t){return new Mv(Fv.ia,this.Qt)},t.prototype.Wl=function(t){return new Xv},t.prototype.terminate=function(){return Mi(this,void 0,void 0,(function(){return Vi(this,(function(t){switch(t.label){case 0:return this.Gl&&this.Gl.stop(),[4,this.Vl.ko()];case 1:return t.sent(),[4,this.persistence.ko()];case 2:return t.sent(),[2]}}))}))},t}(),km=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Yl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Li(e,t),e.prototype.initialize=function(e){return Mi(this,void 0,void 0,(function(){return Vi(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Sv(this.bh)];case 2:return n.sent(),[4,this.Yl.initialize(this,e)];case 3:return n.sent(),[4,Nm(this.Yl._a)];case 4:return n.sent(),[4,Ay(this.Yl.yl)];case 5:return n.sent(),[2]}}))}))},e.prototype.Hl=function(t){return vv(this.persistence,new pv,t.Jl,this.Qt)},e.prototype.zl=function(t){var e=this.persistence.Ti.lr;return new Qd(e,t._s)},e.prototype.jl=function(t){var e=cv(t.yu.t,t.yu.persistenceKey),n=void 0!==this.cacheSizeBytes?kd.Ys(this.cacheSizeBytes):kd.ti;return new sv(this.synchronizeTabs,e,t.clientId,n,t._s,ey(),ny(),this.Qt,this.Vl,!!this.forceOwnership)},e.prototype.Wl=function(t){return new Xv},e}(Om),Dm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Yl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Li(e,t),e.prototype.initialize=function(e){return Mi(this,void 0,void 0,(function(){var n,r=this;return Vi(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Yl._a,this.Vl instanceof Qv?(this.Vl._a={eu:_m.bind(null,n),nu:xm.bind(null,n),su:Am.bind(null,n),Uo:Im.bind(null,n),tu:bm.bind(null,n)},[4,this.Vl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Ro((function(t){return Mi(r,void 0,void 0,(function(){return Vi(this,(function(e){switch(e.label){case 0:return[4,wm(this.Yl._a,t)];case 1:return e.sent(),this.Gl&&(t&&!this.Gl.Er?this.Gl.start(this.bh):t||this.Gl.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Wl=function(t){var e=ey();if(!Qv.Kn(e))throw new Zc(Jc.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=cv(t.yu.t,t.yu.persistenceKey);return new Qv(e,t._s,n,t.clientId,t.Jl)},e}(km),Cm=function(){function t(){}return t.prototype.initialize=function(t,e){return Mi(this,void 0,void 0,(function(){var n=this;return Vi(this,(function(r){switch(r.label){case 0:return this.bh?[3,2]:(this.bh=t.bh,this.Vl=t.Vl,this.Sh=this.Xl(e),this.yl=this.Zl(e),this.gl=this.t_(e),this._a=this.e_(e,!t.synchronizeTabs),this.Vl.fa=function(t){return rm(n._a,t,1)},this.yl.Dh.n_=ym.bind(null,this._a),[4,Py(this.yl,this._a.Ml)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.t_=function(t){return new My},t.prototype.Xl=function(t){var e,n=ry(t.yu.t),r=(e=t.yu,new ty(e));return function(t,e,n){return new ay(t,e,n)}(t.credentials,r,n)},t.prototype.Zl=function(t){var e,n,r,i,o,s=this;return e=this.bh,n=this.Sh,r=t._s,i=function(t){return rm(s._a,t,0)},o=Wv.Kn()?new Wv:new Kv,new hy(e,n,r,i,o)},t.prototype.e_=function(t,e){return function(t,e,n,r,i,o,s){var u=new Wy(t,e,n,r,i,o);return s&&(u.kl=!0),u}(this.bh,this.yl,this.gl,this.Vl,t.Jl,t.pl,e)},t.prototype.terminate=function(){return function(t){return Mi(this,void 0,void 0,(function(){var e;return Vi(this,(function(n){switch(n.label){case 0:return e=$c(t),Fc("RemoteStore","RemoteStore shutting down."),e.Nh.add(5),[4,ly(e)];case 1:return n.sent(),e.Fh.ko(),e.Oh.set("Unknown"),[2]}}))}))}(this.yl)},t}(),Pm=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.s_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.s_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.i_=function(){this.muted=!0},t.prototype.s_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),Rm=(function(){function t(t,e){var n=this;this.r_=t,this.Qt=e,this.metadata=new xp,this.buffer=new Uint8Array,this.o_=new TextDecoder("utf-8"),this.c_().then((function(t){t&&t.sl()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}t.prototype.close=function(){return this.r_.cancel()},t.prototype.getMetadata=function(){return Mi(this,void 0,void 0,(function(){return Vi(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Ql=function(){return Mi(this,void 0,void 0,(function(){return Vi(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.c_())]}}))}))},t.prototype.c_=function(){return Mi(this,void 0,void 0,(function(){var t,e,n,r;return Vi(this,(function(i){switch(i.label){case 0:return[4,this.a_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.o_.decode(t),n=Number(e),isNaN(n)&&this.u_("length string ("+e+") is not valid number"),[4,this.h_(n)]);case 2:return r=i.sent(),[2,new Gy(JSON.parse(r),t.length+n)]}}))}))},t.prototype.l_=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.a_=function(){return Mi(this,void 0,void 0,(function(){var t,e;return Vi(this,(function(n){switch(n.label){case 0:return this.l_()<0?[4,this.__()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.l_())<0&&this.u_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.h_=function(t){return Mi(this,void 0,void 0,(function(){var e;return Vi(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.__()]:[3,3];case 1:n.sent()&&this.u_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.o_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.u_=function(t){throw this.r_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.__=function(){return Mi(this,void 0,void 0,(function(){var t,e;return Vi(this,(function(n){switch(n.label){case 0:return[4,this.r_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Zc(Jc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.f_=new ph(t)}return t.prototype.isEqual=function(t){return this.f_.isEqual(t.f_)},t}()),Lm=function(t){this._methodName=t},jm=function(t){this.d_=t};function Mm(t,e,n){if(!n)throw new Zc(Jc.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Vm(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Zc(Jc.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Fm(t,e,n,r){if(!0===e&&!0===r)throw new Zc(Jc.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Um(t){if(!dh.wt(t))throw new Zc(Jc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function qm(t){if(dh.wt(t))throw new Zc(Jc.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function zm(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Bc()}function Bm(t,e){if("_delegate"in t&&(t=t.d_),!(t instanceof e)){if(e.name===t.constructor.name)throw new Zc(Jc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=zm(t);throw new Zc(Jc.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Gm(t,e){if(e<=0)throw new Zc(Jc.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var $m=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Zc(Jc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Zc(Jc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Fm("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Hm=new Map,Ym=function(){function t(t,e){this.w_="(lite)",this.E_=new $m({}),this.T_=!1,t instanceof jc?(this.I_=t,this.m_=new rh):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Zc(Jc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jc(t.options.projectId)}(t),this.m_=new ih(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new Zc(Jc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new Zc(Jc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new $m(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new rh;switch(t.type){case"gapi":var e=t.client;return Gc(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new sh(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Zc(Jc.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.toJSON=function(){return{app:this.A_,t:this.I_,settings:this.E_}},t.prototype.b_=function(){return(t=Hm.get(this))&&(Fc("ComponentProvider","Removing Datastore"),Hm.delete(this),t.terminate()),Promise.resolve();var t},t}(),Qm=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Km(this.firestore,this.v_,this.S_.path.X())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),Xm=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),Km=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,gf(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Li(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.X();return t.et()?null:new Qm(this.firestore,null,new dh(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(Xm);function Wm(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof jm&&(t=t.d_),Mm("collection","path",e),t instanceof Ym)return qm(n=fh.ot.apply(fh,qi([e],r))),new Km(t,null,n);if(!(t instanceof Qm||t instanceof Km))throw new Zc(Jc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return qm(n=fh.ot.apply(fh,qi([t.path],r)).child(fh.ot(e))),new Km(t.firestore,null,n)}function Jm(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof jm&&(t=t.d_),1===arguments.length&&(e=Yc.u()),Mm("doc","path",e),t instanceof Ym)return Um(n=fh.ot.apply(fh,qi([e],r))),new Qm(t,null,new dh(n));if(!(t instanceof Qm||t instanceof Km))throw new Zc(Jc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Um(n=t.D_.child(fh.ot.apply(fh,qi([e],r)))),new Qm(t.firestore,t instanceof Km?t.v_:null,new dh(n))}function Zm(t,e){return t instanceof jm&&(t=t.d_),e instanceof jm&&(e=e.d_),(t instanceof Qm||t instanceof Km)&&(e instanceof Qm||e instanceof Km)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function tg(t,e){return t instanceof jm&&(t=t.d_),e instanceof jm&&(e=e.d_),t instanceof Xm&&e instanceof Xm&&t.firestore===e.firestore&&Sf(t.C_,e.C_)&&t.v_===e.v_}var eg=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Zc(Jc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Zc(Jc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.U=function(t){return Qc(this.x_,t.x_)||Qc(this.N_,t.N_)},t}(),ng=/^__.*__$/,rg=function(){function t(t,e,n){this.data=t,this.Gt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return null!==this.Gt?new sl(t,this.data,this.Gt,e,this.fieldTransforms):new ol(t,this.data,e,this.fieldTransforms)},t}(),ig=function(){function t(t,e,n){this.data=t,this.Gt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return new sl(t,this.data,this.Gt,e,this.fieldTransforms)},t}();function og(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Bc()}}var sg=function(){function t(t,e,n,r,i,o){this.settings=t,this.t=e,this.Qt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.O_(),this.fieldTransforms=i||[],this.Gt=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.Qt,this.ignoreUndefinedProperties,this.fieldTransforms,this.Gt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.O_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return Ag(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(t){return void 0!==this.Gt.find((function(e){return t.nt(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.nt(e.field)}))},t.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(og(this.k_)&&ng.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),ug=function(){function t(t,e,n){this.t=t,this.ignoreUndefinedProperties=e,this.Qt=n||ry(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new sg({k_:t,methodName:e,j_:n,path:ph.ct(),B_:!1,W_:r},this.t,this.Qt,this.ignoreUndefinedProperties)},t}();function ag(t){var e=t.p_(),n=ry(t.I_);return new ug(t.I_,!!e.ignoreUndefinedProperties,n)}function cg(t,e,n,r,i,o){void 0===o&&(o={});var s=t.G_(o.merge||o.mergeFields?2:0,e,n,i);Eg("Data must be an object, but it was:",s,r);var u,a,c=_g(r,s);if(o.merge)u=new gh(s.Gt),a=s.fieldTransforms;else if(o.mergeFields){for(var h=[],f=0,l=o.mergeFields;f<l.length;f++){var p=Tg(e,l[f],n);if(!s.contains(p))throw new Zc(Jc.INVALID_ARGUMENT,"Field '"+p+"' is specified in your field mask but missing from your input data.");Sg(h,p)||h.push(p)}u=new gh(h),a=s.fieldTransforms.filter((function(t){return u.Tt(t.field)}))}else u=null,a=s.fieldTransforms;return new rg(new zh(c),u,a)}var hg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Li(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw 1===t.k_?t.K_(this._methodName+"() can only appear at the top level of your update data"):t.K_(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.Gt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Lm);function fg(t,e,n){return new sg({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.t,e.Qt,e.ignoreUndefinedProperties)}var lg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Li(e,t),e.prototype.z_=function(t){return new Xf(t.path,new qf)},e.prototype.isEqual=function(t){return t instanceof e},e}(Lm),pg=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Li(e,t),e.prototype.z_=function(t){var e=fg(this,t,!0),n=this.H_.map((function(t){return bg(t,e)})),r=new zf(n);return new Xf(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Lm),dg=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Li(e,t),e.prototype.z_=function(t){var e=fg(this,t,!0),n=this.H_.map((function(t){return bg(t,e)})),r=new Gf(n);return new Xf(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Lm),vg=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Li(e,t),e.prototype.z_=function(t){var e=new Hf(t.Qt,jf(t.Qt,this.J_));return new Xf(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Lm);function yg(t,e,n,r){var i=t.G_(1,e,n);Eg("Data must be an object, but it was:",i,r);var o=[],s=new Bh;yh(r,(function(t,r){var u=xg(e,t,n);r instanceof jm&&(r=r.d_);var a=i.U_(u);if(r instanceof hg)o.push(u);else{var c=bg(r,a);null!=c&&(o.push(u),s.set(u,c))}}));var u=new gh(o);return new ig(s.Pt(),u,i.fieldTransforms)}function mg(t,e,n,r,i,o){var s=t.G_(1,e,n),u=[Tg(e,r,n)],a=[i];if(o.length%2!=0)throw new Zc(Jc.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)u.push(Tg(e,o[c])),a.push(o[c+1]);for(var h=[],f=new Bh,l=u.length-1;l>=0;--l)if(!Sg(h,u[l])){var p=u[l],d=a[l];d instanceof jm&&(d=d.d_);var v=s.U_(p);if(d instanceof hg)h.push(p);else{var y=bg(d,v);null!=y&&(h.push(p),f.set(p,y))}}var m=new gh(h);return new ig(f.Pt(),m,s.fieldTransforms)}function gg(t,e,n,r){return void 0===r&&(r=!1),bg(n,t.G_(r?4:3,e))}function bg(t,e){if(t instanceof jm&&(t=t.d_),wg(t))return Eg("Unsupported field value:",e,t),_g(t,e);if(t instanceof Lm)return function(t,e){if(!og(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.Gt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=bg(o[i],e.Q_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof jm&&(t=t.d_),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return jf(e.Qt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=ah.fromDate(t);return{timestampValue:Xl(e.Qt,n)}}if(t instanceof ah)return n=new ah(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Xl(e.Qt,n)};if(t instanceof eg)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof th)return{bytesValue:Kl(e.Qt,t.I)};if(t instanceof Qm){n=e.t;var r=t.firestore.I_;if(!r.isEqual(n))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Zl(t.firestore.I_||e.t,t.S_.path)}}throw e.K_("Unsupported field value: "+zm(t))}(t,e)}function _g(t,e){var n={};return mh(t)?e.path&&e.path.length>0&&e.Gt.push(e.path):yh(t,(function(t,r){var i=bg(r,e.L_(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function wg(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof ah||t instanceof eg||t instanceof th||t instanceof Qm||t instanceof Lm)}function Eg(t,e,n){if(!wg(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=zm(n);throw"an object"===r?e.K_(t+" a custom object"):e.K_(t+" "+r)}}function Tg(t,e,n){if(e instanceof jm&&(e=e.d_),e instanceof Rm)return e.f_;if("string"==typeof e)return xg(t,e);throw Ag("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Ig=new RegExp("[~\\*/\\[\\]]");function xg(t,e,n){if(e.search(Ig)>=0)throw Ag("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Rm.bind.apply(Rm,qi([void 0],e.split("."))))).f_}catch(r){throw Ag("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Ag(t,e,n,r,i){var o=r&&!r.et(),s=void 0!==i,u="Function "+e+"() called with invalid data";n&&(u+=" (via `toFirestore()`)");var a="";return(o||s)&&(a+=" (found",o&&(a+=" in field "+r),s&&(a+=" in document "+i),a+=")"),new Zc(Jc.INVALID_ARGUMENT,(u+=". ")+t+a)}function Sg(t,e){return t.some((function(t){return t.isEqual(e)}))}var Ng=function(){function t(t){this.Sh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Mi(this,void 0,void 0,(function(){var e,n=this;return Vi(this,(function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new Zc(Jc.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Mi(this,void 0,void 0,(function(){var n,r,i,o,s,u;return Vi(this,(function(a){switch(a.label){case 0:return n=$c(t),r=op(n.Qt)+"/documents",i={documents:e.map((function(t){return ep(n.Qt,t)}))},[4,n.Du("BatchGetDocuments",r,i)];case 1:return o=a.sent(),s=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){Gc(!!e.found),e.found.name,e.found.updateTime;var n=np(t,e.found.name),r=Jl(e.found.updateTime),i=new zh({mapValue:{fields:e.found.fields}});return new Hh(n,r,i,{})}(t,e):"missing"in e?function(t,e){Gc(!!e.missing),Gc(!!e.readTime);var n=np(t,e.missing),r=Jl(e.readTime);return new Yh(n,r)}(t,e):Bc()}(n.Qt,t);s.set(e.key.toString(),e)})),u=[],[2,(e.forEach((function(t){var e=s.get(t.toString());Gc(!!e),u.push(e)})),u)]}}))}))}(this.Sh,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof Yh||t instanceof Hh?n.sf(t):Bc()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.F_(t,this.jt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new pl(t,this.jt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Mi(this,void 0,void 0,(function(){var t,e=this;return Vi(this,(function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=dh._t(n);e.mutations.push(new dl(r,e.jt(r)))})),[4,function(t,e){return Mi(this,void 0,void 0,(function(){var n,r,i;return Vi(this,(function(o){switch(o.label){case 0:return n=$c(t),r=op(n.Qt)+"/documents",i={writes:e.map((function(t){return cp(n.Qt,t)}))},[4,n.pu("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.Sh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}}))}))},t.prototype.sf=function(t){var e;if(t instanceof Hh)e=t.version;else{if(!(t instanceof Yh))throw Bc();e=ch.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Zc(Jc.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.jt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?Wf.updateTime(e):Wf.Kt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(ch.min()))throw new Zc(Jc.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Wf.updateTime(e)}return Wf.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),Og=function(){function t(t,e,n,r){this._s=t,this.Sh=e,this.updateFunction=n,this.Es=r,this.cf=5,this.Gu=new iy(this._s,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.Gu.Lu((function(){return Mi(t,void 0,void 0,(function(){var t,e,n=this;return Vi(this,(function(r){return t=new Ng(this.Sh),(e=this.uf(t))&&e.then((function(e){n._s.Ps((function(){return t.commit().then((function(){n.Es.resolve(e)})).catch((function(t){n.hf(t)}))}))})).catch((function(t){n.hf(t)})),[2]}))}))}))},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!Ah(e)&&e.catch&&e.then?e:(this.Es.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Es.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this._s.Ps((function(){return e.af(),Promise.resolve()}))):this.Es.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!yl(e)}return!1},t}(),kg=function(){function t(t,e,n){var r=this;this.credentials=t,this._s=e,this.yu=n,this.user=eh.UNAUTHENTICATED,this.clientId=Yc.u(),this._f=function(){},this.C=new xp,this.credentials.v((function(t){Fc("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.C.resolve()}))}return t.prototype.getConfiguration=function(){return Mi(this,void 0,void 0,(function(){return Vi(this,(function(t){switch(t.label){case 0:return[4,this.C.promise];case 1:return[2,(t.sent(),{_s:this._s,yu:this.yu,clientId:this.clientId,credentials:this.credentials,Jl:this.user,pl:100})]}}))}))},t.prototype.ff=function(t){var e=this;this._f=t,this.C.promise.then((function(){return e._f(e.user)}))},t.prototype.df=function(){if(this._s.wf)throw new Zc(Jc.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this._s.Ef();var e=new xp;return this._s.Tf((function(){return Mi(t,void 0,void 0,(function(){var t,n;return Vi(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.S(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Mp(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function Dg(t,e){return Mi(this,void 0,void 0,(function(){var n,r,i=this;return Vi(this,(function(o){switch(o.label){case 0:return t._s.Af(),Fc("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.Jl,t.ff((function(n){r.isEqual(n)||(r=n,t._s.po((function(){return Mi(i,void 0,void 0,(function(){return Vi(this,(function(t){switch(t.label){case 0:return[4,yv(e.bh,n)];case 1:return t.sent(),[2]}}))}))})))})),e.persistence.Po((function(){return t.terminate()})),t.mf=e,[2]}}))}))}function Cg(t,e){return Mi(this,void 0,void 0,(function(){var n,r;return Vi(this,(function(i){switch(i.label){case 0:return t._s.Af(),[4,Pg(t)];case 1:return n=i.sent(),Fc("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff((function(n){return t._s.po((function(){return function(t,e){return Mi(this,void 0,void 0,(function(){var n,r;return Vi(this,(function(i){switch(i.label){case 0:return(n=$c(t))._s.Af(),Fc("RemoteStore","RemoteStore received new credentials"),r=by(n),n.Nh.add(3),[4,ly(n)];case 1:return i.sent(),r&&n.Oh.set("Unknown"),[4,n.Dh.n_(e)];case 2:return i.sent(),n.Nh.delete(3),[4,fy(n)];case 3:return i.sent(),[2]}}))}))}(e.yl,n)}))})),t.If=e,[2]}}))}))}function Pg(t){return Mi(this,void 0,void 0,(function(){return Vi(this,(function(e){switch(e.label){case 0:return t.mf?[3,2]:(Fc("FirestoreClient","Using default OfflineComponentProvider"),[4,Dg(t,new Om)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}}))}))}function Rg(t){return Mi(this,void 0,void 0,(function(){return Vi(this,(function(e){switch(e.label){case 0:return t.If?[3,2]:(Fc("FirestoreClient","Using default OnlineComponentProvider"),[4,Cg(t,new Cm)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}}))}))}function Lg(t){return Pg(t).then((function(t){return t.persistence}))}function jg(t){return Pg(t).then((function(t){return t.bh}))}function Mg(t){return Rg(t).then((function(t){return t.yl}))}function Vg(t){return Rg(t).then((function(t){return t._a}))}function Fg(t){return Mi(this,void 0,void 0,(function(){var e,n;return Vi(this,(function(r){switch(r.label){case 0:return[4,Rg(t)];case 1:return e=r.sent(),[2,((n=e.gl).jh=Jy.bind(null,e._a),n.Hh=tm.bind(null,e._a),n)]}}))}))}function Ug(t,e,n){var r=this;void 0===n&&(n={});var i=new xp;return t._s.Ps((function(){return Mi(r,void 0,void 0,(function(){var r;return Vi(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Pm({next:function(o){e.Ps((function(){return Fy(t,s)}));var u=o.docs.has(n);!u&&o.fromCache?i.reject(new Zc(Jc.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&o.fromCache&&r&&"server"===r.source?i.reject(new Zc(Jc.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new By(gf(n.path),o,{includeMetadataChanges:!0,nl:!0});return Vy(t,s)},[4,Fg(t)];case 1:return[2,r.apply(void 0,[o.sent(),t._s,e,n,i])]}}))}))})),i.promise}function qg(t,e,n){var r=this;void 0===n&&(n={});var i=new xp;return t._s.Ps((function(){return Mi(r,void 0,void 0,(function(){var r;return Vi(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Pm({next:function(n){e.Ps((function(){return Fy(t,s)})),n.fromCache&&"server"===r.source?i.reject(new Zc(Jc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new By(n,o,{includeMetadataChanges:!0,nl:!0});return Vy(t,s)},[4,Fg(t)];case 1:return[2,r.apply(void 0,[o.sent(),t._s,e,n,i])]}}))}))})),i.promise}var zg=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.Gu=new iy(this,"async_queue_retry"),this.vf=function(){var e=ny();e&&Fc("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Gu.qu()};var e=ny();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.Ps=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=ny();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise((function(t){})):this.Df(t)},t.prototype.po=function(t){var e=this;this.Ps((function(){return e.Pf.push(t),e.Cf()}))},t.prototype.Cf=function(){return Mi(this,void 0,void 0,(function(){var t,e=this;return Vi(this,(function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.Gu.reset(),[3,4];case 3:if(!Dp(t=n.sent()))throw t;return Fc("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.Gu.Lu((function(){return e.Cf()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Df=function(t){var e=this,n=this.Rf.then((function(){return e.pf=!0,t().catch((function(t){throw e.Vf=t,e.pf=!1,Uc("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.pf=!1,t}))}));return this.Rf=n,n},t.prototype.Tr=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=jp.Ts(this,t,e,n,(function(t){return r.xf(t)}));return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&Bc()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Mi(this,void 0,void 0,(function(){var t;return Vi(this,(function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.$f=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].fs===t)return!0;return!1},t.prototype.Ff=function(t){var e=this;return this.Nf().then((function(){e.gf.sort((function(t,e){return t.ds-e.ds}));for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Rs(),"all"!==t&&i.fs===t)break}return e.Nf()}))},t.prototype.Of=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}();function Bg(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this.kf={},this.Mf=new xp,this.Lf={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.kf={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.Mf.promise.catch(t)},t.prototype.then=function(t,e){return this.Mf.promise.then(t,e)},t.prototype.ql=function(t){this.Ul(t),this.kf.complete&&this.kf.complete(),this.Mf.resolve(t)},t.prototype.Kl=function(t){this.Lf.taskState="Error",this.kf.next&&this.kf.next(this.Lf),this.kf.error&&this.kf.error(t),this.Mf.reject(t)},t.prototype.Ul=function(t){this.Lf=t,this.kf.next&&this.kf.next(t)}}();var Gg=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Bf=new zg,r.w_="name"in e?e.name:"[DEFAULT]",r}return Li(e,t),e.prototype.b_=function(){return this.qf||Hg(this),this.qf.terminate()},e}(Ym);function $g(t){return t.qf||Hg(t),t.qf.df(),t.qf}function Hg(t){var e=t.p_(),n=function(t,e,n){return new Lc(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.qf=new kg(t.m_,t.Bf,n)}function Yg(t,e,n){var r=this,i=new xp;return t._s.enqueue((function(){return Mi(r,void 0,void 0,(function(){var r;return Vi(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Dg(t,n)];case 1:return o.sent(),[4,Cg(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Jc.FAILED_PRECONDITION||t.code===Jc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function Qg(t){if(t.R_||t.P_)throw new Zc(Jc.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Xg=function(){function t(){}return t.prototype.Uf=function(t,e){switch(void 0===e&&(e="none"),Oh(t)){case 0:return null;case 1:return t.booleanValue;case 2:return wh(t.integerValue||t.doubleValue);case 3:return this.Qf(t.timestampValue);case 4:return this.Kf(t,e);case 5:return t.stringValue;case 6:return this.Wf(Eh(t.bytesValue));case 7:return this.jf(t.referenceValue);case 8:return this.Gf(t.geoPointValue);case 9:return this.zf(t.arrayValue,e);case 10:return this.Hf(t.mapValue,e);default:throw Bc()}},t.prototype.Hf=function(t,e){var n=this,r={};return yh(t.fields||{},(function(t,i){r[t]=n.Uf(i,e)})),r},t.prototype.Gf=function(t){return new eg(wh(t.latitude),wh(t.longitude))},t.prototype.zf=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.Uf(t,e)}))},t.prototype.Kf=function(t,e){switch(e){case"previous":var n=Ih(t);return null==n?null:this.Uf(n,e);case"estimate":return this.Qf(xh(t));default:return null}},t.prototype.Qf=function(t){var e=_h(t);return new ah(e.seconds,e.nanos)},t.prototype.Jf=function(t,e){var n=fh.ot(t);Gc(Ip(n));var r=new jc(n.get(1),n.get(3)),i=new dh(n.Y(5));return r.isEqual(e)||Uc("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),Kg=function(){function t(t,e,n,r,i){this.Yf=t,this.Xf=e,this.S_=n,this.Zf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Qm(this.Yf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Zf},t.prototype.data=function(){if(this.Zf){if(this.v_){var t=new Wg(this.Yf,this.Xf,this.S_,this.Zf,null);return this.v_.fromFirestore(t)}return this.Xf.Uf(this.Zf.bt())}},t.prototype.get=function(t){if(this.Zf){var e=this.Zf.data().field(Jg("DocumentSnapshot.get",t));if(null!==e)return this.Xf.Uf(e)}},t}(),Wg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Li(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Kg);function Jg(t,e){return"string"==typeof e?xg(t,e):e instanceof jm?e.d_.f_:e.f_}function Zg(t){if(_f(t)&&0===t.xt.length)throw new Zc(Jc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var tb=function(){};function eb(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.td(t)}return t}var nb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).ed=e,i.nd=n,i.sd=r,i.type="where",i}return Li(e,t),e.prototype.td=function(t){var e=ag(t.firestore),n=function(t,e,n,r,i,o,s){var u;if(i.ut()){if("array-contains"===o||"array-contains-any"===o)throw new Zc(Jc.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){cb(s,o);for(var a=[],c=0,h=s;c<h.length;c++){var f=h[c];a.push(ab(r,t,f))}u={arrayValue:{values:a}}}else u=ab(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||cb(s,o),u=gg(n,"where",s,"in"===o||"not-in"===o);var l=tf.create(i,o,u);return function(t,e){if(e.Ct()){var n=Ef(t);if(null!==n&&!n.isEqual(e.field))throw new Zc(Jc.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=wf(t);null!==r&&hb(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new Zc(Jc.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new Zc(Jc.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,l),l}(t.C_,0,e,t.firestore.I_,this.ed,this.nd,this.sd);return new Xm(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new yf(t.path,t.collectionGroup,t.xt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(tb),rb=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ed=e,r.rd=n,r.type="orderBy",r}return Li(e,t),e.prototype.td=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Zc(Jc.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Zc(Jc.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new lf(e,n);return function(t,e){if(null===wf(t)){var n=Ef(t);null!==n&&hb(0,n,e.field)}}(t,r),r}(t.C_,this.ed,this.rd);return new Xm(t.firestore,t.v_,function(t,e){var n=t.xt.concat([e]);return new yf(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(tb),ib=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.od=n,i.ad=r,i}return Li(e,t),e.prototype.td=function(t){return new Xm(t.firestore,t.v_,Af(t.C_,this.od,this.ad))},e}(tb),ob=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ud=n,i.hd=r,i}return Li(e,t),e.prototype.td=function(t){var e=ub(t,this.type,this.ud,this.hd);return new Xm(t.firestore,t.v_,function(t,e){return new yf(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(tb),sb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ud=n,i.hd=r,i}return Li(e,t),e.prototype.td=function(t){var e=ub(t,this.type,this.ud,this.hd);return new Xm(t.firestore,t.v_,function(t,e){return new yf(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(tb);function ub(t,e,n,r){if(n[0]instanceof jm&&(n[0]=n[0].d_),n[0]instanceof Kg)return function(t,e,n,r,i){if(!r)throw new Zc(Jc.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,u=If(t);s<u.length;s++){var a=u[s];if(a.field.ut())o.push(jh(e,r.key));else{var c=r.field(a.field);if(Th(c))throw new Zc(Jc.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var h=a.field.rt();throw new Zc(Jc.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+h+"' (used as the orderBy) does not exist.")}o.push(c)}}return new hf(o,i)}(t.C_,t.firestore.I_,e,n[0].Zf,r);var i=ag(t.firestore);return function(t,e,n,r,i,o){var s=t.xt;if(i.length>s.length)throw new Zc(Jc.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var u=[],a=0;a<i.length;a++){var c=i[a];if(s[a].field.ut()){if("string"!=typeof c)throw new Zc(Jc.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Tf(t)&&-1!==c.indexOf("/"))throw new Zc(Jc.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var h=t.path.child(fh.ot(c));if(!dh.wt(h))throw new Zc(Jc.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+h+"' is not because it contains an odd number of segments.");var f=new dh(h);u.push(jh(e,f))}else{var l=gg(n,r,c);u.push(l)}}return new hf(u,o)}(t.C_,t.firestore.I_,i,e,n,r)}function ab(t,e,n){if(n instanceof jm&&(n=n.d_),"string"==typeof n){if(""===n)throw new Zc(Jc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Tf(e)&&-1!==n.indexOf("/"))throw new Zc(Jc.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(fh.ot(n));if(!dh.wt(r))throw new Zc(Jc.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return jh(t,new dh(r))}if(n instanceof Qm)return jh(t,n.S_);throw new Zc(Jc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+zm(n)+".")}function cb(t,e){if(!Array.isArray(t)||0===t.length)throw new Zc(Jc.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Zc(Jc.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function hb(t,e,n){if(!n.isEqual(e))throw new Zc(Jc.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function fb(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var lb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Li(e,t),e.prototype.Wf=function(t){return new th(t)},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return new Qm(this.firestore,null,e)},e}(Xg),pb=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),db=function(t){function e(e,n,r,i,o,s){var u=this;return(u=t.call(this,e,n,r,i,s)||this).Yf=e,u.ld=e,u.metadata=o,u}return Li(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Zf){if(this.v_){var e=new vb(this.Yf,this.Xf,this.S_,this.Zf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Xf.Uf(this.Zf.bt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Zf){var n=this.Zf.data().field(Jg("DocumentSnapshot.get",t));if(null!==n)return this.Xf.Uf(n,e.serverTimestamps)}},e}(Kg),vb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Li(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(db),yb=function(){function t(t,e,n,r){this.Yf=t,this.Xf=e,this._d=r,this.metadata=new pb(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._d.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._d.docs.forEach((function(r){t.call(e,new vb(n.Yf,n.Xf,r.key,r,new pb(n._d.De.has(r.key),n._d.fromCache),n.query.v_))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._d.xe)throw new Zc(Jc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.fd&&this.dd===e||(this.fd=function(t,e){if(t._d.Se.et()){var n=0;return t._d.docChanges.map((function(e){var r=new vb(t.Yf,t.Xf,e.doc.key,e.doc,new pb(t._d.De.has(e.doc.key),t._d.fromCache),t.query.v_);return e.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=t._d.Se;return t._d.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new vb(t.Yf,t.Xf,e.doc.key,e.doc,new pb(t._d.De.has(e.doc.key),t._d.fromCache),t.query.v_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:mb(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this.dd=e),this.fd},t}();function mb(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Bc()}}function gb(t,e){return t instanceof db&&e instanceof db?t.Yf===e.Yf&&t.S_.isEqual(e.S_)&&(null===t.Zf?null===e.Zf:t.Zf.isEqual(e.Zf))&&t.v_===e.v_:t instanceof yb&&e instanceof yb&&t.Yf===e.Yf&&tg(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._d.isEqual(e._d)}var bb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Li(e,t),e.prototype.Wf=function(t){return new th(t)},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return new Qm(this.firestore,null,e)},e}(Xg);function _b(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Bm(t,Qm);var o=Bm(t.firestore,Gg),s=ag(o);return e instanceof jm&&(e=e.d_),Eb(o,[("string"==typeof e||e instanceof Rm?mg(s,"updateDoc",t.S_,e,n,r):yg(s,"updateDoc",t.S_,e)).F_(t.S_,Wf.exists(!0))])}function wb(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof jm&&(t=t.d_);var s={includeMetadataChanges:!1},u=0;"object"!=typeof i[u]||Bg(i[u])||(s=i[u],u++);var a,c,h,f={includeMetadataChanges:s.includeMetadataChanges};if(Bg(i[u])){var l=i[u];i[u]=null===(e=l.next)||void 0===e?void 0:e.bind(l),i[u+1]=null===(n=l.error)||void 0===n?void 0:n.bind(l),i[u+2]=null===(r=l.complete)||void 0===r?void 0:r.bind(l)}if(t instanceof Qm)c=Bm(t.firestore,Gg),h=gf(t.S_.path),a={next:function(e){i[u]&&i[u](Tb(c,t,e))},error:i[u+1],complete:i[u+2]};else{var p=Bm(t,Xm);c=Bm(p.firestore,Gg),h=p.C_;var d=new bb(c);a={next:function(t){i[u]&&i[u](new yb(c,d,p,t))},error:i[u+1],complete:i[u+2]},Zg(t.C_)}return function(t,e,n,r){var i=this,o=new Pm(r),s=new By(e,o,n);return t._s.Ps((function(){return Mi(i,void 0,void 0,(function(){var e;return Vi(this,(function(n){switch(n.label){case 0:return e=Vy,[4,Fg(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))})),function(){o.i_(),t._s.Ps((function(){return Mi(i,void 0,void 0,(function(){var e;return Vi(this,(function(n){switch(n.label){case 0:return e=Fy,[4,Fg(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))}))}}($g(c),h,f,a)}function Eb(t,e){return function(t,e){var n=this,r=new xp;return t._s.Ps((function(){return Mi(n,void 0,void 0,(function(){var n;return Vi(this,(function(i){switch(i.label){case 0:return n=em,[4,Vg(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}($g(t),e)}function Tb(t,e,n){var r=n.docs.get(e.S_),i=new bb(t);return new db(t,i,e.S_,r,new pb(n.hasPendingWrites,n.fromCache),e.v_)}var Ib=function(){function t(t,e){this.Yf=t,this.wd=e,this.Ed=[],this.Td=!1,this.Id=ag(t)}return t.prototype.set=function(t,e,n){this.md();var r=xb(t,this.Yf),i=fb(r.v_,e,n),o=cg(this.Id,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.Ed.push(o.F_(r.S_,Wf.Kt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.md();var o,s=xb(t,this.Yf);return e instanceof jm&&(e=e.d_),o="string"==typeof e||e instanceof Rm?mg(this.Id,"WriteBatch.update",s.S_,e,n,r):yg(this.Id,"WriteBatch.update",s.S_,e),this.Ed.push(o.F_(s.S_,Wf.exists(!0))),this},t.prototype.delete=function(t){this.md();var e=xb(t,this.Yf);return this.Ed=this.Ed.concat(new pl(e.S_,Wf.Kt())),this},t.prototype.commit=function(){return this.md(),this.Td=!0,this.Ed.length>0?this.wd(this.Ed):Promise.resolve()},t.prototype.md=function(){if(this.Td)throw new Zc(Jc.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function xb(t,e){if(t instanceof jm&&(t=t.d_),t.firestore!==e)throw new Zc(Jc.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Ab=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Yf=e,r}return Li(e,t),e.prototype.get=function(e){var n=this,r=xb(e,this.Yf),i=new bb(this.Yf);return t.prototype.get.call(this,e).then((function(t){return new db(n.Yf,i,r.S_,t.Zf,new pb(!1,!1),r.v_)}))},e}(function(){function t(t,e){this.Yf=t,this.Ad=e,this.Id=ag(t)}return t.prototype.get=function(t){var e=this,n=xb(t,this.Yf),r=new lb(this.Yf);return this.Ad.ef([n.S_]).then((function(t){if(!t||1!==t.length)return Bc();var i=t[0];if(i instanceof Yh)return new Kg(e.Yf,r,n.S_,null,n.v_);if(i instanceof Hh)return new Kg(e.Yf,r,i.key,i,n.v_);throw Bc()}))},t.prototype.set=function(t,e,n){var r=xb(t,this.Yf),i=fb(r.v_,e,n),o=cg(this.Id,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Ad.set(r.S_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=xb(t,this.Yf);return e instanceof jm&&(e=e.d_),o="string"==typeof e||e instanceof Rm?mg(this.Id,"Transaction.update",s.S_,e,n,r):yg(this.Id,"Transaction.update",s.S_,e),this.Ad.update(s.S_,o),this},t.prototype.delete=function(t){var e=xb(t,this.Yf);return this.Ad.delete(e.S_),this},t}());function Sb(){if("undefined"==typeof Uint8Array)throw new Zc(Jc.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Nb(){if("undefined"==typeof atob)throw new Zc(Jc.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Ob=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Li(e,t),e.fromBase64String=function(t){return Nb(),new e(th.fromBase64String(t))},e.fromUint8Array=function(t){return Sb(),new e(th.fromUint8Array(t))},e.prototype.toBase64=function(){return Nb(),this.d_.toBase64()},e.prototype.toUint8Array=function(){return Sb(),this.d_.toUint8Array()},e.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(jm),kb=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Qg(t=Bm(t,Gg));var n=$g(t),r=t.p_(),i=new Cm;return Yg(n,i,new km(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t.d_,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Qg(t=Bm(t,Gg));var e=$g(t),n=t.p_(),r=new Cm;return Yg(e,r,new Dm(r,n.cacheSizeBytes))}(t.d_)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new Zc(Jc.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new xp;return t.Bf.Tf((function(){return Mi(e,void 0,void 0,(function(){var e;return Vi(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Mi(this,void 0,void 0,(function(){var e;return Vi(this,(function(n){switch(n.label){case 0:return Np.Kn()?(e=t+"main",[4,Np.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(cv(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t.d_)},t}(),Db=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Rd=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof jc||(i.Pd=e),i}return Li(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this.d_.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.d_.V_()),t)).merge,this.d_.g_(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=Bm(t,Ym)).V_();"firestore.googleapis.com"!==r.host&&r.host!==e&&qc("Host has been set in both settings() and useEmulator(), emulator host will be used"),t.g_(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this.d_,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t._s.enqueue((function(){return Mi(e,void 0,void 0,(function(){var e,n;return Vi(this,(function(r){switch(r.label){case 0:return[4,Lg(t)];case 1:return e=r.sent(),[4,Mg(t)];case 2:return n=r.sent(),[2,(e.yo(!0),function(t){var e=$c(t);return e.Nh.delete(0),fy(e)}(n))]}}))}))}))}($g(Bm(this.d_,Gg)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t._s.enqueue((function(){return Mi(e,void 0,void 0,(function(){var e,n;return Vi(this,(function(r){switch(r.label){case 0:return[4,Lg(t)];case 1:return e=r.sent(),[4,Mg(t)];case 2:return n=r.sent(),[2,(e.yo(!1),function(t){return Mi(this,void 0,void 0,(function(){var e;return Vi(this,(function(n){switch(n.label){case 0:return(e=$c(t)).Nh.add(0),[4,ly(e)];case 1:return n.sent(),e.Oh.set("Offline"),[2]}}))}))}(n))]}}))}))}))}($g(Bm(this.d_,Gg)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Fm("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Rd.enableMultiTabIndexedDbPersistence(this):this.Rd.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Rd.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.Pd&&(this.Pd._removeServiceInstance("firestore"),this.Pd._removeServiceInstance("firestore-exp")),this.d_._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new xp;return t._s.Ps((function(){return Mi(e,void 0,void 0,(function(){var e;return Vi(this,(function(r){switch(r.label){case 0:return e=um,[4,Vg(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}($g(Bm(this.d_,Gg)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Pm(e);return t._s.Ps((function(){return Mi(n,void 0,void 0,(function(){var e;return Vi(this,(function(n){switch(n.label){case 0:return e=function(t,e){$c(t).Wh.add(e),e.next()},[4,Fg(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.i_(),t._s.Ps((function(){return Mi(n,void 0,void 0,(function(){var e;return Vi(this,(function(n){switch(n.label){case 0:return e=function(t,e){$c(t).Wh.delete(e)},[4,Fg(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}($g(t=Bm(t,Gg)),Bg(e)?e:{next:e})}(this.d_,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Pd)throw new Zc(Jc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Pd},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new $b(this,Wm(this.d_,t))}catch(t){throw Mb(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new jb(this,Jm(this.d_,t))}catch(t){throw Mb(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new zb(this,function(t,e){if(t=Bm(t,Ym),Mm("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Zc(Jc.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Xm(t,null,function(t){return new yf(fh.ct(),t)}(e))}(this.d_,t))}catch(t){throw Mb(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new xp;return t._s.Ps((function(){return Mi(n,void 0,void 0,(function(){var n;return Vi(this,(function(i){switch(i.label){case 0:return[4,function(t){return Rg(t).then((function(t){return t.Sh}))}(t)];case 1:return n=i.sent(),new Og(t._s,n,e,r).run(),[2]}}))}))})),r.promise}($g(t),(function(n){return e(new Ab(t,n))}))}(this.d_,(function(n){return t(new Pb(e,n))}))},e.prototype.batch=function(){var t=this;return $g(this.d_),new Rb(new Ib(this.d_,(function(e){return Eb(t.d_,e)})))},e.prototype.loadBundle=function(t){throw new Zc(Jc.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new Zc(Jc.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(jm),Cb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Li(e,t),e.prototype.Wf=function(t){return new Ob(new th(t))},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return jb.yd(e,this.firestore,null)},e}(Xg),Pb=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r.Xf=new Cb(e),r}return Li(e,t),e.prototype.get=function(t){var e=this,n=Hb(t);return this.d_.get(n).then((function(t){return new Ub(e.Yf,new db(e.Yf.d_,e.Xf,t.S_,t.Zf,t.metadata,n.v_))}))},e.prototype.set=function(t,e,n){var r=Hb(t);return n?(Vm("Transaction.set",n),this.d_.set(r,e,n)):this.d_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Hb(t);return 2===arguments.length?this.d_.update(s,e):(r=this.d_).update.apply(r,qi([s,e,n],i)),this},e.prototype.delete=function(t){var e=Hb(t);return this.d_.delete(e),this},e}(jm),Rb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Li(e,t),e.prototype.set=function(t,e,n){var r=Hb(t);return n?(Vm("WriteBatch.set",n),this.d_.set(r,e,n)):this.d_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Hb(t);return 2===arguments.length?this.d_.update(s,e):(r=this.d_).update.apply(r,qi([s,e,n],i)),this},e.prototype.delete=function(t){var e=Hb(t);return this.d_.delete(e),this},e.prototype.commit=function(){return this.d_.commit()},e}(jm),Lb=function(t){function e(e,n,r){var i=this;return(i=t.call(this,r)||this).Yf=e,i.Xf=n,i}return Li(e,t),e.prototype.fromFirestore=function(t,e){var n=new vb(this.Yf.d_,this.Xf,t.S_,t.Zf,t.metadata,null);return this.d_.fromFirestore(new qb(this.Yf,n),null!=e?e:{})},e.prototype.toFirestore=function(t,e){return e?this.d_.toFirestore(t,e):this.d_.toFirestore(t)},e.gd=function(t,n){var r=e.Vd,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new Cb(t),n),i.set(n,o)),o},e}(jm);Lb.Vd=new WeakMap;var jb=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Xf=new Cb(e),r}return Li(e,t),e.pd=function(t,n,r){if(t.length%2!=0)throw new Zc(Jc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.rt()+" has "+t.length);return new e(n,new Qm(n.d_,r,new dh(t)))},e.yd=function(t,n,r){return new e(n,new Qm(n.d_,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new $b(this.firestore,this.d_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new $b(this.firestore,Wm(this.d_,t))}catch(t){throw Mb(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof jm&&(t=t.d_),t instanceof Qm&&Zm(this.d_,t)},e.prototype.set=function(t,e){e=Vm("DocumentReference.set",e);try{return function(t,e,n){t=Bm(t,Qm);var r=Bm(t.firestore,Gg),i=fb(t.v_,e,n);return Eb(r,[cg(ag(r),"setDoc",t.S_,i,null!==t.v_,n).F_(t.S_,Wf.Kt())])}(this.d_,t,e)}catch(t){throw Mb(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?_b(this.d_,t):_b.apply(void 0,qi([this.d_,t,e],n))}catch(t){throw Mb(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Eb(Bm((t=this.d_).firestore,Gg),[new pl(t.S_,Wf.Kt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Vb(e),i=Fb(e,(function(e){return new Ub(t.firestore,new db(t.firestore.d_,t.Xf,e.S_,e.Zf,e.metadata,t.d_.v_))}));return wb(this.d_,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Bm(t,Qm);var e=Bm(t.firestore,Gg),n=$g(e),r=new bb(e);return function(t,e){var n=this,r=new xp;return t._s.Ps((function(){return Mi(n,void 0,void 0,(function(){var n;return Vi(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Mi(this,void 0,void 0,(function(){var r,i;return Vi(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=$c(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Tc.Ho(t,e)}))}(t,e)];case 1:return(i=o.sent())instanceof Hh?n.resolve(i):i instanceof Yh?n.resolve(null):n.reject(new Zc(Jc.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Mp(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,jg(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.S_).then((function(n){return new db(e,r,t.S_,n,new pb(n instanceof Hh&&n.Vt,!0),t.v_)}))}(this.d_):"server"===(null==t?void 0:t.source)?function(t){t=Bm(t,Qm);var e=Bm(t.firestore,Gg);return Ug($g(e),t.S_,{source:"server"}).then((function(n){return Tb(e,t,n)}))}(this.d_):function(t){t=Bm(t,Qm);var e=Bm(t.firestore,Gg);return Ug($g(e),t.S_).then((function(n){return Tb(e,t,n)}))}(this.d_)).then((function(t){return new Ub(e.firestore,new db(e.firestore.d_,e.Xf,t.S_,t.Zf,t.metadata,e.d_.v_))}))},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(Lb.gd(this.firestore,t)))},e}(jm);function Mb(t,e,n){return t.message=t.message.replace(e,n),t}function Vb(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Bg(r))return r}return{}}function Fb(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Bg(t[0])?t[0]:Bg(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Ub=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Li(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new jb(this.Yf,this.d_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this.d_.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this.d_.data(t)},e.prototype.get=function(t,e){return this.d_.get(t,e)},e.prototype.isEqual=function(t){return gb(this.d_,t.d_)},e}(jm),qb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Li(e,t),e.prototype.data=function(t){return this.d_.data(t)},e}(Ub),zb=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Xf=new Cb(e),r}return Li(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,eb(this.d_,function(t,e,n){var r=e,i=Jg("where",t);return new nb(i,r,n)}(t,n,r)))}catch(t){throw Mb(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,eb(this.d_,function(t,e){void 0===e&&(e="asc");var n=e,r=Jg("orderBy",t);return new rb(r,n)}(t,n)))}catch(t){throw Mb(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,eb(this.d_,function(t){return Gm("limit",t),new ib("limit",t,"F")}(t)))}catch(t){throw Mb(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,eb(this.d_,function(t){return Gm("limitToLast",t),new ib("limitToLast",t,"L")}(t)))}catch(t){throw Mb(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,eb(this.d_,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new ob("startAt",t,!0)}.apply(void 0,t)))}catch(t){throw Mb(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,eb(this.d_,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new ob("startAfter",t,!1)}.apply(void 0,t)))}catch(t){throw Mb(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,eb(this.d_,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new sb("endBefore",t,!0)}.apply(void 0,t)))}catch(t){throw Mb(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,eb(this.d_,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new sb("endAt",t,!1)}.apply(void 0,t)))}catch(t){throw Mb(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return tg(this.d_,t.d_)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Bm(t,Xm);var e=Bm(t.firestore,Gg),n=$g(e),r=new bb(e);return function(t,e){var n=this,r=new xp;return t._s.Ps((function(){return Mi(n,void 0,void 0,(function(){var n;return Vi(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Mi(this,void 0,void 0,(function(){var r,i,o,s,u;return Vi(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,Iv(t,e,!0)];case 1:return u=a.sent(),r=new Qy(e,u.Rc),i=r.fl(u.documents),o=r.wi(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=a.sent(),u=Mp(s,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}}))}))},[4,jg(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.C_).then((function(n){return new yb(e,r,t,n)}))}(this.d_):"server"===(null==t?void 0:t.source)?function(t){t=Bm(t,Xm);var e=Bm(t.firestore,Gg),n=$g(e),r=new bb(e);return qg(n,t.C_,{source:"server"}).then((function(n){return new yb(e,r,t,n)}))}(this.d_):function(t){t=Bm(t,Xm);var e=Bm(t.firestore,Gg),n=$g(e),r=new bb(e);return Zg(t.C_),qg(n,t.C_).then((function(n){return new yb(e,r,t,n)}))}(this.d_)).then((function(t){return new Gb(e.firestore,new yb(e.firestore.d_,e.Xf,e.d_,t._d))}))},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Vb(e),i=Fb(e,(function(e){return new Gb(t.firestore,new yb(t.firestore.d_,t.Xf,t.d_,e._d))}));return wb(this.d_,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(Lb.gd(this.firestore,t)))},e}(jm),Bb=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Li(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.d_.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new qb(this.Yf,this.d_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this.d_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this.d_.newIndex},enumerable:!1,configurable:!0}),e}(jm),Gb=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Li(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new zb(this.Yf,this.d_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.d_.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.d_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this.d_.docs.map((function(e){return new qb(t.Yf,e)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this.d_.docChanges(t).map((function(t){return new Bb(e.Yf,t)}))},e.prototype.forEach=function(t,e){var n=this;this.d_.forEach((function(r){t.call(e,new qb(n.Yf,r))}))},e.prototype.isEqual=function(t){return gb(this.d_,t.d_)},e}(jm),$b=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r.d_=n,r}return Li(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.d_.parent;return t?new jb(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new jb(this.firestore,void 0===t?Jm(this.d_):Jm(this.d_,t))}catch(t){throw Mb(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Bm(t.firestore,Gg),r=Jm(t),i=fb(t.v_,e);return Eb(n,[cg(ag(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).F_(r.S_,Wf.exists(!1))]).then((function(){return r}))}(this.d_,t).then((function(t){return new jb(e.firestore,t)}))},e.prototype.isEqual=function(t){return Zm(this.d_,t.d_)},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(Lb.gd(this.firestore,t)))},e}(zb);function Hb(t){return t instanceof jm&&(t=t.d_),Bm(t,Qm)}var Yb,Qb=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(Rm.bind.apply(Rm,qi([void 0],e))))||this}return Li(e,t),e.documentId=function(){return new e(ph.ht().rt())},e.prototype.isEqual=function(t){return t instanceof jm&&(t=t.d_),t instanceof Rm&&this.d_.f_.isEqual(t.f_)},e}(jm),Xb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Li(e,t),e.serverTimestamp=function(){var t=new lg("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new hg("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new pg("arrayUnion",t)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new dg("arrayRemove",t)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new vg("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},e}(jm),Kb={Firestore:Db,GeoPoint:eg,Timestamp:ah,Blob:Ob,Transaction:Pb,WriteBatch:Rb,DocumentReference:jb,DocumentSnapshot:Ub,Query:zb,QueryDocumentSnapshot:qb,QuerySnapshot:Gb,CollectionReference:$b,FieldPath:Qb,FieldValue:Xb,setLogLevel:function(t){var e;e=t,Mc.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new eo("firestore",(function(t){return function(t,e){return new Db(t,new Gg(t,e),new kb)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Kb)))})(Yb=Oo),Yb.registerVersion("@firebase/firestore","2.1.7"),Oo.initializeApp({apiKey:"AIzaSyB-iTs21KY9HM38jj-HJ-BGPVGwTojrpPU",authDomain:"lsr8300.firebaseapp.com",databaseURL:"https://lsr8300-default-rtdb.europe-west1.firebasedatabase.app",projectId:"lsr8300",storageBucket:"lsr8300.appspot.com",messagingSenderId:"784956839368",appId:"1:784956839368:web:74b893f16c8cfd5cf55cfd",measurementId:"G-6LL4GN2J19"});const Wb=Oo.firestore();function Jb(t){let e,n,r,i,o,s,u,f;const p=[t_,Zb],v=[];function g(t,e){return"Annuel"===t[1]?0:"Mensuel"===t[1]?1:-1}return~(n=g(t))&&(r=v[n]=p[n](t)),{c(){e=l("div"),r&&r.c(),i=d(),o=l("div"),o.textContent="RETOUR",m(o,"class","bouton svelte-ogf08e"),m(e,"class","container svelte-ogf08e")},m(r,h){c(r,e,h),~n&&v[n].m(e,null),a(e,i),a(e,o),s=!0,u||(f=y(o,"click",t[6]),u=!0)},p(t,o){let s=n;n=g(t),n===s?~n&&v[n].p(t,o):(r&&(V(),q(v[s],1,1,(()=>{v[s]=null})),F()),~n?(r=v[n],r?r.p(t,o):(r=v[n]=p[n](t),r.c()),U(r,1),r.m(e,i)):r=null)},i(t){s||(U(r),s=!0)},o(t){q(r),s=!1},d(t){t&&h(e),~n&&v[n].d(),u=!1,f()}}}function Zb(t){let n,r;return n=new Pi({props:{db:Wb}}),{c(){z(n.$$.fragment)},m(t,e){B(n,t,e),r=!0},p:e,i(t){r||(U(n.$$.fragment,t),r=!0)},o(t){q(n.$$.fragment,t),r=!1},d(t){G(n,t)}}}function t_(t){let n,r;return n=new _i({}),{c(){z(n.$$.fragment)},m(t,e){B(n,t,e),r=!0},p:e,i(t){r||(U(n.$$.fragment,t),r=!0)},o(t){q(n.$$.fragment,t),r=!1},d(t){G(n,t)}}}function e_(t){let e,n,r,o,s,u,f,p,g,_=""!=t[1]&&Jb(t);return{c(){e=l("ul"),n=l("li"),n.textContent="Annuel",r=d(),o=l("li"),o.textContent="Mensuel",s=d(),_&&_.c(),u=v(),m(n,"class","svelte-ogf08e"),m(o,"class","svelte-ogf08e"),m(e,"class","svelte-ogf08e"),b(e,"hideSelection",t[0])},m(i,h){c(i,e,h),a(e,n),a(e,r),a(e,o),c(i,s,h),_&&_.m(i,h),c(i,u,h),f=!0,p||(g=[y(n,"click",t[4]),y(o,"click",t[5])],p=!0)},p(t,[n]){1&n&&b(e,"hideSelection",t[0]),""!=t[1]?_?(_.p(t,n),2&n&&U(_,1)):(_=Jb(t),_.c(),U(_,1),_.m(u.parentNode,u)):_&&(V(),q(_,1,1,(()=>{_=null})),F())},i(t){f||(U(_),f=!0)},o(t){q(_),f=!1},d(t){t&&h(e),t&&h(s),_&&_.d(t),t&&h(u),p=!1,i(g)}}}function n_(t,e,n){let r=!1,i="";function o(t){n(1,i=t),n(0,r=!0)}function s(){n(0,r=!1),n(1,i="")}return[r,i,o,s,()=>o("Annuel"),()=>o("Mensuel"),()=>s()]}const r_=class extends H{constructor(t){super(),$(this,t,n_,e_,s,{})}};function i_(t){let n;return{c(){n=l("div"),n.innerHTML='<div class="bsvInfo svelte-mkehom">Droit aux vacances pour tous avec LSR et BSV et SENIORS EN VACANCES c&#39;est\n    une ralit Dsormais s&#39;y ajoute SENIORS EN VACANCES (SEV)<br/><br/> Grce\n    au partenariat entre LSR et BSV (Bourse Solidarit Vacances), une semaine en\n    pension complte, dans un superbe centre de vacances, n&#39;est plus un rve\n    mme pour les adhrents LSR qui ont de faibles ressources.<br/><br/>\n    Depuis plusieurs annes des centaines de personnes ont ainsi pu s&#39;offrir des\n    vacances  la mer,  la montagne ou la campagne. Beaucoup d&#39;entre elles n&#39;auraient\n    jamais pu partir sans BSV. Ces sjours s&#39;adressent  tous les adhrents LSR \n    faible revenus. Organiss par la Fdration LSR, ils regroupent, chaque sortie,\n    une cinquantaine d&#39;adhrents LSR de diverses associations de toute la France\n    et sont toujours accompagns de deux animateurs responsables.<br/><br/> Un\n    tel prix pour des prestations de trs grande qualit repose sur une\n    vritable chaine de solidarit. Des propritaires et gestionnaires de centre\n    de vacances, l&#39;Avenir Social et LSR par leurs efforts, mis en convergence\n    par BSV, permettent de rendre des vacances de qualit accessibles  tous<br/><br/>\n\n    Les adhrents susceptibles de bnficier de sjours BSV et Seniors en\n    vacances sont pris de bien vouloir faire parvenir au plus tt la photocopie\n    recto-verso de leur dernire feuille dimposition ou non-imposition.\n\n    <br/><br/>\n    Le rglement se fera de la faon suivante :<br/><br/>1 : un chque de 80\n    au moment de linscription au nom de LSR83 <br/>2 : Pour ceux qui\n    utiliseront le train un chque de 180 1 mois avant la date de dpart.<br/>3 : Pour ceux qui utiliseront leur voiture un chque de 150 1 mois avant\n    la date de dpart.<br/><br/> Les rglements (par chque) seront  adresser\n     la Trsorire LSR 83 ou  remettre  le ou la responsable dantenne.</div> \n\n  <div class="inscriptionInfo svelte-mkehom">Voici la grille  partir de laquelle nous vrifions lligibilit des\n    bnficiaires :<br/><br/> BSV (regarder la ligne 25 de la feuille)<br/>Plafond pour 1 part fiscale : 21600<br/> Plafond pour 1,5 part fiscale :\n    27000<br/>\n    Plafond pour 2 parts fiscales : 32400<br/> Plafond pour 2,5 parts fiscales\n    : 37800<br/><br/>\n    SENIORS EN VACANCES<br/> Ne pas tre imposable (ligne 14 de la feuille)\n    Adresser la photocopie de la feuille dimposition  la TRESORIERE LSR 83.<br/><br/>\n    La destination du sjour 2021 BSV attribu  LSR 83 est :<br/> BISCAROSSE\n    (40) Village VTF <i>du 05 au 12 juin 2021</i><br/><br/> Le sjour est fix\n     260 tout compris. Pour les adhrents qui souhaitent se rendre dans le sjour\n    en voiture le prix du sjour sera ramen  230 par personne.</div>',m(n,"class","bsvContainer svelte-mkehom")},m(t,e){c(t,n,e)},p:e,i:e,o:e,d(t){t&&h(n)}}}function o_(t){return E((()=>{ai.from([".bsvInfo",".inscriptionInfo"],{y:50,opacity:0,duration:1.2,ease:tr.easeOut,stagger:.1})})),[]}const s_=class extends H{constructor(t){super(),$(this,t,o_,i_,s,{})}};function u_(t,e,n){const r=t.slice();return r[2]=e[n],r}function a_(t){let e,n=t[2].data().texte+"";return{c(){e=l("p"),m(e,"class","svelte-sedb5t")},m(t,r){c(t,e,r),e.innerHTML=n},p(t,r){2&r&&n!==(n=t[2].data().texte+"")&&(e.innerHTML=n)},d(t){t&&h(e)}}}function c_(t){let e,n=t[2].id==t[0]&&a_(t);return{c(){n&&n.c(),e=v()},m(t,r){n&&n.m(t,r),c(t,e,r)},p(t,r){t[2].id==t[0]?n?n.p(t,r):(n=a_(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&h(e)}}}function h_(t){let n,r=t[1],i=[];for(let e=0;e<r.length;e+=1)i[e]=c_(u_(t,r,e));return{c(){n=l("div");for(let t=0;t<i.length;t+=1)i[t].c();m(n,"class","selectionContainer svelte-sedb5t")},m(t,e){c(t,n,e);for(let t=0;t<i.length;t+=1)i[t].m(n,null)},p(t,[e]){if(3&e){let o;for(r=t[1],o=0;o<r.length;o+=1){const s=u_(t,r,o);i[o]?i[o].p(s,e):(i[o]=c_(s),i[o].c(),i[o].m(n,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=r.length}},i:e,o:e,d(t){t&&h(n),f(i,t)}}}function f_(t,e,n){let{textToShow:r}=e,i=[];return Wb.collection("administration").onSnapshot((t=>{n(1,i=t.docs)})),t.$$set=t=>{"textToShow"in t&&n(0,r=t.textToShow)},[r,i]}const l_=class extends H{constructor(t){super(),$(this,t,f_,h_,s,{textToShow:0})}};function p_(t){let n,r;return{c(){n=l("h1"),r=p(t[0])},m(t,e){c(t,n,e),a(n,r)},p(t,[e]){1&e&&g(r,t[0])},i:e,o:e,d(t){t&&h(n)}}}function d_(t,e,n){let{activite:r}=e;return t.$$set=t=>{"activite"in t&&n(0,r=t.activite)},[r]}const v_=class extends H{constructor(t){super(),$(this,t,d_,p_,s,{activite:0})}},y_=[{nom:"Ptanque",imageSrc:"./img/activites/petanque.jpg"},{nom:"Bowling",imageSrc:"./img/activites/bowling.jpg"},{nom:"Randonne",imageSrc:"./img/activites/rando.jpg"},{nom:"Jeux de socit",imageSrc:"./img/activites/jeux_de_societe.jpg"},{nom:"Patchwork",imageSrc:"./img/activites/patchwork.jpg"},{nom:"Znith",imageSrc:"./img/activites/zenith.jpg"},{nom:"Yoga",imageSrc:"./img/activites/yoga.jpg"}];function m_(t,e,n){const r=t.slice();return r[3]=e[n],r}function g_(t){let e,n;return e=new v_({props:{activite:t[0]}}),{c(){z(e.$$.fragment)},m(t,r){B(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.activite=t[0]),e.$set(r)},i(t){n||(U(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function b_(t){let n,r=y_,i=[];for(let e=0;e<r.length;e+=1)i[e]=__(m_(t,r,e));return{c(){n=l("div");for(let t=0;t<i.length;t+=1)i[t].c();m(n,"class","container svelte-1xsrizt")},m(t,e){c(t,n,e);for(let t=0;t<i.length;t+=1)i[t].m(n,null)},p(t,e){if(2&e){let o;for(r=y_,o=0;o<r.length;o+=1){const s=m_(t,r,o);i[o]?i[o].p(s,e):(i[o]=__(s),i[o].c(),i[o].m(n,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=r.length}},i:e,o:e,d(t){t&&h(n),f(i,t)}}}function __(t){let e,n,r,i,o,s,u,f,v,g,b=t[3].nom+"";function _(){return t[2](t[3])}return{c(){e=l("div"),n=l("img"),o=d(),s=l("p"),u=p(b),f=d(),n.src!==(r=t[3].imageSrc)&&m(n,"src",r),m(n,"alt",i="image "+t[3].nom),m(n,"class","svelte-1xsrizt"),m(s,"class","svelte-1xsrizt"),m(e,"class","activityItem svelte-1xsrizt")},m(t,r){c(t,e,r),a(e,n),a(e,o),a(e,s),a(s,u),a(e,f),v||(g=y(e,"click",_),v=!0)},p(e,n){t=e},d(t){t&&h(e),v=!1,g()}}}function w_(t){let e,n,r,i;const o=[b_,g_],s=[];function u(t,e){return""==t[0]?0:""!=t[0]?1:-1}return~(e=u(t))&&(n=s[e]=o[e](t)),{c(){n&&n.c(),r=v()},m(t,n){~e&&s[e].m(t,n),c(t,r,n),i=!0},p(t,[i]){let a=e;e=u(t),e===a?~e&&s[e].p(t,i):(n&&(V(),q(s[a],1,1,(()=>{s[a]=null})),F()),~e?(n=s[e],n?n.p(t,i):(n=s[e]=o[e](t),n.c()),U(n,1),n.m(r.parentNode,r)):n=null)},i(t){i||(U(n),i=!0)},o(t){q(n),i=!1},d(t){~e&&s[e].d(t),t&&h(r)}}}function E_(t,e,n){E((()=>{ai.from(".activityItem",{y:100,duration:.8,opacity:0,ease:tr.easeOut,stagger:.05})}));let r="";function i(t){console.log(t),n(0,r=t)}return[r,i,t=>i(t.nom)]}const T_=class extends H{constructor(t){super(),$(this,t,E_,w_,s,{})}};function I_(t){let n,r,i,o,s;return{c(){n=l("div"),r=l("p"),i=p(t[1]),o=p("\r\n  \r\n  "),s=l("p"),s.textContent="VISITES",m(r,"class","visitCount__nombre"),m(n,"class","visitCount svelte-yuo2iy")},m(e,u){c(e,n,u),a(n,r),a(r,i),a(n,o),a(n,s),t[2](n)},p(t,[e]){2&e&&g(i,t[1])},i:e,o:e,d(e){e&&h(n),t[2](null)}}}function x_(t,e,n){let r;E((()=>{let t=ai.from(r,{y:500,duration:1,ease:tr.easeOut,stagger:.1}).pause();fetch("https://api.countapi.xyz/update/LSR83000VisitCount/nombreVisites?amount=1").then((t=>t.json())).then((t=>{n(1,i=t.value)})).then((()=>{t.play()}))}));let i="";return[r,i,function(t){x[t?"unshift":"push"]((()=>{r=t,n(0,r)}))}]}const A_=class extends H{constructor(t){super(),$(this,t,x_,I_,s,{})}};function S_(t,e,n){const r=t.slice();return r[3]=e[n],r}function N_(t){let n;return{c(){n=l("span"),n.textContent=`${t[1]} \n    `,m(n,"class","infoImportante__texte svelte-sic8if")},m(t,e){c(t,n,e)},p:e,d(t){t&&h(n)}}}function O_(t){let n,r=Array(3),i=[];for(let e=0;e<r.length;e+=1)i[e]=N_(S_(t,r,e));return{c(){n=l("div");for(let t=0;t<i.length;t+=1)i[t].c();m(n,"class","infoImportante svelte-sic8if")},m(e,r){c(e,n,r);for(let t=0;t<i.length;t+=1)i[t].m(n,null);t[2](n)},p(t,[e]){if(2&e){let o;for(r=Array(3),o=0;o<r.length;o+=1){const s=S_(t,r,o);i[o]?i[o].p(s,e):(i[o]=N_(s),i[o].c(),i[o].m(n,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=r.length}},i:e,o:e,d(e){e&&h(n),f(i,e),t[2](null)}}}function k_(t,e,n){let r,i=("Information importante!".toUpperCase()+" - ").repeat(3);return[r,i,function(t){x[t?"unshift":"push"]((()=>{r=t,n(0,r)}))}]}const D_=class extends H{constructor(t){super(),$(this,t,k_,O_,s,{})}};function C_(t,e,n){const r=t.slice();return r[1]=e[n],r}function P_(t){let n,r,i,o=t[1]+"";return{c(){n=l("div"),r=p(o),i=p("\r\n        "),m(n,"class","loader_Mot")},m(t,e){c(t,n,e),a(n,r),c(t,i,e)},p:e,d(t){t&&h(n),t&&h(i)}}}function R_(t){let n,r,i=t[0],o=[];for(let e=0;e<i.length;e+=1)o[e]=P_(C_(t,i,e));return{c(){n=l("div"),r=l("h1");for(let t=0;t<o.length;t+=1)o[t].c();m(r,"id","loader_Texte"),m(r,"class","svelte-11g1n7g"),m(n,"class","loaderContainer svelte-11g1n7g")},m(t,e){c(t,n,e),a(n,r);for(let t=0;t<o.length;t+=1)o[t].m(r,null)},p(t,[e]){if(1&e){let n;for(i=t[0],n=0;n<i.length;n+=1){const s=C_(t,i,n);o[n]?o[n].p(s,e):(o[n]=P_(s),o[n].c(),o[n].m(r,null))}for(;n<o.length;n+=1)o[n].d(1);o.length=i.length}},i:e,o:e,d(t){t&&h(n),f(o,t)}}}function L_(t){const e="Loisir et Solidarit des Retraits du VAR".split(" ");return E((()=>{ai.from(".loader_Mot",{duration:.6,y:150,rotateZ:25,ease:tr.easeOut,stagger:.1,delay:.5})})),[e]}const j_=class extends H{constructor(t){super(),$(this,t,L_,R_,s,{})}};function M_(t){let e,n;return e=new l_({props:{textToShow:t[3]}}),{c(){z(e.$$.fragment)},m(t,r){B(e,t,r),n=!0},p(t,n){const r={};8&n&&(r.textToShow=t[3]),e.$set(r)},i(t){n||(U(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function V_(t){let n,r;return n=new r_({}),{c(){z(n.$$.fragment)},m(t,e){B(n,t,e),r=!0},p:e,i(t){r||(U(n.$$.fragment,t),r=!0)},o(t){q(n.$$.fragment,t),r=!1},d(t){G(n,t)}}}function F_(t){let n,r;return n=new s_({}),{c(){z(n.$$.fragment)},m(t,e){B(n,t,e),r=!0},p:e,i(t){r||(U(n.$$.fragment,t),r=!0)},o(t){q(n.$$.fragment,t),r=!1},d(t){G(n,t)}}}function U_(t){let n,r;return n=new T_({}),{c(){z(n.$$.fragment)},m(t,e){B(n,t,e),r=!0},p:e,i(t){r||(U(n.$$.fragment,t),r=!0)},o(t){q(n.$$.fragment,t),r=!1},d(t){G(n,t)}}}function q_(t){let n,r;return n=new pi({}),{c(){z(n.$$.fragment)},m(t,e){B(n,t,e),r=!0},p:e,i(t){r||(U(n.$$.fragment,t),r=!0)},o(t){q(n.$$.fragment,t),r=!1},d(t){G(n,t)}}}function z_(t){let n,r;return n=new yi({}),{c(){z(n.$$.fragment)},m(t,e){B(n,t,e),r=!0},p:e,i(t){r||(U(n.$$.fragment,t),r=!0)},o(t){q(n.$$.fragment,t),r=!1},d(t){G(n,t)}}}function B_(t){let e,n,r,o,s,u,f,p,v,g,_,w,E,T,I,x,A,S,N,O,k,D,C,P,R,L,j,M,$,H,Y,Q,X,K,W;e=new j_({}),R=new D_({});const J=[z_,q_,U_,F_,V_,M_],Z=[];function tt(t,e){return"/"===t[0]?0:"/Equipe"===t[0]?1:"/Activites"===t[0]?2:"/BSV"===t[0]?3:"/Planning"===t[0]?4:"/Administration"===t[0]?5:-1}return~(M=tt(t))&&($=Z[M]=J[M](t)),Q=new A_({}),{c(){z(e.$$.fragment),n=d(),r=l("header"),o=l("img"),u=d(),f=l("ul"),p=l("li"),p.textContent="QUIPE",v=d(),g=l("li"),g.textContent="ACTIVITS",_=d(),w=l("li"),w.textContent="BSV",E=d(),T=l("li"),T.textContent="PLANNINGS",I=d(),x=l("li"),x.textContent="ADMINISTRATION",A=d(),S=l("li"),S.textContent="DIVERS",N=d(),O=l("div"),k=l("p"),k.textContent="STATUTS",D=d(),C=l("p"),C.textContent="REGLEMENT",P=d(),z(R.$$.fragment),L=d(),j=l("div"),$&&$.c(),H=d(),Y=l("div"),z(Q.$$.fragment),o.src!==(s="./img/LSR_LOGO/LSR83_logo.png")&&m(o,"src","./img/LSR_LOGO/LSR83_logo.png"),m(o,"alt",""),m(o,"id","headerLogo"),m(o,"class","svelte-hoapv0"),m(p,"class","nav__link svelte-hoapv0"),m(g,"class","nav__link svelte-hoapv0"),m(w,"class","nav__link svelte-hoapv0"),m(T,"class","nav__link svelte-hoapv0"),m(x,"class","nav__link svelte-hoapv0"),m(S,"class","nav__link svelte-hoapv0"),m(f,"class","nav svelte-hoapv0"),m(k,"class","svelte-hoapv0"),m(C,"class","svelte-hoapv0"),m(O,"class","adminPannel svelte-hoapv0"),b(O,"pannelVisible",t[2]),m(r,"class","svelte-hoapv0"),m(Y,"class","svelte-hoapv0"),b(Y,"hidden","/"!=t[0]),m(j,"class","container svelte-hoapv0")},m(i,s){B(e,i,s),c(i,n,s),c(i,r,s),a(r,o),a(r,u),a(r,f),a(f,p),a(f,v),a(f,g),a(f,_),a(f,w),a(f,E),a(f,T),a(f,I),a(f,x),a(f,A),a(f,S),a(r,N),a(r,O),a(O,k),a(O,D),a(O,C),c(i,P,s),B(R,i,s),c(i,L,s),c(i,j,s),~M&&Z[M].m(j,null),a(j,H),a(j,Y),B(Q,Y,null),t[15](j),X=!0,K||(W=[y(o,"click",t[6]),y(p,"click",t[7]),y(g,"click",t[8]),y(w,"click",t[9]),y(T,"click",t[10]),y(x,"click",t[11]),y(S,"click",t[12]),y(k,"click",t[13]),y(C,"click",t[14])],K=!0)},p(t,[e]){4&e&&b(O,"pannelVisible",t[2]);let n=M;M=tt(t),M===n?~M&&Z[M].p(t,e):($&&(V(),q(Z[n],1,1,(()=>{Z[n]=null})),F()),~M?($=Z[M],$?$.p(t,e):($=Z[M]=J[M](t),$.c()),U($,1),$.m(j,H)):$=null),1&e&&b(Y,"hidden","/"!=t[0])},i(t){X||(U(e.$$.fragment,t),U(R.$$.fragment,t),U($),U(Q.$$.fragment,t),X=!0)},o(t){q(e.$$.fragment,t),q(R.$$.fragment,t),q($),q(Q.$$.fragment,t),X=!1},d(o){G(e,o),o&&h(n),o&&h(r),o&&h(P),G(R,o),o&&h(L),o&&h(j),~M&&Z[M].d(),G(Q),t[15](null),K=!1,i(W)}}}function G_(t,e,n){let r,i="/";function o(t){ai.to(r,{autoAlpha:0,duration:.6,ease:Zn.easeOut}),setTimeout((function(){ai.to(r,{autoAlpha:1,duration:.6,ease:Zn.easeOut}),n(0,i=t)}),200)}let s=!1,u="";function a(t){o("/Administration"),setTimeout((function(){n(3,u=t.toLowerCase())}),200),n(2,s=!1)}return[i,r,s,u,o,a,()=>o("/"),()=>o("/Equipe"),()=>o("/Activites"),()=>o("/BSV"),()=>o("/Planning"),()=>{n(2,s=!s)},()=>{n(2,s=!s)},()=>a("Statuts"),()=>a("Reglement"),function(t){x[t?"unshift":"push"]((()=>{r=t,n(1,r)}))}]}new class extends H{constructor(t){super(),$(this,t,G_,B_,s,{})}}({target:document.getElementById("App")})})();