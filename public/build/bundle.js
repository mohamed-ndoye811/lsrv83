/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";var t={};function e(){}function n(t){return t()}function r(){return Object.create(null)}function i(t){t.forEach(n)}function o(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(t){return 0===Object.keys(t).length}function u(t){return null==t?"":t}function c(t,e){t.appendChild(e)}function l(t,e,n){t.insertBefore(e,n||null)}function h(t){t.parentNode.removeChild(t)}function f(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function p(t){return document.createElement(t)}function d(t){return document.createTextNode(t)}function v(){return d(" ")}function m(){return d("")}function y(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function g(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function b(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function _(t,e,n){t.classList[n?"add":"remove"](e)}let w;function E(t){w=t}function I(t){(function(){if(!w)throw new Error("Function called outside component initialization");return w})().$$.on_mount.push(t)}function T(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t(e)))}t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),new Set,new Set;const x=[],A=[],S=[],N=[],k=Promise.resolve();let O=!1;function D(t){S.push(t)}let C=!1;const P=new Set;function R(){if(!C){C=!0;do{for(let t=0;t<x.length;t+=1){const e=x[t];E(e),L(e.$$)}for(E(null),x.length=0;A.length;)A.pop()();for(let t=0;t<S.length;t+=1){const e=S[t];P.has(e)||(P.add(e),e())}S.length=0}while(x.length);for(;N.length;)N.pop()();O=!1,C=!1,P.clear()}}function L(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(D)}}const M=new Set;let V,j;function F(){V={r:0,c:[],p:V}}function U(){V.r||i(V.c),V=V.p}function q(t,e){t&&t.i&&(M.delete(t),t.i(e))}function z(t,e,n,r){if(t&&t.o){if(M.has(t))return;M.add(t),V.c.push((()=>{M.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}function B(t){t&&t.c()}function G(t,e,r,s){const{fragment:a,on_mount:u,on_destroy:c,after_update:l}=t.$$;a&&a.m(e,r),s||D((()=>{const e=u.map(n).filter(o);c?c.push(...e):i(e),t.$$.on_mount=[]})),l.forEach(D)}function $(t,e){const n=t.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function H(t,n,o,s,a,u,c=[-1]){const l=w;E(t);const f=t.$$={fragment:null,ctx:null,props:u,update:e,not_equal:a,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:[]),callbacks:r(),dirty:c,skip_bound:!1};let p=!1;if(f.ctx=o?o(t,n.props||{},((e,n,...r)=>{const i=r.length?r[0]:n;return f.ctx&&a(f.ctx[e],f.ctx[e]=i)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](i),p&&function(t,e){-1===t.$$.dirty[0]&&(x.push(t),O||(O=!0,k.then(R)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(t,e)),n})):[],f.update(),p=!0,i(f.before_update),f.fragment=!!s&&s(f.ctx),n.target){if(n.hydrate){const t=(d=n.target,Array.from(d.childNodes));f.fragment&&f.fragment.l(t),t.forEach(h)}else f.fragment&&f.fragment.c();n.intro&&q(t.$$.fragment),G(t,n.target,n.anchor,n.customElement),R()}var d;E(l)}"undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global,new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]),"function"==typeof HTMLElement&&(j=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:t}=this.$$;this.$$.on_disconnect=t.map(n).filter(o);for(const t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(t,e,n){this[t]=n}disconnectedCallback(){i(this.$$.on_disconnect)}$destroy(){$(this,1),this.$destroy=e}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){this.$$set&&!a(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}});class Y{$destroy(){$(this,1),this.$destroy=e}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){this.$$set&&!a(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Q(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function X(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var K,W,J,Z,tt,et,nt,rt,it,ot={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},st={duration:.5,overwrite:!1,delay:0},at=1e8,ut=1e-8,ct=2*Math.PI,lt=ct/4,ht=0,ft=Math.sqrt,pt=Math.cos,dt=Math.sin,vt=function(t){return"string"==typeof t},mt=function(t){return"function"==typeof t},yt=function(t){return"number"==typeof t},gt=function(t){return void 0===t},bt=function(t){return"object"==typeof t},_t=function(t){return!1!==t},wt=function(){return"undefined"!=typeof window},Et=function(t){return mt(t)||vt(t)},It="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},Tt=Array.isArray,xt=/(?:-?\.?\d|\.)+/gi,At=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,St=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Nt=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,kt=/[+-]=-?[.\d]+/,Ot=/[#\-+.]*\b[a-z\d-=+%.]+/gi,Dt=/[\d.+\-=]+(?:e[-+]\d*)*/i,Ct={},Pt={},Rt=function(t){return(Pt=se(t,Ct))&&$n},Lt=function(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")},Mt=function(t,e){return!e&&console.warn(t)},Vt=function(t,e){return t&&(Ct[t]=e)&&Pt&&(Pt[t]=e)||Ct},jt=function(){return 0},Ft={},Ut=[],qt={},zt={},Bt={},Gt=30,$t=[],Ht="",Yt=function(t){var e,n,r=t[0];if(bt(r)||mt(r)||(t=[t]),!(e=(r._gsap||{}).harness)){for(n=$t.length;n--&&!$t[n].targetTest(r););e=$t[n]}for(n=t.length;n--;)t[n]&&(t[n]._gsap||(t[n]._gsap=new mn(t[n],e)))||t.splice(n,1);return t},Qt=function(t){return t._gsap||Yt(Re(t))[0]._gsap},Xt=function(t,e,n){return(n=t[e])&&mt(n)?t[e]():gt(n)&&t.getAttribute&&t.getAttribute(e)||n},Kt=function(t,e){return(t=t.split(",")).forEach(e)||t},Wt=function(t){return Math.round(1e5*t)/1e5||0},Jt=function(t,e){for(var n=e.length,r=0;t.indexOf(e[r])<0&&++r<n;);return r<n},Zt=function(t,e,n){var r,i=yt(t[1]),o=(i?2:1)+(e<2?0:1),s=t[o];if(i&&(s.duration=t[1]),s.parent=n,e){for(r=s;n&&!("immediateRender"in r);)r=n.vars.defaults||{},n=_t(n.vars.inherit)&&n.parent;s.immediateRender=_t(r.immediateRender),e<2?s.runBackwards=1:s.startAt=t[o-1]}return s},te=function(){var t,e,n=Ut.length,r=Ut.slice(0);for(qt={},Ut.length=0,t=0;t<n;t++)(e=r[t])&&e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0)._lazy=0)},ee=function(t,e,n,r){Ut.length&&te(),t.render(e,n,r),Ut.length&&te()},ne=function(t){var e=parseFloat(t);return(e||0===e)&&(t+"").match(Ot).length<2?e:vt(t)?t.trim():t},re=function(t){return t},ie=function(t,e){for(var n in e)n in t||(t[n]=e[n]);return t},oe=function(t,e){for(var n in e)n in t||"duration"===n||"ease"===n||(t[n]=e[n])},se=function(t,e){for(var n in e)t[n]=e[n];return t},ae=function t(e,n){for(var r in n)"__proto__"!==r&&"constructor"!==r&&"prototype"!==r&&(e[r]=bt(n[r])?t(e[r]||(e[r]={}),n[r]):n[r]);return e},ue=function(t,e){var n,r={};for(n in t)n in e||(r[n]=t[n]);return r},ce=function(t){var e=t.parent||W,n=t.keyframes?oe:ie;if(_t(t.inherit))for(;e;)n(t,e.vars.defaults),e=e.parent||e._dp;return t},le=function(t,e,n,r){void 0===n&&(n="_first"),void 0===r&&(r="_last");var i=e._prev,o=e._next;i?i._next=o:t[n]===e&&(t[n]=o),o?o._prev=i:t[r]===e&&(t[r]=i),e._next=e._prev=e.parent=null},he=function(t,e){t.parent&&(!e||t.parent.autoRemoveChildren)&&t.parent.remove(t),t._act=0},fe=function(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var n=t;n;)n._dirty=1,n=n.parent;return t},pe=function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t},de=function t(e){return!e||e._ts&&t(e.parent)},ve=function(t){return t._repeat?me(t._tTime,t=t.duration()+t._rDelay)*t:0},me=function(t,e){var n=Math.floor(t/=e);return t&&n===t?n-1:n},ye=function(t,e){return(t-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},ge=function(t){return t._end=Wt(t._start+(t._tDur/Math.abs(t._ts||t._rts||ut)||0))},be=function(t,e){var n=t._dp;return n&&n.smoothChildTiming&&t._ts&&(t._start=Wt(n._time-(t._ts>0?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),ge(t),n._dirty||fe(n,t)),t},_e=function(t,e){var n;if((e._time||e._initted&&!e._dur)&&(n=ye(t.rawTime(),e),(!e._dur||Oe(0,e.totalDuration(),n)-e._tTime>ut)&&e.render(n,!0)),fe(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(n=t;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;t._zTime=-1e-8}},we=function(t,e,n,r){return e.parent&&he(e),e._start=Wt(n+e._delay),e._end=Wt(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),function(t,e,n,r,i){void 0===n&&(n="_first"),void 0===r&&(r="_last");var o,s=t[r];if(i)for(o=e[i];s&&s[i]>o;)s=s._prev;s?(e._next=s._next,s._next=e):(e._next=t[n],t[n]=e),e._next?e._next._prev=e:t[r]=e,e._prev=s,e.parent=e._dp=t}(t,e,"_first","_last",t._sort?"_start":0),t._recent=e,r||_e(t,e),t},Ee=function(t,e){return(Ct.ScrollTrigger||Lt("scrollTrigger",e))&&Ct.ScrollTrigger.create(e,t)},Ie=function(t,e,n,r){return In(t,e),t._initted?!n&&t._pt&&(t._dur&&!1!==t.vars.lazy||!t._dur&&t.vars.lazy)&&nt!==nn.frame?(Ut.push(t),t._lazy=[e,r],1):void 0:1},Te=function t(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||t(n))},xe=function(t,e,n,r){var i=t._repeat,o=Wt(e)||0,s=t._tTime/t._tDur;return s&&!r&&(t._time*=o/t._dur),t._dur=o,t._tDur=i?i<0?1e10:Wt(o*(i+1)+t._rDelay*i):o,s&&!r?be(t,t._tTime=t._tDur*s):t.parent&&ge(t),n||fe(t.parent,t),t},Ae=function(t){return t instanceof gn?fe(t):xe(t,t._dur)},Se={_start:0,endTime:jt},Ne=function t(e,n){var r,i,o=e.labels,s=e._recent||Se,a=e.duration()>=at?s.endTime(!1):e._dur;return vt(n)&&(isNaN(n)||n in o)?"<"===(r=n.charAt(0))||">"===r?("<"===r?s._start:s.endTime(s._repeat>=0))+(parseFloat(n.substr(1))||0):(r=n.indexOf("="))<0?(n in o||(o[n]=a),o[n]):(i=+(n.charAt(r-1)+n.substr(r+1)),r>1?t(e,n.substr(0,r-1))+i:a+i):null==n?a:+n},ke=function(t,e){return t||0===t?e(t):e},Oe=function(t,e,n){return n<t?t:n>e?e:n},De=function(t){if("string"!=typeof t)return"";var e=Dt.exec(t);return e?t.substr(e.index+e[0].length):""},Ce=[].slice,Pe=function(t,e){return t&&bt(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&bt(t[0]))&&!t.nodeType&&t!==J},Re=function(t,e){return!vt(t)||e||!Z&&rn()?Tt(t)?function(t,e,n){return void 0===n&&(n=[]),t.forEach((function(t){var r;return vt(t)&&!e||Pe(t,1)?(r=n).push.apply(r,Re(t)):n.push(t)}))||n}(t,e):Pe(t)?Ce.call(t,0):t?[t]:[]:Ce.call(tt.querySelectorAll(t),0)},Le=function(t){return t.sort((function(){return.5-Math.random()}))},Me=function(t){if(mt(t))return t;var e=bt(t)?t:{each:t},n=hn(e.ease),r=e.from||0,i=parseFloat(e.base)||0,o={},s=r>0&&r<1,a=isNaN(r)||s,u=e.axis,c=r,l=r;return vt(r)?c=l={center:.5,edges:.5,end:1}[r]||0:!s&&a&&(c=r[0],l=r[1]),function(t,s,h){var f,p,d,v,m,y,g,b,_,w=(h||e).length,E=o[w];if(!E){if(!(_="auto"===e.grid?0:(e.grid||[1,at])[1])){for(g=-at;g<(g=h[_++].getBoundingClientRect().left)&&_<w;);_--}for(E=o[w]=[],f=a?Math.min(_,w)*c-.5:r%_,p=a?w*l/_-.5:r/_|0,g=0,b=at,y=0;y<w;y++)d=y%_-f,v=p-(y/_|0),E[y]=m=u?Math.abs("y"===u?v:d):ft(d*d+v*v),m>g&&(g=m),m<b&&(b=m);"random"===r&&Le(E),E.max=g-b,E.min=b,E.v=w=(parseFloat(e.amount)||parseFloat(e.each)*(_>w?w-1:u?"y"===u?w/_:_:Math.max(_,w/_))||0)*("edges"===r?-1:1),E.b=w<0?i-w:i,E.u=De(e.amount||e.each)||0,n=n&&w<0?cn(n):n}return w=(E[t]-E.min)/E.max||0,Wt(E.b+(n?n(w):w)*E.v)+E.u}},Ve=function(t){var e=t<1?Math.pow(10,(t+"").length-2):1;return function(n){var r=Math.round(parseFloat(n)/t)*t*e;return(r-r%1)/e+(yt(n)?0:De(n))}},je=function(t,e){var n,r,i=Tt(t);return!i&&bt(t)&&(n=i=t.radius||at,t.values?(t=Re(t.values),(r=!yt(t[0]))&&(n*=n)):t=Ve(t.increment)),ke(e,i?mt(t)?function(e){return r=t(e),Math.abs(r-e)<=n?r:e}:function(e){for(var i,o,s=parseFloat(r?e.x:e),a=parseFloat(r?e.y:0),u=at,c=0,l=t.length;l--;)(i=r?(i=t[l].x-s)*i+(o=t[l].y-a)*o:Math.abs(t[l]-s))<u&&(u=i,c=l);return c=!n||u<=n?t[c]:e,r||c===e||yt(e)?c:c+De(e)}:Ve(t))},Fe=function(t,e,n,r){return ke(Tt(t)?!e:!0===n?!!(n=0):!r,(function(){return Tt(t)?t[~~(Math.random()*t.length)]:(n=n||1e-5)&&(r=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((t-n/2+Math.random()*(e-t+.99*n))/n)*n*r)/r}))},Ue=function(t,e,n){return ke(n,(function(n){return t[~~e(n)]}))},qe=function(t){for(var e,n,r,i,o=0,s="";~(e=t.indexOf("random(",o));)r=t.indexOf(")",e),i="["===t.charAt(e+7),n=t.substr(e+7,r-e-7).match(i?Ot:xt),s+=t.substr(o,e-o)+Fe(i?n:+n[0],i?0:+n[1],+n[2]||1e-5),o=r+1;return s+t.substr(o,t.length-o)},ze=function(t,e,n,r,i){var o=e-t,s=r-n;return ke(i,(function(e){return n+((e-t)/o*s||0)}))},Be=function(t,e,n){var r,i,o,s=t.labels,a=at;for(r in s)(i=s[r]-e)<0==!!n&&i&&a>(i=Math.abs(i))&&(o=r,a=i);return o},Ge=function(t,e,n){var r,i,o=t.vars,s=o[e];if(s)return r=o[e+"Params"],i=o.callbackScope||t,n&&Ut.length&&te(),r?s.apply(i,r):s.call(i)},$e=function(t){return he(t),t.progress()<1&&Ge(t,"onInterrupt"),t},He=function(t){var e=(t=!t.name&&t.default||t).name,n=mt(t),r=e&&!n&&t.init?function(){this._props=[]}:t,i={init:jt,render:Mn,add:wn,kill:jn,modifier:Vn,rawVars:0},o={targetTest:0,get:0,getSetter:Cn,aliases:{},register:0};if(rn(),t!==r){if(zt[e])return;ie(r,ie(ue(t,i),o)),se(r.prototype,se(i,ue(t,o))),zt[r.prop=e]=r,t.targetTest&&($t.push(r),Ft[e]=1),e=("css"===e?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}Vt(e,r),t.register&&t.register($n,r,qn)},Ye=255,Qe={aqua:[0,Ye,Ye],lime:[0,Ye,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Ye],navy:[0,0,128],white:[Ye,Ye,Ye],olive:[128,128,0],yellow:[Ye,Ye,0],orange:[Ye,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Ye,0,0],pink:[Ye,192,203],cyan:[0,Ye,Ye],transparent:[Ye,Ye,Ye,0]},Xe=function(t,e,n){return(6*(t=t<0?t+1:t>1?t-1:t)<1?e+(n-e)*t*6:t<.5?n:3*t<2?e+(n-e)*(2/3-t)*6:e)*Ye+.5|0},Ke=function(t,e,n){var r,i,o,s,a,u,c,l,h,f,p=t?yt(t)?[t>>16,t>>8&Ye,t&Ye]:0:Qe.black;if(!p){if(","===t.substr(-1)&&(t=t.substr(0,t.length-1)),Qe[t])p=Qe[t];else if("#"===t.charAt(0)){if(t.length<6&&(r=t.charAt(1),i=t.charAt(2),o=t.charAt(3),t="#"+r+r+i+i+o+o+(5===t.length?t.charAt(4)+t.charAt(4):"")),9===t.length)return[(p=parseInt(t.substr(1,6),16))>>16,p>>8&Ye,p&Ye,parseInt(t.substr(7),16)/255];p=[(t=parseInt(t.substr(1),16))>>16,t>>8&Ye,t&Ye]}else if("hsl"===t.substr(0,3))if(p=f=t.match(xt),e){if(~t.indexOf("="))return p=t.match(At),n&&p.length<4&&(p[3]=1),p}else s=+p[0]%360/360,a=+p[1]/100,r=2*(u=+p[2]/100)-(i=u<=.5?u*(a+1):u+a-u*a),p.length>3&&(p[3]*=1),p[0]=Xe(s+1/3,r,i),p[1]=Xe(s,r,i),p[2]=Xe(s-1/3,r,i);else p=t.match(xt)||Qe.transparent;p=p.map(Number)}return e&&!f&&(r=p[0]/Ye,i=p[1]/Ye,o=p[2]/Ye,u=((c=Math.max(r,i,o))+(l=Math.min(r,i,o)))/2,c===l?s=a=0:(h=c-l,a=u>.5?h/(2-c-l):h/(c+l),s=c===r?(i-o)/h+(i<o?6:0):c===i?(o-r)/h+2:(r-i)/h+4,s*=60),p[0]=~~(s+.5),p[1]=~~(100*a+.5),p[2]=~~(100*u+.5)),n&&p.length<4&&(p[3]=1),p},We=function(t){var e=[],n=[],r=-1;return t.split(Ze).forEach((function(t){var i=t.match(St)||[];e.push.apply(e,i),n.push(r+=i.length+1)})),e.c=n,e},Je=function(t,e,n){var r,i,o,s,a="",u=(t+a).match(Ze),c=e?"hsla(":"rgba(",l=0;if(!u)return t;if(u=u.map((function(t){return(t=Ke(t,e,1))&&c+(e?t[0]+","+t[1]+"%,"+t[2]+"%,"+t[3]:t.join(","))+")"})),n&&(o=We(t),(r=n.c).join(a)!==o.c.join(a)))for(s=(i=t.replace(Ze,"1").split(St)).length-1;l<s;l++)a+=i[l]+(~r.indexOf(l)?u.shift()||c+"0,0,0,0)":(o.length?o:u.length?u:n).shift());if(!i)for(s=(i=t.split(Ze)).length-1;l<s;l++)a+=i[l]+u[l];return a+i[s]},Ze=function(){var t,e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(t in Qe)e+="|"+t+"\\b";return new RegExp(e+")","gi")}(),tn=/hsl[a]?\(/,en=function(t){var e,n=t.join(" ");if(Ze.lastIndex=0,Ze.test(n))return e=tn.test(n),t[1]=Je(t[1],e),t[0]=Je(t[0],e,We(t[1])),!0},nn=function(){var t,e,n,r,i,o,s=Date.now,a=500,u=33,c=s(),l=c,h=1e3/240,f=h,p=[],d=function n(d){var v,m,y,g,b=s()-l,_=!0===d;if(b>a&&(c+=b-u),((v=(y=(l+=b)-c)-f)>0||_)&&(g=++r.frame,i=y-1e3*r.time,r.time=y/=1e3,f+=v+(v>=h?4:h-v),m=1),_||(t=e(n)),m)for(o=0;o<p.length;o++)p[o](y,i,g,d)};return r={time:0,frame:0,tick:function(){d(!0)},deltaRatio:function(t){return i/(1e3/(t||60))},wake:function(){et&&(!Z&&wt()&&(J=Z=window,tt=J.document||{},Ct.gsap=$n,(J.gsapVersions||(J.gsapVersions=[])).push($n.version),Rt(Pt||J.GreenSockGlobals||!J.gsap&&J||{}),n=J.requestAnimationFrame),t&&r.sleep(),e=n||function(t){return setTimeout(t,f-1e3*r.time+1|0)},it=1,d(2))},sleep:function(){(n?J.cancelAnimationFrame:clearTimeout)(t),it=0,e=jt},lagSmoothing:function(t,e){a=t||1e8,u=Math.min(e,a,0)},fps:function(t){h=1e3/(t||240),f=1e3*r.time+h},add:function(t){p.indexOf(t)<0&&p.push(t),rn()},remove:function(t){var e;~(e=p.indexOf(t))&&p.splice(e,1)&&o>=e&&o--},_listeners:p}}(),rn=function(){return!it&&nn.wake()},on={},sn=/^[\d.\-M][\d.\-,\s]/,an=/["']/g,un=function(t){for(var e,n,r,i={},o=t.substr(1,t.length-3).split(":"),s=o[0],a=1,u=o.length;a<u;a++)n=o[a],e=a!==u-1?n.lastIndexOf(","):n.length,r=n.substr(0,e),i[s]=isNaN(r)?r.replace(an,"").trim():+r,s=n.substr(e+1).trim();return i},cn=function(t){return function(e){return 1-t(1-e)}},ln=function t(e,n){for(var r,i=e._first;i;)i instanceof gn?t(i,n):!i.vars.yoyoEase||i._yoyo&&i._repeat||i._yoyo===n||(i.timeline?t(i.timeline,n):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=n)),i=i._next},hn=function(t,e){return t&&(mt(t)?t:on[t]||function(t){var e,n,r,i,o=(t+"").split("("),s=on[o[0]];return s&&o.length>1&&s.config?s.config.apply(null,~t.indexOf("{")?[un(o[1])]:(e=t,n=e.indexOf("(")+1,r=e.indexOf(")"),i=e.indexOf("(",n),e.substring(n,~i&&i<r?e.indexOf(")",r+1):r)).split(",").map(ne)):on._CE&&sn.test(t)?on._CE("",t):s}(t))||e},fn=function(t,e,n,r){void 0===n&&(n=function(t){return 1-e(1-t)}),void 0===r&&(r=function(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2});var i,o={easeIn:e,easeOut:n,easeInOut:r};return Kt(t,(function(t){for(var e in on[t]=Ct[t]=o,on[i=t.toLowerCase()]=n,o)on[i+("easeIn"===e?".in":"easeOut"===e?".out":".inOut")]=on[t+"."+e]=o[e]})),o},pn=function(t){return function(e){return e<.5?(1-t(1-2*e))/2:.5+t(2*(e-.5))/2}},dn=function t(e,n,r){var i=n>=1?n:1,o=(r||(e?.3:.45))/(n<1?n:1),s=o/ct*(Math.asin(1/i)||0),a=function(t){return 1===t?1:i*Math.pow(2,-10*t)*dt((t-s)*o)+1},u="out"===e?a:"in"===e?function(t){return 1-a(1-t)}:pn(a);return o=ct/o,u.config=function(n,r){return t(e,n,r)},u},vn=function t(e,n){void 0===n&&(n=1.70158);var r=function(t){return t?--t*t*((n+1)*t+n)+1:0},i="out"===e?r:"in"===e?function(t){return 1-r(1-t)}:pn(r);return i.config=function(n){return t(e,n)},i};Kt("Linear,Quad,Cubic,Quart,Quint,Strong",(function(t,e){var n=e<5?e+1:e;fn(t+",Power"+(n-1),e?function(t){return Math.pow(t,n)}:function(t){return t},(function(t){return 1-Math.pow(1-t,n)}),(function(t){return t<.5?Math.pow(2*t,n)/2:1-Math.pow(2*(1-t),n)/2}))})),on.Linear.easeNone=on.none=on.Linear.easeIn,fn("Elastic",dn("in"),dn("out"),dn()),function(t,e){var n=function(n){return n<.36363636363636365?t*n*n:n<.7272727272727273?t*Math.pow(n-1.5/e,2)+.75:n<.9090909090909092?t*(n-=2.25/e)*n+.9375:t*Math.pow(n-2.625/e,2)+.984375};fn("Bounce",(function(t){return 1-n(1-t)}),n)}(7.5625,2.75),fn("Expo",(function(t){return t?Math.pow(2,10*(t-1)):0})),fn("Circ",(function(t){return-(ft(1-t*t)-1)})),fn("Sine",(function(t){return 1===t?1:1-pt(t*lt)})),fn("Back",vn("in"),vn("out"),vn()),on.SteppedEase=on.steps=Ct.SteppedEase={config:function(t,e){void 0===t&&(t=1);var n=1/t,r=t+(e?0:1),i=e?1:0;return function(t){return((r*Oe(0,.99999999,t)|0)+i)*n}}},st.ease=on["quad.out"],Kt("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(t){return Ht+=t+","+t+"Params,"}));var mn=function(t,e){this.id=ht++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:Xt,this.set=e?e.getSetter:Cn},yn=function(){function t(t,e){var n=t.parent||W;this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,xe(this,+t.duration,1,1),this.data=t.data,it||nn.wake(),n&&we(n,this,e||0===e?e:n._time,1),t.reversed&&this.reverse(),t.paused&&this.paused(!0)}var e=t.prototype;return e.delay=function(t){return t||0===t?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+t-this._delay),this._delay=t,this):this._delay},e.duration=function(t){return arguments.length?this.totalDuration(this._repeat>0?t+(t+this._rDelay)*this._repeat:t):this.totalDuration()&&this._dur},e.totalDuration=function(t){return arguments.length?(this._dirty=0,xe(this,this._repeat<0?t:(t-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(t,e){if(rn(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){for(be(this,t),!n._dp||n.parent||_e(n,this);n.parent;)n.parent._time!==n._start+(n._ts>=0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&t<this._tDur||this._ts<0&&t>0||!this._tDur&&!t)&&we(this._dp,this,this._start-this._delay)}return(this._tTime!==t||!this._dur&&!e||this._initted&&Math.abs(this._zTime)===ut||!t&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=t),ee(this,t,e)),this},e.time=function(t,e){return arguments.length?this.totalTime(Math.min(this.totalDuration(),t+ve(this))%this._dur||(t?this._dur:0),e):this._time},e.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},e.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?t:1-t)+ve(this),e):this.duration()?Math.min(1,this._time/this._dur):this.ratio},e.iteration=function(t,e){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(t-1)*n,e):this._repeat?me(this._tTime,n)+1:1},e.timeScale=function(t){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===t)return this;var e=this.parent&&this._ts?ye(this.parent._time,this):this._tTime;return this._rts=+t||0,this._ts=this._ps||-1e-8===t?0:this._rts,pe(this.totalTime(Oe(-this._delay,this._tDur,e),!0))},e.paused=function(t){return arguments.length?(this._ps!==t&&(this._ps=t,t?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(rn(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&(this._tTime-=ut)&&Math.abs(this._zTime)!==ut))),this):this._ps},e.startTime=function(t){if(arguments.length){this._start=t;var e=this.parent||this._dp;return e&&(e._sort||!this.parent)&&we(e,this,t-this._delay),this}return this._start},e.endTime=function(t){return this._start+(_t(t)?this.totalDuration():this.duration())/Math.abs(this._ts)},e.rawTime=function(t){var e=this.parent||this._dp;return e?t&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?ye(e.rawTime(t),this):this._tTime:this._tTime},e.globalTime=function(t){for(var e=this,n=arguments.length?t:e.rawTime();e;)n=e._start+n/(e._ts||1),e=e._dp;return n},e.repeat=function(t){return arguments.length?(this._repeat=t===1/0?-2:t,Ae(this)):-2===this._repeat?1/0:this._repeat},e.repeatDelay=function(t){return arguments.length?(this._rDelay=t,Ae(this)):this._rDelay},e.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},e.seek=function(t,e){return this.totalTime(Ne(this,t),_t(e))},e.restart=function(t,e){return this.play().totalTime(t?-this._delay:0,_t(e))},e.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},e.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},e.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(t){return arguments.length?(!!t!==this.reversed()&&this.timeScale(-this._rts||(t?-1e-8:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},e.isActive=function(){var t,e=this.parent||this._dp,n=this._start;return!(e&&!(this._ts&&this._initted&&e.isActive()&&(t=e.rawTime(!0))>=n&&t<this.endTime(!0)-ut))},e.eventCallback=function(t,e,n){var r=this.vars;return arguments.length>1?(e?(r[t]=e,n&&(r[t+"Params"]=n),"onUpdate"===t&&(this._onUpdate=e)):delete r[t],this):r[t]},e.then=function(t){var e=this;return new Promise((function(n){var r=mt(t)?t:re,i=function(){var t=e.then;e.then=null,mt(r)&&(r=r(e))&&(r.then||r===e)&&(e.then=t),n(r),e.then=t};e._initted&&1===e.totalProgress()&&e._ts>=0||!e._tTime&&e._ts<0?i():e._prom=i}))},e.kill=function(){$e(this)},t}();ie(yn.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var gn=function(t){function e(e,n){var r;return void 0===e&&(e={}),(r=t.call(this,e,n)||this).labels={},r.smoothChildTiming=!!e.smoothChildTiming,r.autoRemoveChildren=!!e.autoRemoveChildren,r._sort=_t(e.sortChildren),r.parent&&_e(r.parent,Q(r)),e.scrollTrigger&&Ee(Q(r),e.scrollTrigger),r}X(e,t);var n=e.prototype;return n.to=function(t,e,n){return new Sn(t,Zt(arguments,0,this),Ne(this,yt(e)?arguments[3]:n)),this},n.from=function(t,e,n){return new Sn(t,Zt(arguments,1,this),Ne(this,yt(e)?arguments[3]:n)),this},n.fromTo=function(t,e,n,r){return new Sn(t,Zt(arguments,2,this),Ne(this,yt(e)?arguments[4]:r)),this},n.set=function(t,e,n){return e.duration=0,e.parent=this,ce(e).repeatDelay||(e.repeat=0),e.immediateRender=!!e.immediateRender,new Sn(t,e,Ne(this,n),1),this},n.call=function(t,e,n){return we(this,Sn.delayedCall(0,t,e),Ne(this,n))},n.staggerTo=function(t,e,n,r,i,o,s){return n.duration=e,n.stagger=n.stagger||r,n.onComplete=o,n.onCompleteParams=s,n.parent=this,new Sn(t,n,Ne(this,i)),this},n.staggerFrom=function(t,e,n,r,i,o,s){return n.runBackwards=1,ce(n).immediateRender=_t(n.immediateRender),this.staggerTo(t,e,n,r,i,o,s)},n.staggerFromTo=function(t,e,n,r,i,o,s,a){return r.startAt=n,ce(r).immediateRender=_t(r.immediateRender),this.staggerTo(t,e,r,i,o,s,a)},n.render=function(t,e,n){var r,i,o,s,a,u,c,l,h,f,p,d,v=this._time,m=this._dirty?this.totalDuration():this._tDur,y=this._dur,g=this!==W&&t>m-ut&&t>=0?m:t<ut?0:t,b=this._zTime<0!=t<0&&(this._initted||!y);if(g!==this._tTime||n||b){if(v!==this._time&&y&&(g+=this._time-v,t+=this._time-v),r=g,h=this._start,u=!(l=this._ts),b&&(y||(v=this._zTime),(t||!e)&&(this._zTime=t)),this._repeat){if(p=this._yoyo,a=y+this._rDelay,this._repeat<-1&&t<0)return this.totalTime(100*a+t,e,n);if(r=Wt(g%a),g===m?(s=this._repeat,r=y):((s=~~(g/a))&&s===g/a&&(r=y,s--),r>y&&(r=y)),f=me(this._tTime,a),!v&&this._tTime&&f!==s&&(f=s),p&&1&s&&(r=y-r,d=1),s!==f&&!this._lock){var _=p&&1&f,w=_===(p&&1&s);if(s<f&&(_=!_),v=_?0:y,this._lock=1,this.render(v||(d?0:Wt(s*a)),e,!y)._lock=0,!e&&this.parent&&Ge(this,"onRepeat"),this.vars.repeatRefresh&&!d&&(this.invalidate()._lock=1),v!==this._time||u!==!this._ts)return this;if(y=this._dur,m=this._tDur,w&&(this._lock=2,v=_?y:-1e-4,this.render(v,!0),this.vars.repeatRefresh&&!d&&this.invalidate()),this._lock=0,!this._ts&&!u)return this;ln(this,d)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(c=function(t,e,n){var r;if(n>e)for(r=t._first;r&&r._start<=n;){if(!r._dur&&"isPause"===r.data&&r._start>e)return r;r=r._next}else for(r=t._last;r&&r._start>=n;){if(!r._dur&&"isPause"===r.data&&r._start<e)return r;r=r._prev}}(this,Wt(v),Wt(r)))&&(g-=r-(r=c._start)),this._tTime=g,this._time=r,this._act=!l,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=t,v=0),!v&&(r||!y&&t>=0)&&!e&&Ge(this,"onStart"),r>=v&&t>=0)for(i=this._first;i;){if(o=i._next,(i._act||r>=i._start)&&i._ts&&c!==i){if(i.parent!==this)return this.render(t,e,n);if(i.render(i._ts>0?(r-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(r-i._start)*i._ts,e,n),r!==this._time||!this._ts&&!u){c=0,o&&(g+=this._zTime=-1e-8);break}}i=o}else{i=this._last;for(var E=t<0?t:r;i;){if(o=i._prev,(i._act||E<=i._end)&&i._ts&&c!==i){if(i.parent!==this)return this.render(t,e,n);if(i.render(i._ts>0?(E-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(E-i._start)*i._ts,e,n),r!==this._time||!this._ts&&!u){c=0,o&&(g+=this._zTime=E?-1e-8:ut);break}}i=o}}if(c&&!e&&(this.pause(),c.render(r>=v?0:-1e-8)._zTime=r>=v?1:-1,this._ts))return this._start=h,ge(this),this.render(t,e,n);this._onUpdate&&!e&&Ge(this,"onUpdate",!0),(g===m&&m>=this.totalDuration()||!g&&v)&&(h!==this._start&&Math.abs(l)===Math.abs(this._ts)||this._lock||((t||!y)&&(g===m&&this._ts>0||!g&&this._ts<0)&&he(this,1),e||t<0&&!v||!g&&!v||(Ge(this,g===m?"onComplete":"onReverseComplete",!0),this._prom&&!(g<m&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(t,e){var n=this;if(yt(e)||(e=Ne(this,e)),!(t instanceof yn)){if(Tt(t))return t.forEach((function(t){return n.add(t,e)})),this;if(vt(t))return this.addLabel(t,e);if(!mt(t))return this;t=Sn.delayedCall(0,t)}return this!==t?we(this,t,e):this},n.getChildren=function(t,e,n,r){void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===n&&(n=!0),void 0===r&&(r=-at);for(var i=[],o=this._first;o;)o._start>=r&&(o instanceof Sn?e&&i.push(o):(n&&i.push(o),t&&i.push.apply(i,o.getChildren(!0,e,n)))),o=o._next;return i},n.getById=function(t){for(var e=this.getChildren(1,1,1),n=e.length;n--;)if(e[n].vars.id===t)return e[n]},n.remove=function(t){return vt(t)?this.removeLabel(t):mt(t)?this.killTweensOf(t):(le(this,t),t===this._recent&&(this._recent=this._last),fe(this))},n.totalTime=function(e,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Wt(nn.time-(this._ts>0?e/this._ts:(this.totalDuration()-e)/-this._ts))),t.prototype.totalTime.call(this,e,n),this._forcing=0,this):this._tTime},n.addLabel=function(t,e){return this.labels[t]=Ne(this,e),this},n.removeLabel=function(t){return delete this.labels[t],this},n.addPause=function(t,e,n){var r=Sn.delayedCall(0,e||jt,n);return r.data="isPause",this._hasPause=1,we(this,r,Ne(this,t))},n.removePause=function(t){var e=this._first;for(t=Ne(this,t);e;)e._start===t&&"isPause"===e.data&&he(e),e=e._next},n.killTweensOf=function(t,e,n){for(var r=this.getTweensOf(t,n),i=r.length;i--;)bn!==r[i]&&r[i].kill(t,e);return this},n.getTweensOf=function(t,e){for(var n,r=[],i=Re(t),o=this._first,s=yt(e);o;)o instanceof Sn?Jt(o._targets,i)&&(s?(!bn||o._initted&&o._ts)&&o.globalTime(0)<=e&&o.globalTime(o.totalDuration())>e:!e||o.isActive())&&r.push(o):(n=o.getTweensOf(i,e)).length&&r.push.apply(r,n),o=o._next;return r},n.tweenTo=function(t,e){e=e||{};var n=this,r=Ne(n,t),i=e,o=i.startAt,s=i.onStart,a=i.onStartParams,u=i.immediateRender,c=Sn.to(n,ie({ease:"none",lazy:!1,immediateRender:!1,time:r,overwrite:"auto",duration:e.duration||Math.abs((r-(o&&"time"in o?o.time:n._time))/n.timeScale())||ut,onStart:function(){n.pause();var t=e.duration||Math.abs((r-n._time)/n.timeScale());c._dur!==t&&xe(c,t,0,1).render(c._time,!0,!0),s&&s.apply(c,a||[])}},e));return u?c.render(0):c},n.tweenFromTo=function(t,e,n){return this.tweenTo(e,ie({startAt:{time:Ne(this,t)}},n))},n.recent=function(){return this._recent},n.nextLabel=function(t){return void 0===t&&(t=this._time),Be(this,Ne(this,t))},n.previousLabel=function(t){return void 0===t&&(t=this._time),Be(this,Ne(this,t),1)},n.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.previousLabel(this._time+ut)},n.shiftChildren=function(t,e,n){void 0===n&&(n=0);for(var r,i=this._first,o=this.labels;i;)i._start>=n&&(i._start+=t,i._end+=t),i=i._next;if(e)for(r in o)o[r]>=n&&(o[r]+=t);return fe(this)},n.invalidate=function(){var e=this._first;for(this._lock=0;e;)e.invalidate(),e=e._next;return t.prototype.invalidate.call(this)},n.clear=function(t){void 0===t&&(t=!0);for(var e,n=this._first;n;)e=n._next,this.remove(n),n=e;return this._dp&&(this._time=this._tTime=this._pTime=0),t&&(this.labels={}),fe(this)},n.totalDuration=function(t){var e,n,r,i=0,o=this,s=o._last,a=at;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-t:t));if(o._dirty){for(r=o.parent;s;)e=s._prev,s._dirty&&s.totalDuration(),(n=s._start)>a&&o._sort&&s._ts&&!o._lock?(o._lock=1,we(o,s,n-s._delay,1)._lock=0):a=n,n<0&&s._ts&&(i-=n,(!r&&!o._dp||r&&r.smoothChildTiming)&&(o._start+=n/o._ts,o._time-=n,o._tTime-=n),o.shiftChildren(-n,!1,-Infinity),a=0),s._end>i&&s._ts&&(i=s._end),s=e;xe(o,o===W&&o._time>i?o._time:i,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(t){if(W._ts&&(ee(W,ye(t,W)),nt=nn.frame),nn.frame>=Gt){Gt+=ot.autoSleep||120;var e=W._first;if((!e||!e._ts)&&ot.autoSleep&&nn._listeners.length<2){for(;e&&!e._ts;)e=e._next;e||nn.sleep()}}},e}(yn);ie(gn.prototype,{_lock:0,_hasPause:0,_forcing:0});var bn,_n=function(t,e,n,r,i,o,s){var a,u,c,l,h,f,p,d,v=new qn(this._pt,t,e,0,1,Ln,null,i),m=0,y=0;for(v.b=n,v.e=r,n+="",(p=~(r+="").indexOf("random("))&&(r=qe(r)),o&&(o(d=[n,r],t,e),n=d[0],r=d[1]),u=n.match(Nt)||[];a=Nt.exec(r);)l=a[0],h=r.substring(m,a.index),c?c=(c+1)%5:"rgba("===h.substr(-5)&&(c=1),l!==u[y++]&&(f=parseFloat(u[y-1])||0,v._pt={_next:v._pt,p:h||1===y?h:",",s:f,c:"="===l.charAt(1)?parseFloat(l.substr(2))*("-"===l.charAt(0)?-1:1):parseFloat(l)-f,m:c&&c<4?Math.round:0},m=Nt.lastIndex);return v.c=m<r.length?r.substring(m,r.length):"",v.fp=s,(kt.test(r)||p)&&(v.e=0),this._pt=v,v},wn=function(t,e,n,r,i,o,s,a,u){mt(r)&&(r=r(i||0,t,o));var c,l=t[e],h="get"!==n?n:mt(l)?u?t[e.indexOf("set")||!mt(t["get"+e.substr(3)])?e:"get"+e.substr(3)](u):t[e]():l,f=mt(l)?u?On:kn:Nn;if(vt(r)&&(~r.indexOf("random(")&&(r=qe(r)),"="===r.charAt(1)&&(r=parseFloat(h)+parseFloat(r.substr(2))*("-"===r.charAt(0)?-1:1)+(De(h)||0))),h!==r)return isNaN(h*r)?(!l&&!(e in t)&&Lt(e,r),_n.call(this,t,e,h,r,f,a||ot.stringFilter,u)):(c=new qn(this._pt,t,e,+h||0,r-(h||0),"boolean"==typeof l?Rn:Pn,0,f),u&&(c.fp=u),s&&c.modifier(s,this,t),this._pt=c)},En=function(t,e,n,r,i,o){var s,a,u,c;if(zt[t]&&!1!==(s=new zt[t]).init(i,s.rawVars?e[t]:function(t,e,n,r,i){if(mt(t)&&(t=Tn(t,i,e,n,r)),!bt(t)||t.style&&t.nodeType||Tt(t)||It(t))return vt(t)?Tn(t,i,e,n,r):t;var o,s={};for(o in t)s[o]=Tn(t[o],i,e,n,r);return s}(e[t],r,i,o,n),n,r,o)&&(n._pt=a=new qn(n._pt,i,t,0,1,s.render,s,0,s.priority),n!==rt))for(u=n._ptLookup[n._targets.indexOf(i)],c=s._props.length;c--;)u[s._props[c]]=a;return s},In=function t(e,n){var r,i,o,s,a,u,c,l,h,f,p,d,v,m=e.vars,y=m.ease,g=m.startAt,b=m.immediateRender,_=m.lazy,w=m.onUpdate,E=m.onUpdateParams,I=m.callbackScope,T=m.runBackwards,x=m.yoyoEase,A=m.keyframes,S=m.autoRevert,N=e._dur,k=e._startAt,O=e._targets,D=e.parent,C=D&&"nested"===D.data?D.parent._targets:O,P="auto"===e._overwrite&&!K,R=e.timeline;if(R&&(!A||!y)&&(y="none"),e._ease=hn(y,st.ease),e._yEase=x?cn(hn(!0===x?y:x,st.ease)):0,x&&e._yoyo&&!e._repeat&&(x=e._yEase,e._yEase=e._ease,e._ease=x),!R){if(d=(l=O[0]?Qt(O[0]).harness:0)&&m[l.prop],r=ue(m,Ft),k&&k.render(-1,!0).kill(),g){if(he(e._startAt=Sn.set(O,ie({data:"isStart",overwrite:!1,parent:D,immediateRender:!0,lazy:_t(_),startAt:null,delay:0,onUpdate:w,onUpdateParams:E,callbackScope:I,stagger:0},g))),b)if(n>0)S||(e._startAt=0);else if(N&&!(n<0&&k))return void(n&&(e._zTime=n))}else if(T&&N)if(k)!S&&(e._startAt=0);else if(n&&(b=!1),o=ie({overwrite:!1,data:"isFromStart",lazy:b&&_t(_),immediateRender:b,stagger:0,parent:D},r),d&&(o[l.prop]=d),he(e._startAt=Sn.set(O,o)),b){if(!n)return}else t(e._startAt,ut);for(e._pt=0,_=N&&_t(_)||_&&!N,i=0;i<O.length;i++){if(c=(a=O[i])._gsap||Yt(O)[i]._gsap,e._ptLookup[i]=f={},qt[c.id]&&Ut.length&&te(),p=C===O?i:C.indexOf(a),l&&!1!==(h=new l).init(a,d||r,e,p,C)&&(e._pt=s=new qn(e._pt,a,h.name,0,1,h.render,h,0,h.priority),h._props.forEach((function(t){f[t]=s})),h.priority&&(u=1)),!l||d)for(o in r)zt[o]&&(h=En(o,r,e,p,a,C))?h.priority&&(u=1):f[o]=s=wn.call(e,a,o,"get",r[o],p,C,0,m.stringFilter);e._op&&e._op[i]&&e.kill(a,e._op[i]),P&&e._pt&&(bn=e,W.killTweensOf(a,f,e.globalTime(0)),v=!e.parent,bn=0),e._pt&&_&&(qt[c.id]=1)}u&&Un(e),e._onInit&&e._onInit(e)}e._from=!R&&!!m.runBackwards,e._onUpdate=w,e._initted=(!e._op||e._pt)&&!v},Tn=function(t,e,n,r,i){return mt(t)?t.call(e,n,r,i):vt(t)&&~t.indexOf("random(")?qe(t):t},xn=Ht+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase",An=(xn+",id,stagger,delay,duration,paused,scrollTrigger").split(","),Sn=function(t){function e(e,n,r,i){var o;"number"==typeof n&&(r.duration=n,n=r,r=null);var s,a,u,c,l,h,f,p,d=(o=t.call(this,i?n:ce(n),r)||this).vars,v=d.duration,m=d.delay,y=d.immediateRender,g=d.stagger,b=d.overwrite,_=d.keyframes,w=d.defaults,E=d.scrollTrigger,I=d.yoyoEase,T=o.parent,x=(Tt(e)||It(e)?yt(e[0]):"length"in n)?[e]:Re(e);if(o._targets=x.length?Yt(x):Mt("GSAP target "+e+" not found. https://greensock.com",!ot.nullTargetWarn)||[],o._ptLookup=[],o._overwrite=b,_||g||Et(v)||Et(m)){if(n=o.vars,(s=o.timeline=new gn({data:"nested",defaults:w||{}})).kill(),s.parent=s._dp=Q(o),s._start=0,_)ie(s.vars.defaults,{ease:"none"}),_.forEach((function(t){return s.to(x,t,">")}));else{if(c=x.length,f=g?Me(g):jt,bt(g))for(l in g)~xn.indexOf(l)&&(p||(p={}),p[l]=g[l]);for(a=0;a<c;a++){for(l in u={},n)An.indexOf(l)<0&&(u[l]=n[l]);u.stagger=0,I&&(u.yoyoEase=I),p&&se(u,p),h=x[a],u.duration=+Tn(v,Q(o),a,h,x),u.delay=(+Tn(m,Q(o),a,h,x)||0)-o._delay,!g&&1===c&&u.delay&&(o._delay=m=u.delay,o._start+=m,u.delay=0),s.to(h,u,f(a,h,x))}s.duration()?v=m=0:o.timeline=0}v||o.duration(v=s.duration())}else o.timeline=0;return!0!==b||K||(bn=Q(o),W.killTweensOf(x),bn=0),T&&_e(T,Q(o)),(y||!v&&!_&&o._start===Wt(T._time)&&_t(y)&&de(Q(o))&&"nested"!==T.data)&&(o._tTime=-1e-8,o.render(Math.max(0,-m))),E&&Ee(Q(o),E),o}X(e,t);var n=e.prototype;return n.render=function(t,e,n){var r,i,o,s,a,u,c,l,h,f=this._time,p=this._tDur,d=this._dur,v=t>p-ut&&t>=0?p:t<ut?0:t;if(d){if(v!==this._tTime||!t||n||!this._initted&&this._tTime||this._startAt&&this._zTime<0!=t<0){if(r=v,l=this.timeline,this._repeat){if(s=d+this._rDelay,this._repeat<-1&&t<0)return this.totalTime(100*s+t,e,n);if(r=Wt(v%s),v===p?(o=this._repeat,r=d):((o=~~(v/s))&&o===v/s&&(r=d,o--),r>d&&(r=d)),(u=this._yoyo&&1&o)&&(h=this._yEase,r=d-r),a=me(this._tTime,s),r===f&&!n&&this._initted)return this;o!==a&&(l&&this._yEase&&ln(l,u),!this.vars.repeatRefresh||u||this._lock||(this._lock=n=1,this.render(Wt(s*o),!0).invalidate()._lock=0))}if(!this._initted){if(Ie(this,t<0?t:r,n,e))return this._tTime=0,this;if(d!==this._dur)return this.render(t,e,n)}for(this._tTime=v,this._time=r,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=c=(h||this._ease)(r/d),this._from&&(this.ratio=c=1-c),r&&!f&&!e&&Ge(this,"onStart"),i=this._pt;i;)i.r(c,i.d),i=i._next;l&&l.render(t<0?t:!r&&u?-1e-8:l._dur*c,e,n)||this._startAt&&(this._zTime=t),this._onUpdate&&!e&&(t<0&&this._startAt&&this._startAt.render(t,!0,n),Ge(this,"onUpdate")),this._repeat&&o!==a&&this.vars.onRepeat&&!e&&this.parent&&Ge(this,"onRepeat"),v!==this._tDur&&v||this._tTime!==v||(t<0&&this._startAt&&!this._onUpdate&&this._startAt.render(t,!0,!0),(t||!d)&&(v===this._tDur&&this._ts>0||!v&&this._ts<0)&&he(this,1),e||t<0&&!f||!v&&!f||(Ge(this,v===p?"onComplete":"onReverseComplete",!0),this._prom&&!(v<p&&this.timeScale()>0)&&this._prom()))}}else!function(t,e,n,r){var i,o,s,a=t.ratio,u=e<0||!e&&(!t._start&&Te(t)||(t._ts<0||t._dp._ts<0)&&"isFromStart"!==t.data&&"isStart"!==t.data)?0:1,c=t._rDelay,l=0;if(c&&t._repeat&&(l=Oe(0,t._tDur,e),o=me(l,c),s=me(t._tTime,c),t._yoyo&&1&o&&(u=1-u),o!==s&&(a=1-u,t.vars.repeatRefresh&&t._initted&&t.invalidate())),u!==a||r||t._zTime===ut||!e&&t._zTime){if(!t._initted&&Ie(t,e,r,n))return;for(s=t._zTime,t._zTime=e||(n?ut:0),n||(n=e&&!s),t.ratio=u,t._from&&(u=1-u),t._time=0,t._tTime=l,n||Ge(t,"onStart"),i=t._pt;i;)i.r(u,i.d),i=i._next;t._startAt&&e<0&&t._startAt.render(e,!0,!0),t._onUpdate&&!n&&Ge(t,"onUpdate"),l&&t._repeat&&!n&&t.parent&&Ge(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===u&&(u&&he(t,1),n||(Ge(t,u?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)}(this,t,e,n);return this},n.targets=function(){return this._targets},n.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),t.prototype.invalidate.call(this)},n.kill=function(t,e){if(void 0===e&&(e="all"),!(t||e&&"all"!==e))return this._lazy=this._pt=0,this.parent?$e(this):this;if(this.timeline){var n=this.timeline.totalDuration();return this.timeline.killTweensOf(t,e,bn&&!0!==bn.vars.overwrite)._first||$e(this),this.parent&&n!==this.timeline.totalDuration()&&xe(this,this._dur*this.timeline._tDur/n,0,1),this}var r,i,o,s,a,u,c,l=this._targets,h=t?Re(t):l,f=this._ptLookup,p=this._pt;if((!e||"all"===e)&&function(t,e){for(var n=t.length,r=n===e.length;r&&n--&&t[n]===e[n];);return n<0}(l,h))return"all"===e&&(this._pt=0),$e(this);for(r=this._op=this._op||[],"all"!==e&&(vt(e)&&(a={},Kt(e,(function(t){return a[t]=1})),e=a),e=function(t,e){var n,r,i,o,s=t[0]?Qt(t[0]).harness:0,a=s&&s.aliases;if(!a)return e;for(r in n=se({},e),a)if(r in n)for(i=(o=a[r].split(",")).length;i--;)n[o[i]]=n[r];return n}(l,e)),c=l.length;c--;)if(~h.indexOf(l[c]))for(a in i=f[c],"all"===e?(r[c]=e,s=i,o={}):(o=r[c]=r[c]||{},s=e),s)(u=i&&i[a])&&("kill"in u.d&&!0!==u.d.kill(a)||le(this,u,"_pt"),delete i[a]),"all"!==o&&(o[a]=1);return this._initted&&!this._pt&&p&&$e(this),this},e.to=function(t,n){return new e(t,n,arguments[2])},e.from=function(t,n){return new e(t,Zt(arguments,1))},e.delayedCall=function(t,n,r,i){return new e(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:t,onComplete:n,onReverseComplete:n,onCompleteParams:r,onReverseCompleteParams:r,callbackScope:i})},e.fromTo=function(t,n,r){return new e(t,Zt(arguments,2))},e.set=function(t,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new e(t,n)},e.killTweensOf=function(t,e,n){return W.killTweensOf(t,e,n)},e}(yn);ie(Sn.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),Kt("staggerTo,staggerFrom,staggerFromTo",(function(t){Sn[t]=function(){var e=new gn,n=Ce.call(arguments,0);return n.splice("staggerFromTo"===t?5:4,0,0),e[t].apply(e,n)}}));var Nn=function(t,e,n){return t[e]=n},kn=function(t,e,n){return t[e](n)},On=function(t,e,n,r){return t[e](r.fp,n)},Dn=function(t,e,n){return t.setAttribute(e,n)},Cn=function(t,e){return mt(t[e])?kn:gt(t[e])&&t.setAttribute?Dn:Nn},Pn=function(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4,e)},Rn=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},Ln=function(t,e){var n=e._pt,r="";if(!t&&e.b)r=e.b;else if(1===t&&e.e)r=e.e;else{for(;n;)r=n.p+(n.m?n.m(n.s+n.c*t):Math.round(1e4*(n.s+n.c*t))/1e4)+r,n=n._next;r+=e.c}e.set(e.t,e.p,r,e)},Mn=function(t,e){for(var n=e._pt;n;)n.r(t,n.d),n=n._next},Vn=function(t,e,n,r){for(var i,o=this._pt;o;)i=o._next,o.p===r&&o.modifier(t,e,n),o=i},jn=function(t){for(var e,n,r=this._pt;r;)n=r._next,r.p===t&&!r.op||r.op===t?le(this,r,"_pt"):r.dep||(e=1),r=n;return!e},Fn=function(t,e,n,r){r.mSet(t,e,r.m.call(r.tween,n,r.mt),r)},Un=function(t){for(var e,n,r,i,o=t._pt;o;){for(e=o._next,n=r;n&&n.pr>o.pr;)n=n._next;(o._prev=n?n._prev:i)?o._prev._next=o:r=o,(o._next=n)?n._prev=o:i=o,o=e}t._pt=r},qn=function(){function t(t,e,n,r,i,o,s,a,u){this.t=e,this.s=r,this.c=i,this.p=n,this.r=o||Pn,this.d=s||this,this.set=a||Nn,this.pr=u||0,this._next=t,t&&(t._prev=this)}return t.prototype.modifier=function(t,e,n){this.mSet=this.mSet||this.set,this.set=Fn,this.m=t,this.mt=n,this.tween=e},t}();Kt(Ht+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(t){return Ft[t]=1})),Ct.TweenMax=Ct.TweenLite=Sn,Ct.TimelineLite=Ct.TimelineMax=gn,W=new gn({sortChildren:!1,defaults:st,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),ot.stringFilter=en;var zn={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e.forEach((function(t){return He(t)}))},timeline:function(t){return new gn(t)},getTweensOf:function(t,e){return W.getTweensOf(t,e)},getProperty:function(t,e,n,r){vt(t)&&(t=Re(t)[0]);var i=Qt(t||{}).get,o=n?re:ne;return"native"===n&&(n=""),t?e?o((zt[e]&&zt[e].get||i)(t,e,n,r)):function(e,n,r){return o((zt[e]&&zt[e].get||i)(t,e,n,r))}:t},quickSetter:function(t,e,n){if((t=Re(t)).length>1){var r=t.map((function(t){return $n.quickSetter(t,e,n)})),i=r.length;return function(t){for(var e=i;e--;)r[e](t)}}t=t[0]||{};var o=zt[e],s=Qt(t),a=s.harness&&(s.harness.aliases||{})[e]||e,u=o?function(e){var r=new o;rt._pt=0,r.init(t,n?e+n:e,rt,0,[t]),r.render(1,r),rt._pt&&Mn(1,rt)}:s.set(t,a);return o?u:function(e){return u(t,a,n?e+n:e,s,1)}},isTweening:function(t){return W.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=hn(t.ease,st.ease)),ae(st,t||{})},config:function(t){return ae(ot,t||{})},registerEffect:function(t){var e=t.name,n=t.effect,r=t.plugins,i=t.defaults,o=t.extendTimeline;(r||"").split(",").forEach((function(t){return t&&!zt[t]&&!Ct[t]&&Mt(e+" effect requires "+t+" plugin.")})),Bt[e]=function(t,e,r){return n(Re(t),ie(e||{},i),r)},o&&(gn.prototype[e]=function(t,n,r){return this.add(Bt[e](t,bt(n)?n:(r=n)&&{},this),r)})},registerEase:function(t,e){on[t]=hn(e)},parseEase:function(t,e){return arguments.length?hn(t,e):on},getById:function(t){return W.getById(t)},exportRoot:function(t,e){void 0===t&&(t={});var n,r,i=new gn(t);for(i.smoothChildTiming=_t(t.smoothChildTiming),W.remove(i),i._dp=0,i._time=i._tTime=W._time,n=W._first;n;)r=n._next,!e&&!n._dur&&n instanceof Sn&&n.vars.onComplete===n._targets[0]||we(i,n,n._start-n._delay),n=r;return we(W,i,0),i},utils:{wrap:function t(e,n,r){var i=n-e;return Tt(e)?Ue(e,t(0,e.length),n):ke(r,(function(t){return(i+(t-e)%i)%i+e}))},wrapYoyo:function t(e,n,r){var i=n-e,o=2*i;return Tt(e)?Ue(e,t(0,e.length-1),n):ke(r,(function(t){return e+((t=(o+(t-e)%o)%o||0)>i?o-t:t)}))},distribute:Me,random:Fe,snap:je,normalize:function(t,e,n){return ze(t,e,0,1,n)},getUnit:De,clamp:function(t,e,n){return ke(n,(function(n){return Oe(t,e,n)}))},splitColor:Ke,toArray:Re,mapRange:ze,pipe:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return e.reduce((function(t,e){return e(t)}),t)}},unitize:function(t,e){return function(n){return t(parseFloat(n))+(e||De(n))}},interpolate:function t(e,n,r,i){var o=isNaN(e+n)?0:function(t){return(1-t)*e+t*n};if(!o){var s,a,u,c,l,h=vt(e),f={};if(!0===r&&(i=1)&&(r=null),h)e={p:e},n={p:n};else if(Tt(e)&&!Tt(n)){for(u=[],c=e.length,l=c-2,a=1;a<c;a++)u.push(t(e[a-1],e[a]));c--,o=function(t){t*=c;var e=Math.min(l,~~t);return u[e](t-e)},r=n}else i||(e=se(Tt(e)?[]:{},e));if(!u){for(s in n)wn.call(f,e,s,"get",n[s]);o=function(t){return Mn(t,f)||(h?e.p:e)}}}return ke(r,o)},shuffle:Le},install:Rt,effects:Bt,ticker:nn,updateRoot:gn.updateRoot,plugins:zt,globalTimeline:W,core:{PropTween:qn,globals:Vt,Tween:Sn,Timeline:gn,Animation:yn,getCache:Qt,_removeLinkedListItem:le,suppressOverwrites:function(t){return K=t}}};Kt("to,from,fromTo,delayedCall,set,killTweensOf",(function(t){return zn[t]=Sn[t]})),nn.add(gn.updateRoot),rt=zn.to({},{duration:0});var Bn=function(t,e){for(var n=t._pt;n&&n.p!==e&&n.op!==e&&n.fp!==e;)n=n._next;return n},Gn=function(t,e){return{name:t,rawVars:1,init:function(t,n,r){r._onInit=function(t){var r,i;if(vt(n)&&(r={},Kt(n,(function(t){return r[t]=1})),n=r),e){for(i in r={},n)r[i]=e(n[i]);n=r}!function(t,e){var n,r,i,o=t._targets;for(n in e)for(r=o.length;r--;)(i=t._ptLookup[r][n])&&(i=i.d)&&(i._pt&&(i=Bn(i,n)),i&&i.modifier&&i.modifier(e[n],t,o[r],n))}(t,n)}}}},$n=zn.registerPlugin({name:"attr",init:function(t,e,n,r,i){var o,s;for(o in e)(s=this.add(t,"setAttribute",(t.getAttribute(o)||0)+"",e[o],r,i,0,0,o))&&(s.op=o),this._props.push(o)}},{name:"endArray",init:function(t,e){for(var n=e.length;n--;)this.add(t,n,t[n]||0,e[n])}},Gn("roundProps",Ve),Gn("modifiers"),Gn("snap",je))||zn;Sn.version=gn.version=$n.version="3.6.0",et=1,wt()&&rn(),on.Power0,on.Power1,on.Power2,on.Power3;var Hn,Yn,Qn,Xn,Kn,Wn,Jn,Zn,tr=on.Power4,er=(on.Linear,on.Quad,on.Cubic,on.Quart,on.Quint,on.Strong,on.Elastic,on.Back,on.SteppedEase,on.Bounce,on.Sine,on.Expo),nr=(on.Circ,{}),rr=180/Math.PI,ir=Math.PI/180,or=Math.atan2,sr=/([A-Z])/g,ar=/(?:left|right|width|margin|padding|x)/i,ur=/[\s,\(]\S/,cr={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},lr=function(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},hr=function(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},fr=function(t,e){return e.set(e.t,e.p,t?Math.round(1e4*(e.s+e.c*t))/1e4+e.u:e.b,e)},pr=function(t,e){var n=e.s+e.c*t;e.set(e.t,e.p,~~(n+(n<0?-.5:.5))+e.u,e)},dr=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},vr=function(t,e){return e.set(e.t,e.p,1!==t?e.b:e.e,e)},mr=function(t,e,n){return t.style[e]=n},yr=function(t,e,n){return t.style.setProperty(e,n)},gr=function(t,e,n){return t._gsap[e]=n},br=function(t,e,n){return t._gsap.scaleX=t._gsap.scaleY=n},_r=function(t,e,n,r,i){var o=t._gsap;o.scaleX=o.scaleY=n,o.renderTransform(i,o)},wr=function(t,e,n,r,i){var o=t._gsap;o[e]=n,o.renderTransform(i,o)},Er="transform",Ir=Er+"Origin",Tr=function(t,e){var n=Yn.createElementNS?Yn.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):Yn.createElement(t);return n.style?n:Yn.createElement(t)},xr=function t(e,n,r){var i=getComputedStyle(e);return i[n]||i.getPropertyValue(n.replace(sr,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&t(e,Sr(n)||n,1)||""},Ar="O,Moz,ms,Ms,Webkit".split(","),Sr=function(t,e,n){var r=(e||Kn).style,i=5;if(t in r&&!n)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);i--&&!(Ar[i]+t in r););return i<0?null:(3===i?"ms":i>=0?Ar[i]:"")+t},Nr=function(){"undefined"!=typeof window&&window.document&&(Hn=window,Yn=Hn.document,Qn=Yn.documentElement,Kn=Tr("div")||{style:{}},Wn=Tr("div"),Er=Sr(Er),Ir=Er+"Origin",Kn.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Zn=!!Sr("perspective"),Xn=1)},kr=function t(e){var n,r=Tr("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,o=this.nextSibling,s=this.style.cssText;if(Qn.appendChild(r),r.appendChild(this),this.style.display="block",e)try{n=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=t}catch(t){}else this._gsapBBox&&(n=this._gsapBBox());return i&&(o?i.insertBefore(this,o):i.appendChild(this)),Qn.removeChild(r),this.style.cssText=s,n},Or=function(t,e){for(var n=e.length;n--;)if(t.hasAttribute(e[n]))return t.getAttribute(e[n])},Dr=function(t){var e;try{e=t.getBBox()}catch(n){e=kr.call(t,!0)}return e&&(e.width||e.height)||t.getBBox===kr||(e=kr.call(t,!0)),!e||e.width||e.x||e.y?e:{x:+Or(t,["x","cx","x1"])||0,y:+Or(t,["y","cy","y1"])||0,width:0,height:0}},Cr=function(t){return!(!t.getCTM||t.parentNode&&!t.ownerSVGElement||!Dr(t))},Pr=function(t,e){if(e){var n=t.style;e in nr&&e!==Ir&&(e=Er),n.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),n.removeProperty(e.replace(sr,"-$1").toLowerCase())):n.removeAttribute(e)}},Rr=function(t,e,n,r,i,o){var s=new qn(t._pt,e,n,0,1,o?vr:dr);return t._pt=s,s.b=r,s.e=i,t._props.push(n),s},Lr={deg:1,rad:1,turn:1},Mr=function t(e,n,r,i){var o,s,a,u,c=parseFloat(r)||0,l=(r+"").trim().substr((c+"").length)||"px",h=Kn.style,f=ar.test(n),p="svg"===e.tagName.toLowerCase(),d=(p?"client":"offset")+(f?"Width":"Height"),v=100,m="px"===i,y="%"===i;return i===l||!c||Lr[i]||Lr[l]?c:("px"!==l&&!m&&(c=t(e,n,r,"px")),u=e.getCTM&&Cr(e),!y&&"%"!==l||!nr[n]&&!~n.indexOf("adius")?(h[f?"width":"height"]=v+(m?l:i),s=~n.indexOf("adius")||"em"===i&&e.appendChild&&!p?e:e.parentNode,u&&(s=(e.ownerSVGElement||{}).parentNode),s&&s!==Yn&&s.appendChild||(s=Yn.body),(a=s._gsap)&&y&&a.width&&f&&a.time===nn.time?Wt(c/a.width*v):((y||"%"===l)&&(h.position=xr(e,"position")),s===e&&(h.position="static"),s.appendChild(Kn),o=Kn[d],s.removeChild(Kn),h.position="absolute",f&&y&&((a=Qt(s)).time=nn.time,a.width=s[d]),Wt(m?o*c/v:o&&c?v/o*c:0))):(o=u?e.getBBox()[f?"width":"height"]:e[d],Wt(y?c/o*v:c/100*o)))},Vr=function(t,e,n,r){var i;return Xn||Nr(),e in cr&&"transform"!==e&&~(e=cr[e]).indexOf(",")&&(e=e.split(",")[0]),nr[e]&&"transform"!==e?(i=Xr(t,r),i="transformOrigin"!==e?i[e]:Kr(xr(t,Ir))+" "+i.zOrigin+"px"):(!(i=t.style[e])||"auto"===i||r||~(i+"").indexOf("calc("))&&(i=zr[e]&&zr[e](t,e,n)||xr(t,e)||Xt(t,e)||("opacity"===e?1:0)),n&&!~(i+"").trim().indexOf(" ")?Mr(t,e,i,n)+n:i},jr=function(t,e,n,r){if(!n||"none"===n){var i=Sr(e,t,1),o=i&&xr(t,i,1);o&&o!==n?(e=i,n=o):"borderColor"===e&&(n=xr(t,"borderTopColor"))}var s,a,u,c,l,h,f,p,d,v,m,y,g=new qn(this._pt,t.style,e,0,1,Ln),b=0,_=0;if(g.b=n,g.e=r,n+="","auto"==(r+="")&&(t.style[e]=r,r=xr(t,e)||r,t.style[e]=n),en(s=[n,r]),r=s[1],u=(n=s[0]).match(St)||[],(r.match(St)||[]).length){for(;a=St.exec(r);)f=a[0],d=r.substring(b,a.index),l?l=(l+1)%5:"rgba("!==d.substr(-5)&&"hsla("!==d.substr(-5)||(l=1),f!==(h=u[_++]||"")&&(c=parseFloat(h)||0,m=h.substr((c+"").length),(y="="===f.charAt(1)?+(f.charAt(0)+"1"):0)&&(f=f.substr(2)),p=parseFloat(f),v=f.substr((p+"").length),b=St.lastIndex-v.length,v||(v=v||ot.units[e]||m,b===r.length&&(r+=v,g.e+=v)),m!==v&&(c=Mr(t,e,h,v)||0),g._pt={_next:g._pt,p:d||1===_?d:",",s:c,c:y?y*p:p-c,m:l&&l<4||"zIndex"===e?Math.round:0});g.c=b<r.length?r.substring(b,r.length):""}else g.r="display"===e&&"none"===r?vr:dr;return kt.test(r)&&(g.e=0),this._pt=g,g},Fr={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Ur=function(t){var e=t.split(" "),n=e[0],r=e[1]||"50%";return"top"!==n&&"bottom"!==n&&"left"!==r&&"right"!==r||(t=n,n=r,r=t),e[0]=Fr[n]||n,e[1]=Fr[r]||r,e.join(" ")},qr=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var n,r,i,o=e.t,s=o.style,a=e.u,u=o._gsap;if("all"===a||!0===a)s.cssText="",r=1;else for(i=(a=a.split(",")).length;--i>-1;)n=a[i],nr[n]&&(r=1,n="transformOrigin"===n?Ir:Er),Pr(o,n);r&&(Pr(o,Er),u&&(u.svg&&o.removeAttribute("transform"),Xr(o,1),u.uncache=1))}},zr={clearProps:function(t,e,n,r,i){if("isFromStart"!==i.data){var o=t._pt=new qn(t._pt,e,n,0,0,qr);return o.u=r,o.pr=-10,o.tween=i,t._props.push(n),1}}},Br=[1,0,0,1,0,0],Gr={},$r=function(t){return"matrix(1, 0, 0, 1, 0, 0)"===t||"none"===t||!t},Hr=function(t){var e=xr(t,Er);return $r(e)?Br:e.substr(7).match(At).map(Wt)},Yr=function(t,e){var n,r,i,o,s=t._gsap||Qt(t),a=t.style,u=Hr(t);return s.svg&&t.getAttribute("transform")?"1,0,0,1,0,0"===(u=[(i=t.transform.baseVal.consolidate().matrix).a,i.b,i.c,i.d,i.e,i.f]).join(",")?Br:u:(u!==Br||t.offsetParent||t===Qn||s.svg||(i=a.display,a.display="block",(n=t.parentNode)&&t.offsetParent||(o=1,r=t.nextSibling,Qn.appendChild(t)),u=Hr(t),i?a.display=i:Pr(t,"display"),o&&(r?n.insertBefore(t,r):n?n.appendChild(t):Qn.removeChild(t))),e&&u.length>6?[u[0],u[1],u[4],u[5],u[12],u[13]]:u)},Qr=function(t,e,n,r,i,o){var s,a,u,c=t._gsap,l=i||Yr(t,!0),h=c.xOrigin||0,f=c.yOrigin||0,p=c.xOffset||0,d=c.yOffset||0,v=l[0],m=l[1],y=l[2],g=l[3],b=l[4],_=l[5],w=e.split(" "),E=parseFloat(w[0])||0,I=parseFloat(w[1])||0;n?l!==Br&&(a=v*g-m*y)&&(u=E*(-m/a)+I*(v/a)-(v*_-m*b)/a,E=E*(g/a)+I*(-y/a)+(y*_-g*b)/a,I=u):(E=(s=Dr(t)).x+(~w[0].indexOf("%")?E/100*s.width:E),I=s.y+(~(w[1]||w[0]).indexOf("%")?I/100*s.height:I)),r||!1!==r&&c.smooth?(b=E-h,_=I-f,c.xOffset=p+(b*v+_*y)-b,c.yOffset=d+(b*m+_*g)-_):c.xOffset=c.yOffset=0,c.xOrigin=E,c.yOrigin=I,c.smooth=!!r,c.origin=e,c.originIsAbsolute=!!n,t.style[Ir]="0px 0px",o&&(Rr(o,c,"xOrigin",h,E),Rr(o,c,"yOrigin",f,I),Rr(o,c,"xOffset",p,c.xOffset),Rr(o,c,"yOffset",d,c.yOffset)),t.setAttribute("data-svg-origin",E+" "+I)},Xr=function(t,e){var n=t._gsap||new mn(t);if("x"in n&&!e&&!n.uncache)return n;var r,i,o,s,a,u,c,l,h,f,p,d,v,m,y,g,b,_,w,E,I,T,x,A,S,N,k,O,D,C,P,R,L=t.style,M=n.scaleX<0,V="px",j="deg",F=xr(t,Ir)||"0";return r=i=o=u=c=l=h=f=p=0,s=a=1,n.svg=!(!t.getCTM||!Cr(t)),m=Yr(t,n.svg),n.svg&&(A=!n.uncache&&t.getAttribute("data-svg-origin"),Qr(t,A||F,!!A||n.originIsAbsolute,!1!==n.smooth,m)),d=n.xOrigin||0,v=n.yOrigin||0,m!==Br&&(_=m[0],w=m[1],E=m[2],I=m[3],r=T=m[4],i=x=m[5],6===m.length?(s=Math.sqrt(_*_+w*w),a=Math.sqrt(I*I+E*E),u=_||w?or(w,_)*rr:0,(h=E||I?or(E,I)*rr+u:0)&&(a*=Math.cos(h*ir)),n.svg&&(r-=d-(d*_+v*E),i-=v-(d*w+v*I))):(R=m[6],C=m[7],k=m[8],O=m[9],D=m[10],P=m[11],r=m[12],i=m[13],o=m[14],c=(y=or(R,D))*rr,y&&(A=T*(g=Math.cos(-y))+k*(b=Math.sin(-y)),S=x*g+O*b,N=R*g+D*b,k=T*-b+k*g,O=x*-b+O*g,D=R*-b+D*g,P=C*-b+P*g,T=A,x=S,R=N),l=(y=or(-E,D))*rr,y&&(g=Math.cos(-y),P=I*(b=Math.sin(-y))+P*g,_=A=_*g-k*b,w=S=w*g-O*b,E=N=E*g-D*b),u=(y=or(w,_))*rr,y&&(A=_*(g=Math.cos(y))+w*(b=Math.sin(y)),S=T*g+x*b,w=w*g-_*b,x=x*g-T*b,_=A,T=S),c&&Math.abs(c)+Math.abs(u)>359.9&&(c=u=0,l=180-l),s=Wt(Math.sqrt(_*_+w*w+E*E)),a=Wt(Math.sqrt(x*x+R*R)),y=or(T,x),h=Math.abs(y)>2e-4?y*rr:0,p=P?1/(P<0?-P:P):0),n.svg&&(A=t.getAttribute("transform"),n.forceCSS=t.setAttribute("transform","")||!$r(xr(t,Er)),A&&t.setAttribute("transform",A))),Math.abs(h)>90&&Math.abs(h)<270&&(M?(s*=-1,h+=u<=0?180:-180,u+=u<=0?180:-180):(a*=-1,h+=h<=0?180:-180)),n.x=r-((n.xPercent=r&&(n.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-r)?-50:0)))?t.offsetWidth*n.xPercent/100:0)+V,n.y=i-((n.yPercent=i&&(n.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-i)?-50:0)))?t.offsetHeight*n.yPercent/100:0)+V,n.z=o+V,n.scaleX=Wt(s),n.scaleY=Wt(a),n.rotation=Wt(u)+j,n.rotationX=Wt(c)+j,n.rotationY=Wt(l)+j,n.skewX=h+j,n.skewY=f+j,n.transformPerspective=p+V,(n.zOrigin=parseFloat(F.split(" ")[2])||0)&&(L[Ir]=Kr(F)),n.xOffset=n.yOffset=0,n.force3D=ot.force3D,n.renderTransform=n.svg?ri:Zn?ni:Jr,n.uncache=0,n},Kr=function(t){return(t=t.split(" "))[0]+" "+t[1]},Wr=function(t,e,n){var r=De(e);return Wt(parseFloat(e)+parseFloat(Mr(t,"x",n+"px",r)))+r},Jr=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,ni(t,e)},Zr="0deg",ti="0px",ei=") ",ni=function(t,e){var n=e||this,r=n.xPercent,i=n.yPercent,o=n.x,s=n.y,a=n.z,u=n.rotation,c=n.rotationY,l=n.rotationX,h=n.skewX,f=n.skewY,p=n.scaleX,d=n.scaleY,v=n.transformPerspective,m=n.force3D,y=n.target,g=n.zOrigin,b="",_="auto"===m&&t&&1!==t||!0===m;if(g&&(l!==Zr||c!==Zr)){var w,E=parseFloat(c)*ir,I=Math.sin(E),T=Math.cos(E);E=parseFloat(l)*ir,w=Math.cos(E),o=Wr(y,o,I*w*-g),s=Wr(y,s,-Math.sin(E)*-g),a=Wr(y,a,T*w*-g+g)}v!==ti&&(b+="perspective("+v+ei),(r||i)&&(b+="translate("+r+"%, "+i+"%) "),(_||o!==ti||s!==ti||a!==ti)&&(b+=a!==ti||_?"translate3d("+o+", "+s+", "+a+") ":"translate("+o+", "+s+ei),u!==Zr&&(b+="rotate("+u+ei),c!==Zr&&(b+="rotateY("+c+ei),l!==Zr&&(b+="rotateX("+l+ei),h===Zr&&f===Zr||(b+="skew("+h+", "+f+ei),1===p&&1===d||(b+="scale("+p+", "+d+ei),y.style[Er]=b||"translate(0, 0)"},ri=function(t,e){var n,r,i,o,s,a=e||this,u=a.xPercent,c=a.yPercent,l=a.x,h=a.y,f=a.rotation,p=a.skewX,d=a.skewY,v=a.scaleX,m=a.scaleY,y=a.target,g=a.xOrigin,b=a.yOrigin,_=a.xOffset,w=a.yOffset,E=a.forceCSS,I=parseFloat(l),T=parseFloat(h);f=parseFloat(f),p=parseFloat(p),(d=parseFloat(d))&&(p+=d=parseFloat(d),f+=d),f||p?(f*=ir,p*=ir,n=Math.cos(f)*v,r=Math.sin(f)*v,i=Math.sin(f-p)*-m,o=Math.cos(f-p)*m,p&&(d*=ir,s=Math.tan(p-d),i*=s=Math.sqrt(1+s*s),o*=s,d&&(s=Math.tan(d),n*=s=Math.sqrt(1+s*s),r*=s)),n=Wt(n),r=Wt(r),i=Wt(i),o=Wt(o)):(n=v,o=m,r=i=0),(I&&!~(l+"").indexOf("px")||T&&!~(h+"").indexOf("px"))&&(I=Mr(y,"x",l,"px"),T=Mr(y,"y",h,"px")),(g||b||_||w)&&(I=Wt(I+g-(g*n+b*i)+_),T=Wt(T+b-(g*r+b*o)+w)),(u||c)&&(s=y.getBBox(),I=Wt(I+u/100*s.width),T=Wt(T+c/100*s.height)),s="matrix("+n+","+r+","+i+","+o+","+I+","+T+")",y.setAttribute("transform",s),E&&(y.style[Er]=s)},ii=function(t,e,n,r,i,o){var s,a,u=360,c=vt(i),l=parseFloat(i)*(c&&~i.indexOf("rad")?rr:1),h=o?l*o:l-r,f=r+h+"deg";return c&&("short"===(s=i.split("_")[1])&&(h%=u)!=h%180&&(h+=h<0?u:-360),"cw"===s&&h<0?h=(h+36e9)%u-~~(h/u)*u:"ccw"===s&&h>0&&(h=(h-36e9)%u-~~(h/u)*u)),t._pt=a=new qn(t._pt,e,n,r,h,hr),a.e=f,a.u="deg",t._props.push(n),a},oi=function(t,e,n){var r,i,o,s,a,u,c,l=Wn.style,h=n._gsap;for(i in l.cssText=getComputedStyle(n).cssText+";position:absolute;display:block;",l[Er]=e,Yn.body.appendChild(Wn),r=Xr(Wn,1),nr)(o=h[i])!==(s=r[i])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(i)<0&&(a=De(o)!==(c=De(s))?Mr(n,i,o,c):parseFloat(o),u=parseFloat(s),t._pt=new qn(t._pt,h,i,a,u-a,lr),t._pt.u=c||0,t._props.push(i));Yn.body.removeChild(Wn)};Kt("padding,margin,Width,Radius",(function(t,e){var n="Top",r="Right",i="Bottom",o="Left",s=(e<3?[n,r,i,o]:[n+o,n+r,i+r,i+o]).map((function(n){return e<2?t+n:"border"+n+t}));zr[e>1?"border"+t:t]=function(t,e,n,r,i){var o,a;if(arguments.length<4)return o=s.map((function(e){return Vr(t,e,n)})),5===(a=o.join(" ")).split(o[0]).length?o[0]:a;o=(r+"").split(" "),a={},s.forEach((function(t,e){return a[t]=o[e]=o[e]||o[(e-1)/2|0]})),t.init(e,a,i)}}));var si,ai,ui={name:"css",register:Nr,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,n,r,i){var o,s,a,u,c,l,h,f,p,d,v,m,y,g,b,_=this._props,w=t.style,E=n.vars.startAt;for(h in Xn||Nr(),e)if("autoRound"!==h&&(s=e[h],!zt[h]||!En(h,e,n,r,t,i)))if(c=typeof s,l=zr[h],"function"===c&&(c=typeof(s=s.call(n,r,t,i))),"string"===c&&~s.indexOf("random(")&&(s=qe(s)),l)l(this,t,h,s,n)&&(b=1);else if("--"===h.substr(0,2))o=(getComputedStyle(t).getPropertyValue(h)+"").trim(),s+="",f=De(o),(p=De(s))?f!==p&&(o=Mr(t,h,o,p)+p):f&&(s+=f),this.add(w,"setProperty",o,s,r,i,0,0,h);else if("undefined"!==c){if(E&&h in E?(o="function"==typeof E[h]?E[h].call(n,r,t,i):E[h],h in ot.units&&!De(o)&&(o+=ot.units[h]),"="===(o+"").charAt(1)&&(o=Vr(t,h))):o=Vr(t,h),u=parseFloat(o),(d="string"===c&&"="===s.charAt(1)?+(s.charAt(0)+"1"):0)&&(s=s.substr(2)),a=parseFloat(s),h in cr&&("autoAlpha"===h&&(1===u&&"hidden"===Vr(t,"visibility")&&a&&(u=0),Rr(this,w,"visibility",u?"inherit":"hidden",a?"inherit":"hidden",!a)),"scale"!==h&&"transform"!==h&&~(h=cr[h]).indexOf(",")&&(h=h.split(",")[0])),v=h in nr)if(m||((y=t._gsap).renderTransform&&!e.parseTransform||Xr(t,e.parseTransform),g=!1!==e.smoothOrigin&&y.smooth,(m=this._pt=new qn(this._pt,w,Er,0,1,y.renderTransform,y,0,-1)).dep=1),"scale"===h)this._pt=new qn(this._pt,y,"scaleY",y.scaleY,d?d*a:a-y.scaleY),_.push("scaleY",h),h+="X";else{if("transformOrigin"===h){s=Ur(s),y.svg?Qr(t,s,0,g,0,this):((p=parseFloat(s.split(" ")[2])||0)!==y.zOrigin&&Rr(this,y,"zOrigin",y.zOrigin,p),Rr(this,w,h,Kr(o),Kr(s)));continue}if("svgOrigin"===h){Qr(t,s,1,g,0,this);continue}if(h in Gr){ii(this,y,h,u,s,d);continue}if("smoothOrigin"===h){Rr(this,y,"smooth",y.smooth,s);continue}if("force3D"===h){y[h]=s;continue}if("transform"===h){oi(this,s,t);continue}}else h in w||(h=Sr(h)||h);if(v||(a||0===a)&&(u||0===u)&&!ur.test(s)&&h in w)a||(a=0),(f=(o+"").substr((u+"").length))!==(p=De(s)||(h in ot.units?ot.units[h]:f))&&(u=Mr(t,h,o,p)),this._pt=new qn(this._pt,v?y:w,h,u,d?d*a:a-u,v||"px"!==p&&"zIndex"!==h||!1===e.autoRound?lr:pr),this._pt.u=p||0,f!==p&&(this._pt.b=o,this._pt.r=fr);else if(h in w)jr.call(this,t,h,o,s);else{if(!(h in t)){Lt(h,s);continue}this.add(t,h,t[h],s,r,i)}_.push(h)}b&&Un(this)},get:Vr,aliases:cr,getSetter:function(t,e,n){var r=cr[e];return r&&r.indexOf(",")<0&&(e=r),e in nr&&e!==Ir&&(t._gsap.x||Vr(t,"x"))?n&&Jn===n?"scale"===e?br:gr:(Jn=n||{})&&("scale"===e?_r:wr):t.style&&!gt(t.style[e])?mr:~e.indexOf("-")?yr:Cn(t,e)},core:{_removeProperty:Pr,_getMatrix:Yr}};$n.utils.checkPrefix=Sr,ai=Kt("x,y,z,scale,scaleX,scaleY,xPercent,yPercent"+","+(si="rotation,rotationX,rotationY,skewX,skewY")+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(t){nr[t]=1})),Kt(si,(function(t){ot.units[t]="deg",Gr[t]=1})),cr[ai[13]]="x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+si,Kt("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(t){var e=t.split(":");cr[e[1]]=ai[e[0]]})),Kt("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(t){ot.units[t]="px"})),$n.registerPlugin(ui);var ci=$n.registerPlugin(ui)||$n,li=(ci.core.Tween,function(t,e){return(li=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)});function hi(t,e){function n(){this.constructor=t}li(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var fi=function(){return(fi=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function pi(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function di(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function vi(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function mi(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(vi(arguments[e]));return t}function yi(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function gi(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=gi(t[n],e[n]));return t}var bi=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function _i(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function wi(){try{return"[object process]"===Object.prototype.toString.call(t.g.process)}catch(t){return!1}}var Ei=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,Ii.prototype.create),o}return hi(e,t),e}(Error),Ii=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?Ti(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new Ei(i,a,r);return u},t}();function Ti(t,e){return t.replace(xi,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var xi=/\{\$([^}]+)}/g;function Ai(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Si(t,e){var n=new Ni(t,e);return n.subscribe.bind(n)}!function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,s,a=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++)r<40?r<20?(o=l^u&(c^l),s=1518500249):(o=u^c^l,s=1859775393):r<60?(o=u&c|l&(u|c),s=2400959708):(o=u^c^l,s=3395469782),i=(a<<5|a>>>27)+o+h+s+n[r]&4294967295,h=l,l=c,c=4294967295&(u<<30|u>>>2),u=a,a=i;this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t}}();var Ni=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=ki),void 0===r.error&&(r.error=ki),void 0===r.complete&&(r.complete=ki);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function ki(){}var Oi,Di=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),Ci="[DEFAULT]",Pi=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=Ci);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new bi;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=fi({identifier:Ci,optional:!1},t),n=e.identifier,r=e.optional,i=this.normalizeInstanceIdentifier(n);try{var o=this.getOrInitializeService(i);if(!o){if(r)return null;throw Error("Service "+this.name+" is not available")}return o}catch(t){if(r)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(Ci)}catch(t){}try{for(var r=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=vi(i.value,2),s=o[0],a=o[1],u=this.normalizeInstanceIdentifier(s);try{var c=this.getOrInitializeService(u);a.resolve(c)}catch(t){}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=Ci),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return pi(this,void 0,void 0,(function(){var t;return di(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(mi(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=Ci),this.instances.has(t)},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===Ci?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:Ci:t},t}(),Ri=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new Pi(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();function Li(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var Mi,Vi=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(Mi||(Mi={}));var ji,Fi={debug:Mi.DEBUG,verbose:Mi.VERBOSE,info:Mi.INFO,warn:Mi.WARN,error:Mi.ERROR,silent:Mi.SILENT},Ui=Mi.INFO,qi=((Oi={})[Mi.DEBUG]="log",Oi[Mi.VERBOSE]="log",Oi[Mi.INFO]="info",Oi[Mi.WARN]="warn",Oi[Mi.ERROR]="error",Oi),zi=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=qi[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,Li(["["+i+"]  "+t.name+":"],n))}},Bi=function(){function t(t){this.name=t,this._logLevel=Ui,this._logHandler=zi,this._userLogHandler=null,Vi.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in Mi))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?Fi[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Li([this,Mi.DEBUG],t)),this._logHandler.apply(this,Li([this,Mi.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Li([this,Mi.VERBOSE],t)),this._logHandler.apply(this,Li([this,Mi.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Li([this,Mi.INFO],t)),this._logHandler.apply(this,Li([this,Mi.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Li([this,Mi.WARN],t)),this._logHandler.apply(this,Li([this,Mi.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Li([this,Mi.ERROR],t)),this._logHandler.apply(this,Li([this,Mi.ERROR],t))},t}();function Gi(t){Vi.forEach((function(e){e.setLogLevel(t)}))}var $i,Hi=((ji={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",ji["bad-app-name"]="Illegal App name: '{$appName}",ji["duplicate-app"]="Firebase App named '{$appName}' already exists",ji["app-deleted"]="Firebase App named '{$appName}' already deleted",ji["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",ji["invalid-log-argument"]="First argument to `onLog` must be null or a function.",ji),Yi=new Ii("app","Firebase",Hi),Qi="@firebase/app",Xi="[DEFAULT]",Ki=(($i={})[Qi]="fire-core",$i["@firebase/analytics"]="fire-analytics",$i["@firebase/auth"]="fire-auth",$i["@firebase/database"]="fire-rtdb",$i["@firebase/functions"]="fire-fn",$i["@firebase/installations"]="fire-iid",$i["@firebase/messaging"]="fire-fcm",$i["@firebase/performance"]="fire-perf",$i["@firebase/remote-config"]="fire-rc",$i["@firebase/storage"]="fire-gcs",$i["@firebase/firestore"]="fire-fst",$i["fire-js"]="fire-js",$i["firebase-wrapper"]="fire-js-all",$i),Wi=new Bi("@firebase/app"),Ji=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=gi(void 0,t),this.container=new Ri(e.name),this._addComponent(new Di("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e=Xi),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=Xi),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){Wi.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Yi.create("app-deleted",{appName:this.name_})},t}();Ji.prototype.name&&Ji.prototype.options||Ji.prototype.delete||console.log("dc");var Zi=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=Xi);var s=o.name;if("string"!=typeof s||!s)throw Yi.create("bad-app-name",{appName:String(s)});if(Ai(e,s))throw Yi.create("duplicate-app",{appName:s});var a=new t(n,o,r);return e[s]=a,a},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=Ki[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&a&&u.push("and"),a&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void Wi.warn(u.join(" "))}o(new Di(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:Gi,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw Yi.create("invalid-log-argument");!function(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=Fi[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:Mi[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=Vi;r<i.length;r++)n(i[r])}(t,e)},apps:null,SDK_VERSION:"8.2.9",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!Ai(e,t=t||Xi))throw Yi.create("no-app",{appName:t});return e[t]}function o(o){var s=o.name;if(n.has(s))return Wi.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var a=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[s])throw Yi.create("invalid-app-argument",{appName:s});return t[s]()};void 0!==o.serviceProps&&gi(a,o.serviceProps),r[s]=a,t.prototype[s]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,s).apply(this,o.multipleInstances?t:[])}}for(var u=0,c=Object.keys(e);u<c.length;u++){var l=c[u];e[l]._addComponent(o)}return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(Ji);return e.INTERNAL=fi(fi({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){gi(e,t)},createSubscribe:Si,ErrorFactory:Ii,deepExtend:gi}),e}(),to=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if("object"==typeof self&&self.self===self&&void 0!==self.firebase){Wi.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var eo=self.firebase.SDK_VERSION;eo&&eo.indexOf("LITE")>=0&&Wi.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var no=Zi.initializeApp;Zi.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return wi()&&Wi.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),no.apply(void 0,t)};var ro=Zi;!function(t,e){t.INTERNAL.registerComponent(new Di("platform-logger",(function(t){return new to(t)}),"PRIVATE")),t.registerVersion(Qi,"0.6.15",void 0),t.registerVersion("fire-js","")}(ro);const io=ro;io.registerVersion("firebase","8.2.9","app");var oo=function(t,e){return(oo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function so(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var ao,uo="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t.g?t.g:"undefined"!=typeof self?self:{},co=co||{},lo=uo||self;function ho(){}function fo(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function po(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var vo="closure_uid_"+(1e9*Math.random()>>>0),mo=0;function yo(t,e,n){return t.call.apply(t.bind,arguments)}function go(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function bo(t,e,n){return(bo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?yo:go).apply(null,arguments)}function _o(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function wo(){return Date.now()}function Eo(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Io(){this.j=this.j,this.i=this.i}Io.prototype.j=!1,Io.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,vo)&&t[vo]||(t[vo]=++mo)}(this)},Io.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var To=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},xo=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Ao(t){return Array.prototype.concat.apply([],arguments)}function So(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function No(t){return/^[\s\xa0]*$/.test(t)}var ko,Oo=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Do(t,e){return-1!=t.indexOf(e)}function Co(t,e){return t<e?-1:t>e?1:0}t:{var Po=lo.navigator;if(Po){var Ro=Po.userAgent;if(Ro){ko=Ro;break t}}ko=""}function Lo(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Mo(t){var e={};for(var n in t)e[n]=t[n];return e}var Vo="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function jo(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Vo.length;o++)n=Vo[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Fo(t){return Fo[" "](t),t}Fo[" "]=ho;var Uo,qo,zo=Do(ko,"Opera"),Bo=Do(ko,"Trident")||Do(ko,"MSIE"),Go=Do(ko,"Edge"),$o=Go||Bo,Ho=Do(ko,"Gecko")&&!(Do(ko.toLowerCase(),"webkit")&&!Do(ko,"Edge"))&&!(Do(ko,"Trident")||Do(ko,"MSIE"))&&!Do(ko,"Edge"),Yo=Do(ko.toLowerCase(),"webkit")&&!Do(ko,"Edge");function Qo(){var t=lo.document;return t?t.documentMode:void 0}t:{var Xo="",Ko=(qo=ko,Ho?/rv:([^\);]+)(\)|;)/.exec(qo):Go?/Edge\/([\d\.]+)/.exec(qo):Bo?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(qo):Yo?/WebKit\/(\S+)/.exec(qo):zo?/(?:Version)[ \/]?(\S+)/.exec(qo):void 0);if(Ko&&(Xo=Ko?Ko[1]:""),Bo){var Wo=Qo();if(null!=Wo&&Wo>parseFloat(Xo)){Uo=String(Wo);break t}}Uo=Xo}var Jo,Zo={};function ts(t){return function(t,e){var n=Zo;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=Oo(String(Uo)).split("."),r=Oo(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=Co(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||Co(0==s[2].length,0==a[2].length)||Co(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}lo.document&&Bo?Jo=Qo()||parseInt(Uo,10)||void 0:Jo=void 0;var es=Jo,ns=!Bo||9<=Number(es),rs=Bo&&!ts("9"),is=function(){if(!lo.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{lo.addEventListener("test",ho,e),lo.removeEventListener("test",ho,e)}catch(t){}return t}();function os(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function ss(t,e){if(os.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Ho){t:{try{Fo(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:as[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}os.prototype.b=function(){this.defaultPrevented=!0},Eo(ss,os);var as={2:"touch",3:"pen",4:"mouse"};ss.prototype.b=function(){ss.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,rs)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var us="closure_listenable_"+(1e6*Math.random()|0),cs=0;function ls(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++cs,this.Y=this.Z=!1}function hs(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function fs(t){this.src=t,this.a={},this.b=0}function ps(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=To(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(hs(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ds(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}fs.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=ds(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new ls(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var vs="closure_lm_"+(1e6*Math.random()|0),ms={};function ys(t,e,n,r,i){if(r&&r.once)return bs(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)ys(t,e[o],n,r,i);return null}return n=Ss(n),t&&t[us]?t.va(e,n,po(r)?!!r.capture:!!r,i):gs(t,e,n,!1,r,i)}function gs(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=po(i)?!!i.capture:!!i;if(s&&!ns)return null;var a=xs(t);if(a||(t[vs]=a=new fs(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Ts,e=ns?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)is||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Es(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function bs(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)bs(t,e[o],n,r,i);return null}return n=Ss(n),t&&t[us]?t.wa(e,n,po(r)?!!r.capture:!!r,i):gs(t,e,n,!0,r,i)}function _s(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)_s(t,e[o],n,r,i);else r=po(r)?!!r.capture:!!r,n=Ss(n),t&&t[us]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=ds(o=t.a[e],n,r,i))&&(hs(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=xs(t))&&(e=t.a[e.toString()],t=-1,e&&(t=ds(e,n,r,i)),(n=-1<t?e[t]:null)&&ws(n))}function ws(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[us])ps(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Es(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=xs(e))?(ps(n,t),0==n.b&&(n.src=null,e[vs]=null)):hs(t)}}}function Es(t){return t in ms?ms[t]:ms[t]="on"+t}function Is(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&ws(t),n.call(r,e)}function Ts(t,e){if(t.Y)return!0;if(!ns){if(!e)t:{e=["window","event"];for(var n=lo,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Is(t,e=new ss(e,this))}return Is(t,new ss(e,this))}function xs(t){return(t=t[vs])instanceof fs?t:null}var As="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ss(t){return"function"==typeof t?t:(t[As]||(t[As]=function(e){return t.handleEvent(e)}),t[As])}function Ns(){Io.call(this),this.c=new fs(this),this.J=this,this.C=null}function ks(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new os(e,t);else if(e instanceof os)e.target=e.target||t;else{var i=e;jo(e=new os(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=Os(s,r,!0,e)&&i}if(i=Os(s=e.a=t,r,!0,e)&&i,i=Os(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Os(s=e.a=n[o],r,!1,e)&&i}function Os(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&ps(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Eo(Ns,Io),Ns.prototype[us]=!0,(ao=Ns.prototype).addEventListener=function(t,e,n,r){ys(this,t,e,n,r)},ao.removeEventListener=function(t,e,n,r){_s(this,t,e,n,r)},ao.G=function(){if(Ns.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)hs(n[r]);delete e.a[t],e.b--}}this.C=null},ao.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},ao.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Ds=lo.JSON.stringify;function Cs(){this.b=this.a=null}var Ps,Rs=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())((function(){return new Ms}),(function(t){t.reset()}));function Ls(){var t=Us,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Ms(){this.next=this.b=this.a=null}function Vs(t){lo.setTimeout((function(){throw t}),0)}function js(t,e){Ps||function(){var t=lo.Promise.resolve(void 0);Ps=function(){t.then(qs)}}(),Fs||(Ps(),Fs=!0),Us.add(t,e)}Cs.prototype.add=function(t,e){var n=Rs.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Ms.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Ms.prototype.reset=function(){this.next=this.b=this.a=null};var Fs=!1,Us=new Cs;function qs(){for(var t;t=Ls();){try{t.a.call(t.b)}catch(t){Vs(t)}var e=Rs;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Fs=!1}function zs(t,e){Ns.call(this),this.b=t||1,this.a=e||lo,this.f=bo(this.Za,this),this.g=wo()}function Bs(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Gs(t,e,n){if("function"==typeof t)n&&(t=bo(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=bo(t.handleEvent,t)}return 2147483647<Number(e)?-1:lo.setTimeout(t,e||0)}function $s(t){t.a=Gs((function(){t.a=null,t.c&&(t.c=!1,$s(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Eo(zs,Ns),(ao=zs.prototype).aa=!1,ao.M=null,ao.Za=function(){if(this.aa){var t=wo()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),ks(this,"tick"),this.aa&&(Bs(this),this.start()))}},ao.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=wo())},ao.G=function(){zs.X.G.call(this),Bs(this),delete this.a};var Hs=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}oo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:$s(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(lo.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Io);function Ys(t){Io.call(this),this.b=t,this.a={}}Eo(Ys,Io);var Qs=[];function Xs(t,e,n,r){Array.isArray(n)||(n&&(Qs[0]=n.toString()),n=Qs);for(var i=0;i<n.length;i++){var o=ys(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Ks(t){Lo(t.a,(function(t,e){this.a.hasOwnProperty(e)&&ws(t)}),t),t.a={}}function Ws(){this.a=!0}function Js(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Ds(n)}catch(t){return e}}(t,n)+(r?" "+r:"")}))}Ys.prototype.G=function(){Ys.X.G.call(this),Ks(this)},Ys.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ws.prototype.info=function(){};var Zs={},ta=null;function ea(){return ta=ta||new Ns}function na(t){os.call(this,Zs.Fa,t)}function ra(t){var e=ea();ks(e,new na(e,t))}function ia(t,e){os.call(this,Zs.STAT_EVENT,t),this.stat=e}function oa(t){var e=ea();ks(e,new ia(e,t))}function sa(t){os.call(this,Zs.Ga,t)}function aa(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return lo.setTimeout((function(){t()}),e)}Zs.Fa="serverreachability",Eo(na,os),Zs.STAT_EVENT="statevent",Eo(ia,os),Zs.Ga="timingevent",Eo(sa,os);var ua={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},ca={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function la(){}function ha(t){var e;return(e=t.a)||(e=t.a={}),e}function fa(){}la.prototype.a=null;var pa,da={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function va(){os.call(this,"d")}function ma(){os.call(this,"c")}function ya(){}function ga(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Ys(this),this.P=ba,t=$o?125:void 0,this.R=new zs(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Eo(va,os),Eo(ma,os),Eo(ya,la),pa=new ya;var ba=45e3,_a={},wa={};function Ea(t,e,n){t.H=1,t.i=Ga(ja(e)),t.j=n,t.I=!0,Ia(t,null)}function Ia(t,e){t.u=wo(),Aa(t),t.l=ja(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),ru(n.b,"t",r),t.D=0,t.a=Wu(t.g,t.g.C?e:null),0<t.O&&(t.F=new Hs(bo(t.Ca,t,t.a),t.O)),Xs(t.J,t.a,"readystatechange",t.Xa),e=t.B?Mo(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),ra(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function Ta(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=xa(t,n);if(i==wa){4==e&&(t.h=4,oa(14),r=!1),Js(t.c,t.f,null,"[Incomplete Response]");break}if(i==_a){t.h=4,oa(15),Js(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Js(t.c,t.f,i,null),Da(t,i)}4==e&&0==n.length&&(t.h=1,oa(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Bu(e),e.F=!0,oa(11))):(Js(t.c,t.f,n,"[Invalid Chunked Response]"),Oa(t),ka(t))}function xa(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?wa:(n=Number(e.substring(n,r)),isNaN(n)?_a:(r+=1)+n>e.length?wa:(e=e.substr(r,n),t.D=r+n,e))}function Aa(t){t.T=wo()+t.P,Sa(t,t.P)}function Sa(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=aa(bo(t.Va,t),e)}function Na(t){t.o&&(lo.clearTimeout(t.o),t.o=null)}function ka(t){0==t.g.v||t.A||Hu(t.g,t)}function Oa(t){Na(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Bs(t.R),Ks(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Da(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||lu(n.b,t)))if(n.I=t.N,!t.C&&lu(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(t){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;$u(n),Ru(n)}zu(n),oa(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=aa(bo(n.Sa,n),6e3));if(1>=cu(n.b)&&n.ea){try{n.ea()}catch(t){}n.ea=void 0}}else Qu(n,11)}else if((t.C||n.a==t)&&$u(n),!No(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(Do(l,"spdy")||Do(l,"quic")||Do(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(hu(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Ba(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=wo()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var p=t;if((u=n).la=Ku(u,u.C?u.ga:null,u.fa),p.C){fu(u.b,p);var d=p,v=u.D;v&&d.setTimeout(v),d.o&&(Na(d),Aa(d)),u.a=p}else qu(u);0<n.g.length&&Vu(n)}else"stop"!=i[0]&&"close"!=i[0]||Qu(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Qu(n,7):Pu(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);ra(4)}catch(t){}}function Ca(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(fo(t)||"string"==typeof t)xo(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(fo(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(fo(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Pa(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Pa)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Ra(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];La(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)La(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function La(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(ao=ga.prototype).setTimeout=function(t){this.P=t},ao.Xa=function(t){t=t.target;var e=this.F;e&&3==ku(t)?e.f():this.Ca(t)},ao.Ca=function(t){try{if(t==this.a)t:{var e=ku(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!$o&&!this.a.$())){this.A||4!=e||7==n||ra(8==n||0>=r?3:2),Na(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!No(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,oa(12),Oa(this),ka(this);break t}Js(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Da(this,u)}this.I?(Ta(this,e,o),$o&&this.b&&3==e&&(Xs(this.J,this.R,"tick",this.Wa),this.R.start())):(Js(this.c,this.f,o,null),Da(this,o)),4==e&&Oa(this),this.b&&!this.A&&(4==e?Hu(this.g,this):(this.b=!1,Aa(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,oa(12)):(this.h=0,oa(13)),Oa(this),ka(this)}}}catch(t){}},ao.Wa=function(){if(this.a){var t=ku(this.a),e=this.a.$();this.D<e.length&&(Na(this),Ta(this,t,e),this.b&&4!=t&&Aa(this))}},ao.cancel=function(){this.A=!0,Oa(this)},ao.Va=function(){this.o=null;var t=wo();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(ra(3),oa(17)),Oa(this),this.h=2,ka(this)):Sa(this,this.T-t)},(ao=Pa.prototype).K=function(){Ra(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},ao.L=function(){return Ra(this),this.a.concat()},ao.get=function(t,e){return La(this.b,t)?this.b[t]:e},ao.set=function(t,e){La(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},ao.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Ma=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Va(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Va){this.a=void 0!==e?e:t.a,Fa(this,t.f),this.j=t.j,Ua(this,t.c),qa(this,t.h),this.g=t.g,e=t.b;var n=new Za;n.c=e.c,e.a&&(n.a=new Pa(e.a),n.b=e.b),za(this,n),this.i=t.i}else t&&(n=String(t).match(Ma))?(this.a=!!e,Fa(this,n[1]||"",!0),this.j=$a(n[2]||""),Ua(this,n[3]||"",!0),qa(this,n[4]),this.g=$a(n[5]||"",!0),za(this,n[6]||"",!0),this.i=$a(n[7]||"")):(this.a=!!e,this.b=new Za(null,this.a))}function ja(t){return new Va(t)}function Fa(t,e,n){t.f=n?$a(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Ua(t,e,n){t.c=n?$a(e,!0):e}function qa(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function za(t,e,n){e instanceof Za?(t.b=e,function(t,e){e&&!t.f&&(tu(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(eu(this,e),ru(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Ha(e,Wa)),t.b=new Za(e,t.a))}function Ba(t,e,n){t.b.set(e,n)}function Ga(t){return Ba(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^wo()).toString(36)),t}function $a(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ha(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Ya),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ya(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Va.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Ha(e,Qa,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Ha(e,Qa,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ha(n,"/"==n.charAt(0)?Ka:Xa,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Ha(n,Ja)),t.join("")};var Qa=/[#\/\?@]/g,Xa=/[#\?:]/g,Ka=/[#\?]/g,Wa=/[#\?@]/g,Ja=/#/g;function Za(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function tu(t){t.a||(t.a=new Pa,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function eu(t,e){tu(t),e=iu(t,e),La(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,La((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ra(t)))}function nu(t,e){return tu(t),e=iu(t,e),La(t.a.b,e)}function ru(t,e,n){eu(t,e),0<n.length&&(t.c=null,t.a.set(iu(t,e),So(n)),t.b+=n.length)}function iu(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(ao=Za.prototype).add=function(t,e){tu(this),this.c=null,t=iu(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},ao.forEach=function(t,e){tu(this),this.a.forEach((function(n,r){xo(n,(function(n){t.call(e,n,r,this)}),this)}),this)},ao.L=function(){tu(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},ao.K=function(t){tu(this);var e=[];if("string"==typeof t)nu(this,t)&&(e=Ao(e,this.a.get(iu(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Ao(e,t[n])}return e},ao.set=function(t,e){return tu(this),this.c=null,nu(this,t=iu(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},ao.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},ao.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var ou=function(t,e){this.b=t,this.a=e};function su(t){this.g=t||au,t=lo.PerformanceNavigationTiming?0<(t=lo.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(lo.ia&&lo.ia.ya&&lo.ia.ya()&&lo.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var au=10;function uu(t){return!!t.b||!!t.a&&t.a.size>=t.f}function cu(t){return t.b?1:t.a?t.a.size:0}function lu(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function hu(t,e){t.a?t.a.add(e):t.b=e}function fu(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function pu(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=so(t.a.values()),o=i.next();!o.done;o=i.next()){var s=o.value;r=r.concat(s.s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return So(t.c)}function du(){}function vu(){this.a=new du}function mu(t,e,n){var r=n||"";try{Ca(t,(function(t,n){var i=t;po(t)&&(i=Ds(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}function yu(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}su.prototype.cancel=function(){var t,e;if(this.c=pu(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=so(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},du.prototype.stringify=function(t){return lo.JSON.stringify(t,void 0)},du.prototype.parse=function(t){return lo.JSON.parse(t,void 0)};var gu=lo.JSON.parse;function bu(t){Ns.call(this),this.headers=new Pa,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=_u,this.D=this.F=!1}Eo(bu,Ns);var _u="",wu=/^https?$/i,Eu=["POST","PUT"];function Iu(t){return"content-type"==t.toLowerCase()}function Tu(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,xu(t),Su(t)}function xu(t){t.u||(t.u=!0,ks(t,"complete"),ks(t,"error"))}function Au(t){if(t.b&&void 0!==co&&(!t.s[1]||4!=ku(t)||2!=t.W()))if(t.l&&4==ku(t))Gs(t.za,0,t);else if(ks(t,"readystatechange"),4==ku(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Ma)[1]||null;if(!o&&lo.self&&lo.self.location){var s=lo.self.location.protocol;o=s.substr(0,s.length-1)}i=!wu.test(o?o.toLowerCase():"")}e=i}if(e)ks(t,"complete"),ks(t,"success");else{t.h=6;try{var a=2<ku(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",xu(t)}}finally{Su(t)}}}function Su(t,e){if(t.a){Nu(t);var n=t.a,r=t.s[0]?ho:null;t.a=null,t.s=null,e||ks(t,"ready");try{n.onreadystatechange=r}catch(t){}}}function Nu(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(lo.clearTimeout(t.m),t.m=null)}function ku(t){return t.a?t.a.readyState:0}function Ou(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Lo(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ba(t,e,n))}function Du(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Cu(t){this.pa=0,this.g=[],this.c=new Ws,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Du("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Du("baseRetryDelayMs",5e3,t),this.Ra=Du("retryDelaySeedMs",1e4,t),this.Ma=Du("forwardChannelMaxRetries",2,t),this.ma=Du("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new su(t&&t.concurrentRequestLimit),this.ka=new vu,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Pu(t){if(Lu(t),3==t.v){var e=t.R++,n=ja(t.B);Ba(n,"SID",t.J),Ba(n,"RID",e),Ba(n,"TYPE","terminate"),Fu(t,n),(e=new ga(t,t.c,e,void 0)).H=2,e.i=Ga(ja(n)),n=!1,lo.navigator&&lo.navigator.sendBeacon&&(n=lo.navigator.sendBeacon(e.i.toString(),"")),!n&&lo.Image&&((new Image).src=e.i,n=!0),n||(e.a=Wu(e.g,null),e.a.ba(e.i)),e.u=wo(),Aa(e)}Xu(t)}function Ru(t){t.a&&(Bu(t),t.a.cancel(),t.a=null)}function Lu(t){Ru(t),t.j&&(lo.clearTimeout(t.j),t.j=null),$u(t),t.b.cancel(),t.h&&("number"==typeof t.h&&lo.clearTimeout(t.h),t.h=null)}function Mu(t,e){t.g.push(new ou(t.Oa++,e)),3==t.v&&Vu(t)}function Vu(t){uu(t.b)||t.h||(t.h=!0,js(t.Ba,t),t.u=0)}function ju(t,e){var n;n=e?e.f:t.R++;var r=ja(t.B);Ba(r,"SID",t.J),Ba(r,"RID",n),Ba(r,"AID",t.P),Fu(t,r),t.i&&t.l&&Ou(r,t.i,t.l),n=new ga(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Uu(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),hu(t.b,n),Ea(n,r,e)}function Fu(t,e){t.f&&Ca({},(function(t,n){Ba(e,n,t)}))}function Uu(t,e,n){n=Math.min(t.g.length,n);var r=t.f?bo(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?(o=i[0].b,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{mu(l,s,"req"+c+"_")}catch(t){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function qu(t){t.a||t.j||(t.T=1,js(t.Aa,t),t.o=0)}function zu(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=aa(bo(t.Aa,t),Yu(t,t.o)),t.o++,0))}function Bu(t){null!=t.s&&(lo.clearTimeout(t.s),t.s=null)}function Gu(t){t.a=new ga(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=ja(t.la);Ba(e,"RID","rpc"),Ba(e,"SID",t.J),Ba(e,"CI",t.H?"0":"1"),Ba(e,"AID",t.P),Fu(t,e),Ba(e,"TYPE","xmlhttp"),t.i&&t.l&&Ou(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Ga(ja(e)),n.j=null,n.I=!0,Ia(n,t)}function $u(t){null!=t.m&&(lo.clearTimeout(t.m),t.m=null)}function Hu(t,e){var n=null;if(t.a==e){$u(t),Bu(t),t.a=null;var r=2}else{if(!lu(t.b,e))return;n=e.s,fu(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=wo()-e.u;var i=t.u;ks(r=ea(),new sa(r,n,e,i)),Vu(t)}else qu(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(cu(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=aa(bo(t.Ba,t,e),Yu(t,t.u)),t.u++,0)))}(t,e)||2==r&&zu(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Qu(t,5);break;case 4:Qu(t,10);break;case 3:Qu(t,6);break;default:Qu(t,2)}}function Yu(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Qu(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=bo(t.Ya,t);n||(n=new Va("//www.google.com/images/cleardot.gif"),lo.location&&"http"==lo.location.protocol||Fa(n,"https"),Ga(n)),function(t,e){var n=new Ws;if(lo.Image){var r=new Image;r.onload=_o(yu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=_o(yu,n,r,"TestLoadImage: error",!1,e),r.onabort=_o(yu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=_o(yu,n,r,"TestLoadImage: timeout",!1,e),lo.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else oa(2);t.v=0,t.f&&t.f.ra(e),Xu(t),Lu(t)}function Xu(t){t.v=0,t.I=-1,t.f&&(0==pu(t.b).length&&0==t.g.length||(t.b.c.length=0,So(t.g),t.g.length=0),t.f.qa())}function Ku(t,e,n){var r=function(t){return t instanceof Va?ja(t):new Va(t,void 0)}(n);if(""!=r.c)e&&Ua(r,e+"."+r.c),qa(r,r.h);else{var i=lo.location;r=function(t,e,n,r){var i=new Va(null,void 0);return t&&Fa(i,t),e&&Ua(i,e),n&&qa(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Lo(t.V,(function(t,e){Ba(r,e,t)})),e=t.A,n=t.na,e&&n&&Ba(r,e,n),Ba(r,"VER",t.ha),Fu(t,r),r}function Wu(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new bu(t.Na)).F=t.C,e}function Ju(){}function Zu(){if(Bo&&!(10<=Number(es)))throw Error("Environmental error: no available transport.")}function tc(t,e){Ns.call(this),this.a=new Cu(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!No(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!No(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new rc(this)}function ec(t){va.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function nc(){ma.call(this),this.status=1}function rc(t){this.a=t}(ao=bu.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?ha(this.H):ha(pa),this.a.onreadystatechange=bo(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(t){return void Tu(this,t)}t=n||"";var i=new Pa(this.headers);r&&Ca(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Iu,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=lo.FormData&&t instanceof lo.FormData,!(0<=To(Eu,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Nu(this),0<this.o&&((this.D=function(t){return Bo&&ts(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=bo(this.xa,this)):this.m=Gs(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){Tu(this,t)}},ao.xa=function(){void 0!==co&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,ks(this,"timeout"),this.abort(8))},ao.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,ks(this,"complete"),ks(this,"abort"),Su(this))},ao.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Su(this,!0)),bu.X.G.call(this)},ao.za=function(){this.j||(this.A||this.l||this.g?Au(this):this.Ua())},ao.Ua=function(){Au(this)},ao.W=function(){try{return 2<ku(this)?this.a.status:-1}catch(t){return-1}},ao.$=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},ao.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),gu(e)}},ao.ua=function(){return this.h},ao.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(ao=Cu.prototype).ha=8,ao.v=1,ao.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new ga(this,this.c,t,void 0),r=this.l;if(this.O&&(r?jo(r=Mo(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Uu(this,n,e),Ba(i=ja(this.B),"RID",t),Ba(i,"CVER",22),this.A&&Ba(i,"X-HTTP-Session-Id",this.A),Fu(this,i),this.i&&r&&Ou(i,this.i,r),hu(this.b,n),this.Ia&&Ba(i,"TYPE","init"),this.da?(Ba(i,"$req",e),Ba(i,"SID","null"),n.U=!0,Ea(n,i,null)):Ea(n,i,e),this.v=2}}else 3==this.v&&(t?ju(this,t):0==this.g.length||uu(this.b)||ju(this))},ao.Aa=function(){if(this.j=null,Gu(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=aa(bo(this.Ta,this),t)}},ao.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,oa(10),Ru(this),Gu(this))},ao.Sa=function(){null!=this.m&&(this.m=null,Ru(this),zu(this),oa(19))},ao.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),oa(2)):(this.c.info("Failed to ping google.com"),oa(1))},(ao=Ju.prototype).ta=function(){},ao.sa=function(){},ao.ra=function(){},ao.qa=function(){},ao.Ja=function(){},Zu.prototype.a=function(t,e){return new tc(t,e)},Eo(tc,Ns),tc.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;oa(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Ku(t,null,t.fa),Vu(t)},tc.prototype.close=function(){Pu(this.a)},tc.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Mu(this.a,e)}else this.l?((e={}).__data__=Ds(t),Mu(this.a,e)):Mu(this.a,t)},tc.prototype.G=function(){this.a.f=null,delete this.f,Pu(this.a),delete this.a,tc.X.G.call(this)},Eo(ec,va),Eo(nc,ma),Eo(rc,Ju),rc.prototype.ta=function(){ks(this.a,"a")},rc.prototype.sa=function(t){ks(this.a,new ec(t))},rc.prototype.ra=function(t){ks(this.a,new nc(t))},rc.prototype.qa=function(){ks(this.a,"b")},Zu.prototype.createWebChannel=Zu.prototype.a,tc.prototype.send=tc.prototype.h,tc.prototype.open=tc.prototype.g,tc.prototype.close=tc.prototype.close,ua.NO_ERROR=0,ua.TIMEOUT=8,ua.HTTP_ERROR=6,ca.COMPLETE="complete",fa.EventType=da,da.OPEN="a",da.CLOSE="b",da.ERROR="c",da.MESSAGE="d",Ns.prototype.listen=Ns.prototype.va,bu.prototype.listenOnce=bu.prototype.wa,bu.prototype.getLastError=bu.prototype.Qa,bu.prototype.getLastErrorCode=bu.prototype.ua,bu.prototype.getStatus=bu.prototype.W,bu.prototype.getResponseJson=bu.prototype.Pa,bu.prototype.getResponseText=bu.prototype.$,bu.prototype.send=bu.prototype.ba;var ic=ua,oc=ca,sc=Zs,ac=10,uc=11,cc=fa,lc=bu,hc=function(t,e,n,r,i,o){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=o},fc=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),pc=new Bi("@firebase/firestore");function dc(){return pc.logLevel}function vc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(pc.logLevel<=Mi.DEBUG){var r=e.map(gc);pc.debug.apply(pc,yi(["Firestore (8.2.9): "+t],r))}}function mc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(pc.logLevel<=Mi.ERROR){var r=e.map(gc);pc.error.apply(pc,yi(["Firestore (8.2.9): "+t],r))}}function yc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(pc.logLevel<=Mi.WARN){var r=e.map(gc);pc.warn.apply(pc,yi(["Firestore (8.2.9): "+t],r))}}function gc(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}function bc(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.9) INTERNAL ASSERTION FAILED: "+t;throw mc(e),new Error(e)}function _c(t,e){t||bc()}function wc(t,e){return t}function Ec(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Ic=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Ec(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Tc(t,e){return t<e?-1:t>e?1:0}function xc(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Ac(t){return t+"\0"}var Sc=function(){function t(t){this.h=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.h,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.h)},t.prototype.l=function(){return 2*this.h.length},t.prototype._=function(t){return Tc(this.h,t.h)},t.prototype.isEqual=function(t){return this.h===t.h},t}();Sc.T=new Sc("");var Nc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},kc=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return hi(e,t),e}(Error),Oc=function(){function t(t){this.I=t}return t.fromBase64String=function(e){try{return new t(Sc.fromBase64String(e))}catch(e){throw new kc(Nc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Sc.fromUint8Array(e))},t.prototype.toBase64=function(){return this.I.toBase64()},t.prototype.toUint8Array=function(){return this.I.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.I.isEqual(t.I)},t}(),Dc=function(){function t(t){this.uid=t}return t.prototype.m=function(){return null!=this.uid},t.prototype.A=function(){return this.m()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Dc.UNAUTHENTICATED=new Dc(null),Dc.R=new Dc("google-credentials-uid"),Dc.P=new Dc("first-party-uid");var Cc=function(t,e){this.user=e,this.type="OAuth",this.g={},this.g.Authorization="Bearer "+t},Pc=function(){function t(){this.V=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.p=function(){},t.prototype.v=function(t){this.V=t,t(Dc.UNAUTHENTICATED)},t.prototype.S=function(){this.V=null},t}(),Rc=function(){function t(t){var e=this;this.D=null,this.currentUser=Dc.UNAUTHENTICATED,this.C=!1,this.N=0,this.V=null,this.forceRefresh=!1,this.D=function(){e.N++,e.currentUser=e.$(),e.C=!0,e.V&&e.V(e.currentUser)},this.N=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.D):(this.D(null),t.get().then((function(t){e.auth=t,e.D&&e.auth.addAuthTokenListener(e.D)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.N,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.N!==e?(vc("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(_c("string"==typeof n.accessToken),new Cc(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.p=function(){this.forceRefresh=!0},t.prototype.v=function(t){this.V=t,this.C&&t(this.currentUser)},t.prototype.S=function(){this.auth&&this.auth.removeAuthTokenListener(this.D),this.D=null,this.V=null},t.prototype.$=function(){var t=this.auth&&this.auth.getUid();return _c(null===t||"string"==typeof t),new Dc(t)},t}(),Lc=function(){function t(t,e){this.F=t,this.O=e,this.type="FirstParty",this.user=Dc.P}return Object.defineProperty(t.prototype,"g",{get:function(){var t={"X-Goog-AuthUser":this.O},e=this.F.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Mc=function(){function t(t,e){this.F=t,this.O=e}return t.prototype.getToken=function(){return Promise.resolve(new Lc(this.F,this.O))},t.prototype.v=function(t){t(Dc.P)},t.prototype.S=function(){},t.prototype.p=function(){},t}(),Vc=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.k=function(t){return n.M(t)},this.L=function(t){return e.B(t)})}return t.prototype.M=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.L&&this.L(t),t},t}();Vc.q=-1;var jc=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new kc(Nc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new kc(Nc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new kc(Nc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new kc(Nc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.U=function(t){return this.seconds===t.seconds?Tc(this.nanoseconds,t.nanoseconds):Tc(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Fc=function(){function t(t){this.timestamp=t}return t.K=function(e){return new t(e)},t.min=function(){return new t(new jc(0,0))},t.prototype._=function(t){return this.timestamp.U(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.W=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.j=function(){return this.timestamp},t}(),Uc=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&bc(),void 0===n?n=t.length-e:n>t.length-e&&bc(),this.segments=t,this.offset=e,this.G=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.G},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.H(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.J(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.Y=function(t){return t=void 0===t?1:t,this.J(this.segments,this.offset+t,this.length-t)},t.prototype.X=function(){return this.J(this.segments,this.offset,this.length-1)},t.prototype.Z=function(){return this.segments[this.offset]},t.prototype.tt=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.et=function(){return 0===this.length},t.prototype.nt=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.st=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.it=function(){return this.segments.slice(this.offset,this.limit())},t.H=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),qc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return hi(e,t),e.prototype.J=function(t,n,r){return new e(t,n,r)},e.prototype.rt=function(){return this.it().join("/")},e.prototype.toString=function(){return this.rt()},e.ot=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new kc(Nc.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.ct=function(){return new e([])},e}(Uc),zc=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Bc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return hi(e,t),e.prototype.J=function(t,n,r){return new e(t,n,r)},e.at=function(t){return zc.test(t)},e.prototype.rt=function(){return this.it().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.at(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.rt()},e.prototype.ut=function(){return 1===this.length&&"__name__"===this.get(0)},e.ht=function(){return new e(["__name__"])},e.lt=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new kc(Nc.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new kc(Nc.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new kc(Nc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new kc(Nc.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.ct=function(){return new e([])},e}(Uc),Gc=function(){function t(t){this.path=t}return t._t=function(e){return new t(qc.ot(e))},t.ft=function(e){return new t(qc.ot(e).Y(5))},t.prototype.dt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===qc.H(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.H=function(t,e){return qc.H(t.path,e.path)},t.wt=function(t){return t.length%2==0},t.Et=function(e){return new t(new qc(e.slice()))},t}();function $c(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Hc(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Yc(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Qc=function(){function t(t){this.fields=t,t.sort(Bc.H)}return t.prototype.Tt=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].nt(t))return!0;return!1},t.prototype.isEqual=function(t){return xc(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Xc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kc(t){if(_c(!!t),"string"==typeof t){var e=0,n=Xc.exec(t);if(_c(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Wc(t.seconds),nanos:Wc(t.nanos)}}function Wc(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Jc(t){return"string"==typeof t?Sc.fromBase64String(t):Sc.fromUint8Array(t)}function Zc(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function tl(t){var e=t.mapValue.fields.__previous_value__;return Zc(e)?tl(e):e}function el(t){var e=Kc(t.mapValue.fields.__local_write_time__.timestampValue);return new jc(e.seconds,e.nanos)}function nl(t){return null==t}function rl(t){return 0===t&&1/t==-1/0}function il(t){return"number"==typeof t&&Number.isInteger(t)&&!rl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function ol(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Zc(t)?4:10:bc()}function sl(t,e){var n=ol(t);if(n!==ol(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return el(t).isEqual(el(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Kc(t.timestampValue),r=Kc(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Jc(t.bytesValue).isEqual(Jc(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Wc(t.geoPointValue.latitude)===Wc(e.geoPointValue.latitude)&&Wc(t.geoPointValue.longitude)===Wc(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Wc(t.integerValue)===Wc(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Wc(t.doubleValue),r=Wc(e.doubleValue);return n===r?rl(n)===rl(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return xc(t.arrayValue.values||[],e.arrayValue.values||[],sl);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if($c(n)!==$c(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!sl(n[i],r[i])))return!1;return!0}(t,e);default:return bc()}}function al(t,e){return void 0!==(t.values||[]).find((function(t){return sl(t,e)}))}function ul(t,e){var n=ol(t),r=ol(e);if(n!==r)return Tc(n,r);switch(n){case 0:return 0;case 1:return Tc(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Wc(t.integerValue||t.doubleValue),r=Wc(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return cl(t.timestampValue,e.timestampValue);case 4:return cl(el(t),el(e));case 5:return Tc(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Jc(t),r=Jc(e);return n._(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Tc(n[i],r[i]);if(0!==o)return o}return Tc(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Tc(Wc(t.latitude),Wc(e.latitude));return 0!==n?n:Tc(Wc(t.longitude),Wc(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=ul(n[i],r[i]);if(o)return o}return Tc(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Tc(r[s],o[s]);if(0!==a)return a;var u=ul(n[r[s]],i[o[s]]);if(0!==u)return u}return Tc(r.length,o.length)}(t.mapValue,e.mapValue);default:throw bc()}}function cl(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Tc(t,e);var n=Kc(t),r=Kc(e),i=Tc(n.seconds,r.seconds);return 0!==i?i:Tc(n.nanos,r.nanos)}function ll(t){return hl(t)}function hl(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Kc(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Jc(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Gc.ft(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=hl(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+hl(t.fields[o])}return e+"}"}(t.mapValue):bc();var e,n}function fl(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.rt()}}function pl(t){return!!t&&"integerValue"in t}function dl(t){return!!t&&"arrayValue"in t}function vl(t){return!!t&&"nullValue"in t}function ml(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function yl(t){return!!t&&"mapValue"in t}var gl=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.et())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!yl(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.tt()])||null},t.prototype.isEqual=function(t){return sl(this.proto,t.proto)},t}(),bl=function(){function t(t){void 0===t&&(t=gl.empty()),this.It=t,this.At=new Map}return t.prototype.set=function(t,e){return this.Rt(t,e),this},t.prototype.delete=function(t){return this.Rt(t,null),this},t.prototype.Rt=function(t,e){for(var n=this.At,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===ol(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.tt(),e)},t.prototype.Pt=function(){var t=this.yt(Bc.ct(),this.At);return null!=t?new gl(t):this.It},t.prototype.yt=function(t,e){var n=this,r=!1,i=this.It.field(t),o=yl(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var s=n.yt(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function _l(t){var e=[];return Hc(t.fields||{},(function(t,n){var r=new Bc([t]);if(yl(n)){var i=_l(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++){var a=s[o];e.push(r.child(a))}}else e.push(r)})),new Qc(e)}var wl=function(t,e){this.key=t,this.version=e},El=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).gt=r,o.Vt=!!i.Vt,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return hi(e,t),e.prototype.field=function(t){return this.gt.field(t)},e.prototype.data=function(){return this.gt},e.prototype.bt=function(){return this.gt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Vt===t.Vt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.gt.isEqual(t.gt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.gt.toString()+", {hasLocalMutations: "+this.Vt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Vt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(wl),Il=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return hi(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(wl),Tl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return hi(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(wl),xl=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.vt=null};function Al(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new xl(t,e,n,r,i,o,s)}function Sl(t){var e=wc(t);if(null===e.vt){var n=e.path.rt();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.rt()+t.op.toString()+ll(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.rt()+t.dir}(t)})).join(","),nl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Ul(e.startAt)),e.endAt&&(n+="|ub:",n+=Ul(e.endAt)),e.vt=n}return e.vt}function Nl(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!zl(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!sl(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Gl(t.startAt,e.startAt)&&Gl(t.endAt,e.endAt)}function kl(t){return Gc.wt(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Ol=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return hi(e,t),e.create=function(t,n,r){return t.ut()?"in"===n||"not-in"===n?this.St(t,n,r):new Dl(t,n,r):"array-contains"===n?new Ll(t,r):"in"===n?new Ml(t,r):"not-in"===n?new Vl(t,r):"array-contains-any"===n?new jl(t,r):new e(t,n,r)},e.St=function(t,e,n){return"in"===e?new Cl(t,n):new Pl(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Dt(ul(e,this.value)):null!==e&&ol(this.value)===ol(e)&&this.Dt(ul(e,this.value))},e.prototype.Dt=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return bc()}},e.prototype.Ct=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Dl=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Gc.ft(r.referenceValue),i}return hi(e,t),e.prototype.matches=function(t){var e=Gc.H(t.key,this.key);return this.Dt(e)},e}(Ol),Cl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Rl(0,n),r}return hi(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Ol),Pl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Rl(0,n),r}return hi(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Ol);function Rl(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return Gc.ft(t.referenceValue)}))}var Ll=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return hi(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return dl(e)&&al(e.arrayValue,this.value)},e}(Ol),Ml=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return hi(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&al(this.value.arrayValue,e)},e}(Ol),Vl=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return hi(e,t),e.prototype.matches=function(t){if(al(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!al(this.value.arrayValue,e)},e}(Ol),jl=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return hi(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!dl(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return al(e.value.arrayValue,t)}))},e}(Ol),Fl=function(t,e){this.position=t,this.before=e};function Ul(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return ll(t)})).join(",")}var ql=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function zl(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Bl(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.ut()?Gc.H(Gc.ft(s.referenceValue),n.key):ul(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Gl(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!sl(t.position[n],e.position[n]))return!1;return!0}var $l=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.xt=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.Nt=null,this.$t=null,this.startAt,this.endAt};function Hl(t,e,n,r,i,o,s,a){return new $l(t,e,n,r,i,o,s,a)}function Yl(t){return new $l(t)}function Ql(t){return!nl(t.limit)&&"F"===t.limitType}function Xl(t){return!nl(t.limit)&&"L"===t.limitType}function Kl(t){return t.xt.length>0?t.xt[0].field:null}function Wl(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.Ct())return r.field}return null}function Jl(t){return null!==t.collectionGroup}function Zl(t){var e=wc(t);if(null===e.Nt){e.Nt=[];var n=Wl(e),r=Kl(e);if(null!==n&&null===r)n.ut()||e.Nt.push(new ql(n)),e.Nt.push(new ql(Bc.ht(),"asc"));else{for(var i=!1,o=0,s=e.xt;o<s.length;o++){var a=s[o];e.Nt.push(a),a.field.ut()&&(i=!0)}if(!i){var u=e.xt.length>0?e.xt[e.xt.length-1].dir:"asc";e.Nt.push(new ql(Bc.ht(),u))}}}return e.Nt}function th(t){var e=wc(t);if(!e.$t)if("F"===e.limitType)e.$t=Al(e.path,e.collectionGroup,Zl(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Zl(e);r<i.length;r++){var o=i[r],s="desc"===o.dir?"asc":"desc";n.push(new ql(o.field,s))}var a=e.endAt?new Fl(e.endAt.position,!e.endAt.before):null,u=e.startAt?new Fl(e.startAt.position,!e.startAt.before):null;e.$t=Al(e.path,e.collectionGroup,n,e.filters,e.limit,a,u)}return e.$t}function eh(t,e,n){return new $l(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function nh(t,e){return Nl(th(t),th(e))&&t.limitType===e.limitType}function rh(t){return Sl(th(t))+"|lt:"+t.limitType}function ih(t){return"Query(target="+function(t){var e=t.path.rt();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.rt()+" "+e.op+" "+ll(e.value);var e})).join(", ")+"]"),nl(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.rt()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Ul(t.startAt)),t.endAt&&(e+=", endAt: "+Ul(t.endAt)),"Target("+e+")"}(th(t))+"; limitType="+t.limitType+")"}function oh(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.dt(t.collectionGroup)&&t.path.nt(n):Gc.wt(t.path)?t.path.isEqual(n):t.path.st(n)}(t,e)&&function(t,e){for(var n=0,r=t.xt;n<r.length;n++){var i=r[n];if(!i.field.ut()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Bl(t.startAt,Zl(t),e)||t.endAt&&Bl(t.endAt,Zl(t),e))}(t,e)}function sh(t){return function(e,n){for(var r=!1,i=0,o=Zl(t);i<o.length;i++){var s=o[i],a=ah(s,e,n);if(0!==a)return a;r=r||s.field.ut()}return 0}}function ah(t,e,n){var r=t.field.ut()?Gc.H(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?ul(r,i):bc()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return bc()}}var uh=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=Fc.min()),void 0===o&&(o=Fc.min()),void 0===s&&(s=Sc.T),this.target=t,this.targetId=e,this.Ft=n,this.sequenceNumber=r,this.Ot=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.kt=function(e){return new t(this.target,this.targetId,this.Ft,e,this.Ot,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.Mt=function(e,n){return new t(this.target,this.targetId,this.Ft,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.Ft,this.sequenceNumber,this.Ot,e,this.resumeToken)},t}();function ch(t,e){if(t.Bt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rl(e)?"-0":e}}function lh(t){return{integerValue:""+t}}function hh(t,e){return il(e)?lh(e):ch(t,e)}var fh=function(){this.qt=void 0};function ph(t,e,n){return t instanceof mh?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof yh?gh(t,e):t instanceof bh?_h(t,e):function(t,e){var n=vh(t,e),r=Eh(n)+Eh(t.Ut);return pl(n)&&pl(t.Ut)?lh(r):ch(t.Qt,r)}(t,e)}function dh(t,e,n){return t instanceof yh?gh(t,e):t instanceof bh?_h(t,e):n}function vh(t,e){return t instanceof wh?pl(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var mh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return hi(e,t),e}(fh),yh=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return hi(e,t),e}(fh);function gh(t,e){for(var n=Ih(e),r=function(t){n.some((function(e){return sl(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var bh=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return hi(e,t),e}(fh);function _h(t,e){for(var n=Ih(e),r=function(t){n=n.filter((function(e){return!sl(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var wh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qt=e,r.Ut=n,r}return hi(e,t),e}(fh);function Eh(t){return Wc(t.integerValue||t.doubleValue)}function Ih(t){return dl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Th=function(t,e){this.field=t,this.transform=e},xh=function(t,e){this.version=t,this.transformResults=e},Ah=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Kt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Wt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Sh(t,e){return void 0!==t.updateTime?e instanceof El&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof El}var Nh=function(){};function kh(t,e,n){return t instanceof Rh?function(t,e,n){var r=t.value;if(n.transformResults){var i=Vh(t.fieldTransforms,e,n.transformResults);r=Fh(t.fieldTransforms,r,i)}return new El(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Lh?function(t,e,n){if(!Sh(t.jt,e))return new Tl(t.key,n.version);var r=Mh(t,e,n.transformResults?Vh(t.fieldTransforms,e,n.transformResults):[]);return new El(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new Il(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Oh(t,e,n){return t instanceof Rh?function(t,e,n){if(!Sh(t.jt,e))return e;var r=t.value,i=jh(t.fieldTransforms,n,e);r=Fh(t.fieldTransforms,r,i);var o=Ph(e);return new El(t.key,o,r,{Vt:!0})}(t,e,n):t instanceof Lh?function(t,e,n){if(!Sh(t.jt,e))return e;var r=Ph(e),i=Mh(t,e,jh(t.fieldTransforms,n,e));return new El(t.key,r,i,{Vt:!0})}(t,e,n):function(t,e){return Sh(t.jt,e)?new Il(t.key,Fc.min()):e}(t,e)}function Dh(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],s=e instanceof El?e.field(o.field):void 0,a=vh(o.transform,s||null);null!=a&&(n=null==n?(new bl).set(o.field,a):n.set(o.field,a))}return n?n.Pt():null}(t.fieldTransforms,e)}function Ch(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.jt.isEqual(e.jt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&xc(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof yh&&e instanceof yh||t instanceof bh&&e instanceof bh?xc(t.elements,e.elements,sl):t instanceof wh&&e instanceof wh?sl(t.Ut,e.Ut):t instanceof mh&&e instanceof mh}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.Gt.isEqual(e.Gt))}function Ph(t){return t instanceof El?t.version:Fc.min()}var Rh=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.jt=r,o.fieldTransforms=i,o.type=0,o}return hi(e,t),e}(Nh),Lh=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.Gt=r,s.jt=i,s.fieldTransforms=o,s.type=1,s}return hi(e,t),e}(Nh);function Mh(t,e,n){var r;return r=function(t,e){var n=new bl(e);return t.Gt.fields.forEach((function(e){if(!e.et()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.Pt()}(t,r=e instanceof El?e.data():gl.empty()),Fh(t.fieldTransforms,r,n)}function Vh(t,e,n){var r=[];_c(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=null;e instanceof El&&(a=e.field(o.field)),r.push(dh(s,a,n[i]))}return r}function jh(t,e,n){for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=null;n instanceof El&&(u=n.field(s.field)),r.push(ph(a,u,e))}return r}function Fh(t,e,n){for(var r=new bl(e),i=0;i<t.length;i++){var o=t[i];r.set(o.field,n[i])}return r.Pt()}var Uh,qh,zh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.jt=n,r.type=2,r.fieldTransforms=[],r}return hi(e,t),e}(Nh),Bh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.jt=n,r.type=3,r.fieldTransforms=[],r}return hi(e,t),e}(Nh),Gh=function(t){this.count=t};function $h(t){switch(t){case Nc.OK:return bc();case Nc.CANCELLED:case Nc.UNKNOWN:case Nc.DEADLINE_EXCEEDED:case Nc.RESOURCE_EXHAUSTED:case Nc.INTERNAL:case Nc.UNAVAILABLE:case Nc.UNAUTHENTICATED:return!1;case Nc.INVALID_ARGUMENT:case Nc.NOT_FOUND:case Nc.ALREADY_EXISTS:case Nc.PERMISSION_DENIED:case Nc.FAILED_PRECONDITION:case Nc.ABORTED:case Nc.OUT_OF_RANGE:case Nc.UNIMPLEMENTED:case Nc.DATA_LOSS:return!0;default:return bc()}}function Hh(t){if(void 0===t)return mc("GRPC error has no .code"),Nc.UNKNOWN;switch(t){case Uh.OK:return Nc.OK;case Uh.CANCELLED:return Nc.CANCELLED;case Uh.UNKNOWN:return Nc.UNKNOWN;case Uh.DEADLINE_EXCEEDED:return Nc.DEADLINE_EXCEEDED;case Uh.RESOURCE_EXHAUSTED:return Nc.RESOURCE_EXHAUSTED;case Uh.INTERNAL:return Nc.INTERNAL;case Uh.UNAVAILABLE:return Nc.UNAVAILABLE;case Uh.UNAUTHENTICATED:return Nc.UNAUTHENTICATED;case Uh.INVALID_ARGUMENT:return Nc.INVALID_ARGUMENT;case Uh.NOT_FOUND:return Nc.NOT_FOUND;case Uh.ALREADY_EXISTS:return Nc.ALREADY_EXISTS;case Uh.PERMISSION_DENIED:return Nc.PERMISSION_DENIED;case Uh.FAILED_PRECONDITION:return Nc.FAILED_PRECONDITION;case Uh.ABORTED:return Nc.ABORTED;case Uh.OUT_OF_RANGE:return Nc.OUT_OF_RANGE;case Uh.UNIMPLEMENTED:return Nc.UNIMPLEMENTED;case Uh.DATA_LOSS:return Nc.DATA_LOSS;default:return bc()}}(qh=Uh||(Uh={}))[qh.OK=0]="OK",qh[qh.CANCELLED=1]="CANCELLED",qh[qh.UNKNOWN=2]="UNKNOWN",qh[qh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qh[qh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qh[qh.NOT_FOUND=5]="NOT_FOUND",qh[qh.ALREADY_EXISTS=6]="ALREADY_EXISTS",qh[qh.PERMISSION_DENIED=7]="PERMISSION_DENIED",qh[qh.UNAUTHENTICATED=16]="UNAUTHENTICATED",qh[qh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qh[qh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qh[qh.ABORTED=10]="ABORTED",qh[qh.OUT_OF_RANGE=11]="OUT_OF_RANGE",qh[qh.UNIMPLEMENTED=12]="UNIMPLEMENTED",qh[qh.INTERNAL=13]="INTERNAL",qh[qh.UNAVAILABLE=14]="UNAVAILABLE",qh[qh.DATA_LOSS=15]="DATA_LOSS";var Yh=function(){function t(t,e){this.H=t,this.root=e||Xh.EMPTY}return t.prototype.zt=function(e,n){return new t(this.H,this.root.zt(e,n,this.H).copy(null,null,Xh.Ht,null,null))},t.prototype.remove=function(e){return new t(this.H,this.root.remove(e,this.H).copy(null,null,Xh.Ht,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.et();){var n=this.H(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.et();){var r=this.H(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.et=function(){return this.root.et()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Jt=function(){return this.root.Jt()},t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(t){return this.root.Xt(t)},t.prototype.forEach=function(t){this.Xt((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.Xt((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.te=function(){return new Qh(this.root,null,this.H,!1)},t.prototype.ee=function(t){return new Qh(this.root,t,this.H,!1)},t.prototype.ne=function(){return new Qh(this.root,null,this.H,!0)},t.prototype.se=function(t){return new Qh(this.root,t,this.H,!0)},t}(),Qh=function(){function t(t,e,n,r){this.ie=r,this.re=[];for(var i=1;!t.et();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.ie?t.left:t.right;else{if(0===i){this.re.push(t);break}this.re.push(t),t=this.ie?t.right:t.left}}return t.prototype.oe=function(){var t=this.re.pop(),e={key:t.key,value:t.value};if(this.ie)for(t=t.left;!t.et();)this.re.push(t),t=t.right;else for(t=t.right;!t.et();)this.re.push(t),t=t.left;return e},t.prototype.ce=function(){return this.re.length>0},t.prototype.ae=function(){if(0===this.re.length)return null;var t=this.re[this.re.length-1];return{key:t.key,value:t.value}},t}(),Xh=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.et=function(){return!1},t.prototype.Xt=function(t){return this.left.Xt(t)||t(this.key,this.value)||this.right.Xt(t)},t.prototype.Zt=function(t){return this.right.Zt(t)||t(this.key,this.value)||this.left.Zt(t)},t.prototype.min=function(){return this.left.et()?this:this.left.min()},t.prototype.Jt=function(){return this.min().key},t.prototype.Yt=function(){return this.right.et()?this.key:this.right.Yt()},t.prototype.zt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.zt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.zt(t,e,n))).ue()},t.prototype.he=function(){if(this.left.et())return t.EMPTY;var e=this;return e.left.le()||e.left.left.le()||(e=e._e()),(e=e.copy(null,null,null,e.left.he(),null)).ue()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.et()||i.left.le()||i.left.left.le()||(i=i._e()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.le()&&(i=i.fe()),i.right.et()||i.right.le()||i.right.left.le()||(i=i.de()),0===n(e,i.key)){if(i.right.et())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.he())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.ue()},t.prototype.le=function(){return this.color},t.prototype.ue=function(){var t=this;return t.right.le()&&!t.left.le()&&(t=t.we()),t.left.le()&&t.left.left.le()&&(t=t.fe()),t.left.le()&&t.right.le()&&(t=t.Ee()),t},t.prototype._e=function(){var t=this.Ee();return t.right.left.le()&&(t=(t=(t=t.copy(null,null,null,null,t.right.fe())).we()).Ee()),t},t.prototype.de=function(){var t=this.Ee();return t.left.left.le()&&(t=(t=t.fe()).Ee()),t},t.prototype.we=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.fe=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Ee=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Te=function(){var t=this.Ie();return Math.pow(2,t)<=this.size+1},t.prototype.Ie=function(){if(this.le()&&this.left.le())throw bc();if(this.right.le())throw bc();var t=this.left.Ie();if(t!==this.right.Ie())throw bc();return t+(this.le()?0:1)},t}();Xh.EMPTY=null,Xh.RED=!0,Xh.Ht=!1,Xh.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw bc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw bc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw bc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw bc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw bc()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.zt=function(t,e,n){return new Xh(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.et=function(){return!0},t.prototype.Xt=function(t){return!1},t.prototype.Zt=function(t){return!1},t.prototype.Jt=function(){return null},t.prototype.Yt=function(){return null},t.prototype.le=function(){return!1},t.prototype.Te=function(){return!0},t.prototype.Ie=function(){return 0},t}());var Kh=function(){function t(t){this.H=t,this.data=new Yh(this.H)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Jt()},t.prototype.last=function(){return this.data.Yt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Xt((function(e,n){return t(e),!1}))},t.prototype.me=function(t,e){for(var n=this.data.ee(t[0]);n.ce();){var r=n.oe();if(this.H(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Ae=function(t,e){var n;for(n=void 0!==e?this.data.ee(e):this.data.te();n.ce();)if(!t(n.oe().key))return},t.prototype.Re=function(t){var e=this.data.ee(t);return e.ce()?e.oe().key:null},t.prototype.te=function(){return new Wh(this.data.te())},t.prototype.ee=function(t){return new Wh(this.data.ee(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).zt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.et=function(){return this.data.et()},t.prototype.Pe=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.te(),r=e.data.te();n.ce();){var i=n.oe().key,o=r.oe().key;if(0!==this.H(i,o))return!1}return!0},t.prototype.it=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.H);return n.data=e,n},t}(),Wh=function(){function t(t){this.ye=t}return t.prototype.oe=function(){return this.ye.oe().key},t.prototype.ce=function(){return this.ye.ce()},t}(),Jh=new Yh(Gc.H);function Zh(){return Jh}function tf(){return Zh()}var ef=new Yh(Gc.H);function nf(){return ef}var rf=new Yh(Gc.H);function of(){return rf}var sf=new Kh(Gc.H);function af(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=sf,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var uf=new Kh(Tc);function cf(){return uf}var lf=function(){function t(t){this.H=t?function(e,n){return t(e,n)||Gc.H(e.key,n.key)}:function(t,e){return Gc.H(t.key,e.key)},this.ge=nf(),this.Ve=new Yh(this.H)}return t.pe=function(e){return new t(e.H)},t.prototype.has=function(t){return null!=this.ge.get(t)},t.prototype.get=function(t){return this.ge.get(t)},t.prototype.first=function(){return this.Ve.Jt()},t.prototype.last=function(){return this.Ve.Yt()},t.prototype.et=function(){return this.Ve.et()},t.prototype.indexOf=function(t){var e=this.ge.get(t);return e?this.Ve.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Ve.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Ve.Xt((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.ge.zt(t.key,t),e.Ve.zt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.ge.remove(t),this.Ve.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Ve.te(),r=e.Ve.te();n.ce();){var i=n.oe().key,o=r.oe().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.H=this.H,r.ge=e,r.Ve=n,r},t}(),hf=function(){function t(){this.be=new Yh(Gc.H)}return t.prototype.track=function(t){var e=t.doc.key,n=this.be.get(e);n?0!==t.type&&3===n.type?this.be=this.be.zt(e,t):3===t.type&&1!==n.type?this.be=this.be.zt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.be=this.be.zt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.be=this.be.zt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.be=this.be.remove(e):1===t.type&&2===n.type?this.be=this.be.zt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.be=this.be.zt(e,{type:2,doc:t.doc}):bc():this.be=this.be.zt(e,t)},t.prototype.ve=function(){var t=[];return this.be.Xt((function(e,n){t.push(n)})),t},t}(),ff=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.Se=n,this.docChanges=r,this.De=i,this.fromCache=o,this.Ce=s,this.xe=a}return t.Ne=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,lf.pe(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.De.et()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Ce===t.Ce&&this.De.isEqual(t.De)&&nh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Se.isEqual(t.Se)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),pf=function(){function t(t,e,n,r,i){this.Ot=t,this.$e=e,this.Fe=n,this.Oe=r,this.ke=i}return t.Me=function(e,n){var r=new Map;return r.set(e,df.Le(e,n)),new t(Fc.min(),r,cf(),Zh(),af())},t}(),df=function(){function t(t,e,n,r,i){this.resumeToken=t,this.Be=e,this.qe=n,this.Ue=r,this.Qe=i}return t.Le=function(e,n){return new t(Sc.T,n,af(),af(),af())},t}(),vf=function(t,e,n,r){this.Ke=t,this.removedTargetIds=e,this.key=n,this.We=r},mf=function(t,e){this.targetId=t,this.je=e},yf=function(t,e,n,r){void 0===n&&(n=Sc.T),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},gf=function(){function t(){this.Ge=0,this.ze=wf(),this.He=Sc.T,this.Je=!1,this.Ye=!0}return Object.defineProperty(t.prototype,"Be",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.He},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Xe",{get:function(){return 0!==this.Ge},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),t.prototype.tn=function(t){t.l()>0&&(this.Ye=!0,this.He=t)},t.prototype.en=function(){var t=af(),e=af(),n=af();return this.ze.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:bc()}})),new df(this.He,this.Je,t,e,n)},t.prototype.nn=function(){this.Ye=!1,this.ze=wf()},t.prototype.sn=function(t,e){this.Ye=!0,this.ze=this.ze.zt(t,e)},t.prototype.rn=function(t){this.Ye=!0,this.ze=this.ze.remove(t)},t.prototype.on=function(){this.Ge+=1},t.prototype.cn=function(){this.Ge-=1},t.prototype.an=function(){this.Ye=!0,this.Je=!0},t}(),bf=function(){function t(t){this.un=t,this.hn=new Map,this.ln=Zh(),this._n=_f(),this.fn=new Kh(Tc)}return t.prototype.dn=function(t){for(var e=0,n=t.Ke;e<n.length;e++){var r=n[e];t.We instanceof El?this.wn(r,t.We):t.We instanceof Il&&this.En(r,t.key,t.We)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.En(r,t.key,t.We)},t.prototype.Tn=function(t){var e=this;this.In(t,(function(n){var r=e.mn(n);switch(t.state){case 0:e.An(n)&&r.tn(t.resumeToken);break;case 1:r.cn(),r.Xe||r.nn(),r.tn(t.resumeToken);break;case 2:r.cn(),r.Xe||e.removeTarget(n);break;case 3:e.An(n)&&(r.an(),r.tn(t.resumeToken));break;case 4:e.An(n)&&(e.Rn(n),r.tn(t.resumeToken));break;default:bc()}}))},t.prototype.In=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.hn.forEach((function(t,r){n.An(r)&&e(r)}))},t.prototype.Pn=function(t){var e=t.targetId,n=t.je.count,r=this.yn(e);if(r){var i=r.target;if(kl(i))if(0===n){var o=new Gc(i.path);this.En(e,o,new Il(o,Fc.min()))}else _c(1===n);else this.gn(e)!==n&&(this.Rn(e),this.fn=this.fn.add(e))}},t.prototype.Vn=function(t){var e=this,n=new Map;this.hn.forEach((function(r,i){var o=e.yn(i);if(o){if(r.Be&&kl(o.target)){var s=new Gc(o.target.path);null!==e.ln.get(s)||e.pn(i,s)||e.En(i,s,new Il(s,t))}r.Ze&&(n.set(i,r.en()),r.nn())}}));var r=af();this._n.forEach((function(t,n){var i=!0;n.Ae((function(t){var n=e.yn(t);return!n||2===n.Ft||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new pf(t,n,this.fn,this.ln,r);return this.ln=Zh(),this._n=_f(),this.fn=new Kh(Tc),i},t.prototype.wn=function(t,e){if(this.An(t)){var n=this.pn(t,e.key)?2:0;this.mn(t).sn(e.key,n),this.ln=this.ln.zt(e.key,e),this._n=this._n.zt(e.key,this.bn(e.key).add(t))}},t.prototype.En=function(t,e,n){if(this.An(t)){var r=this.mn(t);this.pn(t,e)?r.sn(e,1):r.rn(e),this._n=this._n.zt(e,this.bn(e).delete(t)),n&&(this.ln=this.ln.zt(e,n))}},t.prototype.removeTarget=function(t){this.hn.delete(t)},t.prototype.gn=function(t){var e=this.mn(t).en();return this.un.vn(t).size+e.qe.size-e.Qe.size},t.prototype.on=function(t){this.mn(t).on()},t.prototype.mn=function(t){var e=this.hn.get(t);return e||(e=new gf,this.hn.set(t,e)),e},t.prototype.bn=function(t){var e=this._n.get(t);return e||(e=new Kh(Tc),this._n=this._n.zt(t,e)),e},t.prototype.An=function(t){var e=null!==this.yn(t);return e||vc("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.yn=function(t){var e=this.hn.get(t);return e&&e.Xe?null:this.un.Sn(t)},t.prototype.Rn=function(t){var e=this;this.hn.set(t,new gf),this.un.vn(t).forEach((function(n){e.En(t,n,null)}))},t.prototype.pn=function(t,e){return this.un.vn(t).has(e)},t}();function _f(){return new Yh(Gc.H)}function wf(){return new Yh(Gc.H)}var Ef={asc:"ASCENDING",desc:"DESCENDING"},If={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Tf=function(t,e){this.t=t,this.Bt=e};function xf(t,e){return t.Bt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Af(t,e){return t.Bt?e.toBase64():e.toUint8Array()}function Sf(t,e){return xf(t,e.j())}function Nf(t){return _c(!!t),Fc.K(function(t){var e=Kc(t);return new jc(e.seconds,e.nanos)}(t))}function kf(t,e){return function(t){return new qc(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).rt()}function Of(t){var e=qc.ot(t);return _c(tp(e)),e}function Df(t,e){return kf(t.t,e.path)}function Cf(t,e){var n=Of(e);if(n.get(1)!==t.t.projectId)throw new kc(Nc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new kc(Nc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new Gc(Mf(n))}function Pf(t,e){return kf(t.t,e)}function Rf(t){var e=Of(t);return 4===e.length?qc.ct():Mf(e)}function Lf(t){return new qc(["projects",t.t.projectId,"databases",t.t.database]).rt()}function Mf(t){return _c(t.length>4&&"documents"===t.get(4)),t.Y(5)}function Vf(t,e,n){return{name:Df(t,e),fields:n.proto.mapValue.fields}}function jf(t,e,n){var r=Cf(t,e.name),i=Nf(e.updateTime),o=new gl({mapValue:{fields:e.fields}});return new El(r,i,o,{hasCommittedMutations:!!n})}function Ff(t,e){var n;if(e instanceof Rh)n={update:Vf(t,e.key,e.value)};else if(e instanceof zh)n={delete:Df(t,e.key)};else if(e instanceof Lh)n={update:Vf(t,e.key,e.data),updateMask:Zf(e.Gt)};else{if(!(e instanceof Bh))return bc();n={verify:Df(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof mh)return{fieldPath:e.field.rt(),setToServerValue:"REQUEST_TIME"};if(n instanceof yh)return{fieldPath:e.field.rt(),appendMissingElements:{values:n.elements}};if(n instanceof bh)return{fieldPath:e.field.rt(),removeAllFromArray:{values:n.elements}};if(n instanceof wh)return{fieldPath:e.field.rt(),increment:n.Ut};throw bc()}(0,t)}))),e.jt.Wt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Sf(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:bc()}(t,e.jt)),n}function Uf(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Ah.updateTime(Nf(t.updateTime)):void 0!==t.exists?Ah.exists(t.exists):Ah.Kt()}(e.currentDocument):Ah.Kt(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)_c("REQUEST_TIME"===e.setToServerValue),n=new mh;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new yh(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new bh(i)}else"increment"in e?n=new wh(t,e.increment):bc();var o=Bc.lt(e.fieldPath);return new Th(o,n)}(t,e)})):[];if(e.update){e.update.name;var i=Cf(t,e.update.name),o=new gl({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){var e=t.fieldPaths||[];return new Qc(e.map((function(t){return Bc.lt(t)})))}(e.updateMask);return new Lh(i,o,s,n,r)}return new Rh(i,o,n,r)}if(e.delete){var a=Cf(t,e.delete);return new zh(a,n)}if(e.verify){var u=Cf(t,e.verify);return new Bh(u,n)}return bc()}function qf(t,e){return{documents:[Pf(t,e.path)]}}function zf(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Pf(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Pf(t,r.X()),n.structuredQuery.from=[{collectionId:r.tt()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(ml(t.value))return{unaryFilter:{field:Xf(t.field),op:"IS_NAN"}};if(vl(t.value))return{unaryFilter:{field:Xf(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(ml(t.value))return{unaryFilter:{field:Xf(t.field),op:"IS_NOT_NAN"}};if(vl(t.value))return{unaryFilter:{field:Xf(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xf(t.field),op:Qf(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:Xf(t.field),direction:Yf(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.Bt||nl(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=$f(e.startAt)),e.endAt&&(n.structuredQuery.endAt=$f(e.endAt)),n}function Bf(t){var e=Rf(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){_c(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=Gf(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new ql(Kf(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return nl(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Hf(n.startAt));var l=null;return n.endAt&&(l=Hf(n.endAt)),Hl(e,i,a,s,u,"F",c,l)}function Gf(t){return t?void 0!==t.unaryFilter?[Jf(t)]:void 0!==t.fieldFilter?[Wf(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return Gf(t)})).reduce((function(t,e){return t.concat(e)})):bc():[]}function $f(t){return{before:t.before,values:t.position}}function Hf(t){var e=!!t.before,n=t.values||[];return new Fl(n,e)}function Yf(t){return Ef[t]}function Qf(t){return If[t]}function Xf(t){return{fieldPath:t.rt()}}function Kf(t){return Bc.lt(t.fieldPath)}function Wf(t){return Ol.create(Kf(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return bc()}}(t.fieldFilter.op),t.fieldFilter.value)}function Jf(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Kf(t.unaryFilter.field);return Ol.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Kf(t.unaryFilter.field);return Ol.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Kf(t.unaryFilter.field);return Ol.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Kf(t.unaryFilter.field);return Ol.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return bc()}}function Zf(t){var e=[];return t.fields.forEach((function(t){return e.push(t.rt())})),{fieldPaths:e}}function tp(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var ep=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},np=function(){function t(t){var e=this;this.Dn=null,this.Cn=null,this.result=void 0,this.error=void 0,this.xn=!1,this.Nn=!1,t((function(t){e.xn=!0,e.result=t,e.Dn&&e.Dn(t)}),(function(t){e.xn=!0,e.error=t,e.Cn&&e.Cn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Nn&&bc(),this.Nn=!0,this.xn?this.error?this.$n(n,this.error):this.Fn(e,this.result):new t((function(t,i){r.Dn=function(n){r.Fn(e,n).next(t,i)},r.Cn=function(e){r.$n(n,e).next(t,i)}}))},t.prototype.On=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.kn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Fn=function(e,n){return e?this.kn((function(){return e(n)})):t.resolve(n)},t.prototype.$n=function(e,n){return e?this.kn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.Mn=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.Ln=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.Mn(r)},t}(),rp=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.Bn=new ep,this.transaction.oncomplete=function(){n.Bn.resolve()},this.transaction.onabort=function(){e.error?n.Bn.reject(new sp(t,e.error)):n.Bn.resolve()},this.transaction.onerror=function(e){var r=hp(e.target.error);n.Bn.reject(new sp(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new sp(n,e)}},Object.defineProperty(t.prototype,"qn",{get:function(){return this.Bn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Bn.reject(t),this.aborted||(vc("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new up(e)},t}(),ip=function(){function t(e,n,r){this.name=e,this.version=n,this.Un=r,12.2===t.Qn(_i())&&mc("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return vc("SimpleDb","Removing database:",t),cp(window.indexedDB.deleteDatabase(t)).On()},t.Kn=function(){if("undefined"==typeof indexedDB)return!1;if(t.Wn())return!0;var e=_i(),n=t.Qn(e),r=0<n&&n<10,i=t.jn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Wn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Gn)},t.zn=function(t,e){return t.store(e)},t.Qn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.jn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Hn=function(t){return pi(this,void 0,void 0,(function(){var e,n=this;return di(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(vc("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new sp(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new kc(Nc.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new sp(t,n))},i.onupgradeneeded=function(t){vc("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.Un.Jn(e,i.transaction,t.oldVersion,n.version).next((function(){vc("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Yn&&(this.db.onversionchange=function(t){return n.Yn(t)}),this.db)]}}))}))},t.prototype.Xn=function(t){this.Yn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return pi(this,void 0,void 0,(function(){var i,o,s,a,u;return di(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return di(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Hn(t)];case 2:return a.db=h.sent(),e=rp.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch((function(t){return e.abort(t),np.reject(t)})).On(),u={},s.catch((function(){})),[4,e.qn];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return c=h.sent(),l="FirebaseError"!==c.name&&o<3,vc("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),op=function(){function t(t){this.Zn=t,this.ts=!1,this.es=null}return Object.defineProperty(t.prototype,"xn",{get:function(){return this.ts},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ns",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Zn=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.ts=!0},t.prototype.ss=function(t){this.es=t},t.prototype.delete=function(){return cp(this.Zn.delete())},t}(),sp=function(t){function e(e,n){var r=this;return(r=t.call(this,Nc.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return hi(e,t),e}(kc);function ap(t){return"IndexedDbTransactionError"===t.name}var up=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(vc("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(vc("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),cp(n)},t.prototype.add=function(t){return vc("SimpleDb","ADD",this.store.name,t,t),cp(this.store.add(t))},t.prototype.get=function(t){var e=this;return cp(this.store.get(t)).next((function(n){return void 0===n&&(n=null),vc("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return vc("SimpleDb","DELETE",this.store.name,t),cp(this.store.delete(t))},t.prototype.count=function(){return vc("SimpleDb","COUNT",this.store.name),cp(this.store.count())},t.prototype.rs=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.os(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.cs=function(t,e){vc("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.us=!1;var r=this.cursor(n);return this.os(r,(function(t,e,n){return n.delete()}))},t.prototype.hs=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.os(r,e)},t.prototype.ls=function(t){var e=this.cursor({});return new np((function(n,r){e.onerror=function(t){var e=hp(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.os=function(t,e){var n=[];return new np((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new op(i),s=e(i.primaryKey,i.value,o);if(s instanceof np){var a=s.catch((function(t){return o.done(),np.reject(t)}));n.push(a)}o.xn?r():null===o.ns?i.continue():i.continue(o.ns)}else r()}})).next((function(){return np.Mn(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.us?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function cp(t){return new np((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=hp(t.target.error);n(e)}}))}var lp=!1;function hp(t){var e=ip.Qn(_i());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new kc("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return lp||(lp=!0,setTimeout((function(){throw r}),0)),r}}return t}var fp=function(){function t(t,e,n,r,i){this._s=t,this.fs=e,this.ds=n,this.op=r,this.ws=i,this.Es=new ep,this.then=this.Es.promise.then.bind(this.Es.promise),this.Es.promise.catch((function(t){}))}return t.Ts=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.Is=setTimeout((function(){return e.As()}),t)},t.prototype.Rs=function(){return this.As()},t.prototype.cancel=function(t){null!==this.Is&&(this.clearTimeout(),this.Es.reject(new kc(Nc.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.As=function(){var t=this;this._s.Ps((function(){return null!==t.Is?(t.clearTimeout(),t.op().then((function(e){return t.Es.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.Is&&(this.ws(this),clearTimeout(this.Is),this.Is=null)},t}();function pp(t,e){if(mc("AsyncQueue",e+": "+t),ap(t))return new kc(Nc.UNAVAILABLE,e+": "+t);throw t}var dp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",vp=function(){function t(){this.ys=[]}return t.prototype.gs=function(t){this.ys.push(t)},t.prototype.Vs=function(){this.ys.forEach((function(t){return t()}))},t}();function mp(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=gp(e)),e=yp(t.get(n),e);return gp(e)}function yp(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function gp(t){return t+""}function bp(t){var e=t.length;if(_c(e>=2),2===e)return _c(""===t.charAt(0)&&""===t.charAt(1)),qc.ct();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("",o);switch((s<0||s>n)&&bc(),t.charAt(s+1)){case"":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"":i+=t.substring(o,s),i+="\0";break;case"":i+=t.substring(o,s+1);break;default:bc()}o=s+2}return new qc(r)}var _p=function(t,e){this.seconds=t,this.nanoseconds=e},wp=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};wp.store="owner",wp.key="owner";var Ep=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Ep.store="mutationQueues",Ep.keyPath="userId";var Ip=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Ip.store="mutations",Ip.keyPath="batchId",Ip.userMutationsIndex="userMutationsIndex",Ip.userMutationsKeyPath=["userId","batchId"];var Tp=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,mp(e)]},t.key=function(t,e,n){return[t,mp(e),n]},t}();Tp.store="documentMutations",Tp.PLACEHOLDER=new Tp;var xp=function(t,e){this.path=t,this.readTime=e},Ap=function(t,e){this.path=t,this.version=e},Sp=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Sp.store="remoteDocuments",Sp.readTimeIndex="readTimeIndex",Sp.readTimeIndexPath="readTime",Sp.collectionReadTimeIndex="collectionReadTimeIndex",Sp.collectionReadTimeIndexPath=["parentPath","readTime"];var Np=function(t){this.byteSize=t};Np.store="remoteDocumentGlobal",Np.key="remoteDocumentGlobalKey";var kp=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};kp.store="targets",kp.keyPath="targetId",kp.queryTargetsIndexName="queryTargetsIndex",kp.queryTargetsKeyPath=["canonicalId","targetId"];var Op=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Op.store="targetDocuments",Op.keyPath=["targetId","path"],Op.documentTargetsIndex="documentTargetsIndex",Op.documentTargetsKeyPath=["path","targetId"];var Dp=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Dp.key="targetGlobalKey",Dp.store="targetGlobal";var Cp=function(t,e){this.collectionId=t,this.parent=e};Cp.store="collectionParents",Cp.keyPath=["collectionId","parent"];var Pp=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Pp.store="clientMetadata",Pp.keyPath="clientId";var Rp=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Rp.store="bundles",Rp.keyPath="bundleId";var Lp=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Lp.store="namedQueries",Lp.keyPath="name";var Mp=yi(yi(yi(yi([Ep.store,Ip.store,Tp.store,Sp.store,kp.store,wp.store,Dp.store,Op.store],[Pp.store]),[Np.store]),[Cp.store]),[Rp.store,Lp.store]),Vp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ps=e,r.bs=n,r}return hi(e,t),e}(vp);function jp(t,e){var n=wc(t);return ip.zn(n.ps,e)}var Fp=function(){function t(t,e,n,r){this.batchId=t,this.vs=e,this.baseMutations=n,this.mutations=r}return t.prototype.Ss=function(t,e,n){for(var r=n.Ds,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=kh(o,e,r[i]))}return e},t.prototype.Cs=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(t)&&(e=Oh(s,e,this.vs));for(var i=0,o=this.mutations;i<o.length;i++){var s;(s=o[i]).key.isEqual(t)&&(e=Oh(s,e,this.vs))}return e},t.prototype.xs=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.Cs(r.key,t.get(r.key));i&&(n=n.zt(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),af())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&xc(this.mutations,t.mutations,(function(t,e){return Ch(t,e)}))&&xc(this.baseMutations,t.baseMutations,(function(t,e){return Ch(t,e)}))},t}(),Up=function(){function t(t,e,n,r){this.batch=t,this.Ns=e,this.Ds=n,this.$s=r}return t.from=function(e,n,r){_c(e.mutations.length===r.length);for(var i=of(),o=e.mutations,s=0;s<o.length;s++)i=i.zt(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),qp=function(t){this.Fs=t};function zp(t,e){if(e.document)return jf(t.Fs,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Gc.Et(e.noDocument.path),r=Yp(e.noDocument.readTime);return new Il(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Gc.Et(e.unknownDocument.path);return r=Yp(e.unknownDocument.version),new Tl(i,r)}return bc()}function Bp(t,e,n){var r=Gp(n),i=e.key.path.X().it();if(e instanceof El){var o=function(t,e){return{name:Df(t,e.key),fields:e.bt().mapValue.fields,updateTime:xf(t,e.version.j())}}(t.Fs,e),s=e.hasCommittedMutations;return new Sp(null,null,o,s,r,i)}if(e instanceof Il){var a=e.key.path.it(),u=Hp(e.version);return s=e.hasCommittedMutations,new Sp(null,new xp(a,u),null,s,r,i)}if(e instanceof Tl){var c=e.key.path.it(),l=Hp(e.version);return new Sp(new Ap(c,l),null,null,!0,r,i)}return bc()}function Gp(t){var e=t.j();return[e.seconds,e.nanoseconds]}function $p(t){var e=new jc(t[0],t[1]);return Fc.K(e)}function Hp(t){var e=t.j();return new _p(e.seconds,e.nanoseconds)}function Yp(t){var e=new jc(t.seconds,t.nanoseconds);return Fc.K(e)}function Qp(t,e){for(var n=(e.baseMutations||[]).map((function(e){return Uf(t.Fs,e)})),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];if(r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform){var o=e.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var s=e.mutations.map((function(e){return Uf(t.Fs,e)})),a=jc.fromMillis(e.localWriteTimeMs);return new Fp(e.batchId,a,n,s)}function Xp(t){var e,n,r=Yp(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Yp(t.lastLimboFreeSnapshotVersion):Fc.min();return void 0!==t.query.documents?(_c(1===(n=t.query).documents.length),e=th(Yl(Rf(n.documents[0])))):e=function(t){return th(Bf(t))}(t.query),new uh(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Sc.fromBase64String(t.resumeToken))}function Kp(t,e){var n,r=Hp(e.Ot),i=Hp(e.lastLimboFreeSnapshotVersion);n=kl(e.target)?qf(t.Fs,e.target):zf(t.Fs,e.target);var o=e.resumeToken.toBase64();return new kp(e.targetId,Sl(e.target),r,o,e.sequenceNumber,i,n)}function Wp(t){var e=Bf({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?eh(e,e.limit,"L"):e}var Jp=function(){function t(){}return t.prototype.Os=function(t,e){return Zp(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Yp(e.createTime),version:e.version};var e}))},t.prototype.ks=function(t,e){return Zp(t).put({bundleId:(n=e).id,createTime:Hp(Nf(n.createTime)),version:n.version});var n},t.prototype.Ms=function(t,e){return td(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:Wp(e.bundledQuery),readTime:Yp(e.readTime)};var e}))},t.prototype.Ls=function(t,e){return td(t).put(function(t){return{name:t.name,readTime:Hp(Nf(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Zp(t){return jp(t,Rp.store)}function td(t){return jp(t,Lp.store)}var ed=function(){function t(){this.Bs=new nd}return t.prototype.qs=function(t,e){return this.Bs.add(e),np.resolve()},t.prototype.Us=function(t,e){return np.resolve(this.Bs.getEntries(e))},t}(),nd=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.tt(),n=t.X(),r=this.index[e]||new Kh(qc.H),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.tt(),n=t.X(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Kh(qc.H)).it()},t}(),rd=function(){function t(){this.Qs=new nd}return t.prototype.qs=function(t,e){var n=this;if(!this.Qs.has(e)){var r=e.tt(),i=e.X();t.gs((function(){n.Qs.add(e)}));var o={collectionId:r,parent:mp(i)};return id(t).put(o)}return np.resolve()},t.prototype.Us=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Ac(e),""],!1,!0);return id(t).rs(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(bp(o.parent))}return n}))},t}();function id(t){return jp(t,Cp.store)}var od={Ks:!1,Ws:0,js:0,Gs:0},sd=function(){function t(t,e,n){this.zs=t,this.Hs=e,this.Js=n}return t.Ys=function(e){return new t(e,t.Xs,t.Zs)},t}();function ad(t){return pi(this,void 0,void 0,(function(){return di(this,(function(e){if(t.code!==Nc.FAILED_PRECONDITION||t.message!==dp)throw t;return vc("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}sd.Xs=10,sd.Zs=1e3,sd.ti=new sd(41943040,sd.Xs,sd.Zs),sd.ei=new sd(-1,0,0);var ud=function(){function t(t,e){this.ni=t,this.si=e,this.ii={}}return t.prototype.get=function(t){var e=this.ni(t),n=this.ii[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];if(this.si(s,t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.ni(t),r=this.ii[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.si(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.ii[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.ni(t),n=this.ii[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.si(n[r][0],t))return 1===n.length?delete this.ii[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Hc(this.ii,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];t(s,a)}}))},t.prototype.et=function(){return Yc(this.ii)},t}(),cd=function(){function t(){this.ri=new ud((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.oi=!1}return t.prototype.ci=function(t){var e=this.ri.get(t);return e?e.readTime:Fc.min()},t.prototype.ai=function(t,e){this.ui(),this.ri.set(t.key,{hi:t,readTime:e})},t.prototype.li=function(t,e){void 0===e&&(e=null),this.ui(),this.ri.set(t,{hi:null,readTime:e})},t.prototype._i=function(t,e){this.ui();var n=this.ri.get(e);return void 0!==n?np.resolve(n.hi):this.fi(t,e)},t.prototype.getEntries=function(t,e){return this.di(t,e)},t.prototype.apply=function(t){return this.ui(),this.oi=!0,this.wi(t)},t.prototype.ui=function(){},t}();function ld(t,e,n){var r=t.store(Ip.store),i=t.store(Tp.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.hs({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){_c(1===a)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],p=Tp.key(e,f.key.path,n.batchId);o.push(i.delete(p)),c.push(f.key)}return np.Mn(o).next((function(){return c}))}function hd(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw bc();e=t.noDocument}return JSON.stringify(e).length}var fd=function(){function t(t,e,n,r){this.userId=t,this.Qt=e,this.Ei=n,this.Ti=r,this.Ii={}}return t.mi=function(e,n,r,i){return _c(""!==e.uid),new t(e.m()?e.uid:"",n,r,i)},t.prototype.Ai=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return dd(t).hs({index:Ip.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Ri=function(t,e,n,r){var i=this,o=vd(t),s=dd(t);return s.add({}).next((function(a){_c("number"==typeof a);for(var u=new Fp(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return Ff(t.Fs,e)})),i=n.mutations.map((function(e){return Ff(t.Fs,e)}));return new Ip(e,n.batchId,n.vs.toMillis(),r,i)}(i.Qt,i.userId,u),l=[],h=new Kh((function(t,e){return Tc(t.rt(),e.rt())})),f=0,p=r;f<p.length;f++){var d=p[f],v=Tp.key(i.userId,d.key.path,a);h=h.add(d.key.path.X()),l.push(s.put(c)),l.push(o.put(v,Tp.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Ei.qs(t,e))})),t.gs((function(){i.Ii[a]=u.keys()})),np.Mn(l).next((function(){return u}))}))},t.prototype.Pi=function(t,e){var n=this;return dd(t).get(e).next((function(t){return t?(_c(t.userId===n.userId),Qp(n.Qt,t)):null}))},t.prototype.yi=function(t,e){var n=this;return this.Ii[e]?np.resolve(this.Ii[e]):this.Pi(t,e).next((function(t){if(t){var r=t.keys();return n.Ii[e]=r,r}return null}))},t.prototype.gi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return dd(t).hs({index:Ip.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(_c(e.batchId>=r),o=Qp(n.Qt,e)),i.done()})).next((function(){return o}))},t.prototype.Vi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return dd(t).hs({index:Ip.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.pi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return dd(t).rs(Ip.userMutationsIndex,n).next((function(t){return t.map((function(t){return Qp(e.Qt,t)}))}))},t.prototype.bi=function(t,e){var n=this,r=Tp.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return vd(t).hs({range:i},(function(r,i,s){var a=r[0],u=r[1],c=r[2],l=bp(u);if(a===n.userId&&e.path.isEqual(l))return dd(t).get(c).next((function(t){if(!t)throw bc();_c(t.userId===n.userId),o.push(Qp(n.Qt,t))}));s.done()})).next((function(){return o}))},t.prototype.vi=function(t,e){var n=this,r=new Kh(Tc),i=[];return e.forEach((function(e){var o=Tp.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=vd(t).hs({range:s},(function(t,i,o){var s=t[0],a=t[1],u=t[2],c=bp(a);s===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()}));i.push(a)})),np.Mn(i).next((function(){return n.Si(t,r)}))},t.prototype.Di=function(t,e){var n=this,r=e.path,i=r.length+1,o=Tp.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Kh(Tc);return vd(t).hs({range:s},(function(t,e,o){var s=t[0],u=t[1],c=t[2],l=bp(u);s===n.userId&&r.nt(l)?l.length===i&&(a=a.add(c)):o.done()})).next((function(){return n.Si(t,a)}))},t.prototype.Si=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(dd(t).get(e).next((function(t){if(null===t)throw bc();_c(t.userId===n.userId),r.push(Qp(n.Qt,t))})))})),np.Mn(i).next((function(){return r}))},t.prototype.Ci=function(t,e){var n=this;return ld(t.ps,this.userId,e).next((function(r){return t.gs((function(){n.xi(e.batchId)})),np.forEach(r,(function(e){return n.Ti.Ni(t,e)}))}))},t.prototype.xi=function(t){delete this.Ii[t]},t.prototype.$i=function(t){var e=this;return this.Ai(t).next((function(n){if(!n)return np.resolve();var r=IDBKeyRange.lowerBound(Tp.prefixForUser(e.userId)),i=[];return vd(t).hs({range:r},(function(t,n,r){if(t[0]===e.userId){var o=bp(t[1]);i.push(o)}else r.done()})).next((function(){_c(0===i.length)}))}))},t.prototype.Fi=function(t,e){return pd(t,this.userId,e)},t.prototype.Oi=function(t){var e=this;return md(t).get(this.userId).next((function(t){return t||new Ep(e.userId,-1,"")}))},t}();function pd(t,e,n){var r=Tp.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return vd(t).hs({range:o,us:!0},(function(t,n,r){var o=t[0],a=t[1];t[2],o===e&&a===i&&(s=!0),r.done()})).next((function(){return s}))}function dd(t){return jp(t,Ip.store)}function vd(t){return jp(t,Tp.store)}function md(t){return jp(t,Ep.store)}var yd=function(){function t(t){this.ki=t}return t.prototype.next=function(){return this.ki+=2,this.ki},t.Mi=function(){return new t(0)},t.Li=function(){return new t(-1)},t}(),gd=function(){function t(t,e){this.Ti=t,this.Qt=e}return t.prototype.Bi=function(t){var e=this;return this.qi(t).next((function(n){var r=new yd(n.highestTargetId);return n.highestTargetId=r.next(),e.Ui(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Qi=function(t){return this.qi(t).next((function(t){return Fc.K(new jc(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.Ki=function(t){return this.qi(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.Wi=function(t,e,n){var r=this;return this.qi(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.j()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ui(t,i)}))},t.prototype.ji=function(t,e){var n=this;return this.Gi(t,e).next((function(){return n.qi(t).next((function(r){return r.targetCount+=1,n.zi(e,r),n.Ui(t,r)}))}))},t.prototype.Hi=function(t,e){return this.Gi(t,e)},t.prototype.Ji=function(t,e){var n=this;return this.Yi(t,e.targetId).next((function(){return bd(t).delete(e.targetId)})).next((function(){return n.qi(t)})).next((function(e){return _c(e.targetCount>0),e.targetCount-=1,n.Ui(t,e)}))},t.prototype.Xi=function(t,e,n){var r=this,i=0,o=[];return bd(t).hs((function(s,a){var u=Xp(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Ji(t,u)))})).next((function(){return np.Mn(o)})).next((function(){return i}))},t.prototype.In=function(t,e){return bd(t).hs((function(t,n){var r=Xp(n);e(r)}))},t.prototype.qi=function(t){return _d(t).get(Dp.key).next((function(t){return _c(null!==t),t}))},t.prototype.Ui=function(t,e){return _d(t).put(Dp.key,e)},t.prototype.Gi=function(t,e){return bd(t).put(Kp(this.Qt,e))},t.prototype.zi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.Zi=function(t){return this.qi(t).next((function(t){return t.targetCount}))},t.prototype.tr=function(t,e){var n=Sl(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return bd(t).hs({range:r,index:kp.queryTargetsIndexName},(function(t,n,r){var o=Xp(n);Nl(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.er=function(t,e,n){var r=this,i=[],o=wd(t);return e.forEach((function(e){var s=mp(e.path);i.push(o.put(new Op(n,s))),i.push(r.Ti.nr(t,n,e))})),np.Mn(i)},t.prototype.sr=function(t,e,n){var r=this,i=wd(t);return np.forEach(e,(function(e){var o=mp(e.path);return np.Mn([i.delete([n,o]),r.Ti.ir(t,n,e)])}))},t.prototype.Yi=function(t,e){var n=wd(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.rr=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=wd(t),i=af();return r.hs({range:n,us:!0},(function(t,e,n){var r=bp(t[1]),o=new Gc(r);i=i.add(o)})).next((function(){return i}))},t.prototype.Fi=function(t,e){var n=mp(e.path),r=IDBKeyRange.bound([n],[Ac(n)],!1,!0),i=0;return wd(t).hs({index:Op.documentTargetsIndex,us:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Sn=function(t,e){return bd(t).get(e).next((function(t){return t?Xp(t):null}))},t}();function bd(t){return jp(t,kp.store)}function _d(t){return jp(t,Dp.store)}function wd(t){return jp(t,Op.store)}function Ed(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],s=Tc(n,i);return 0===s?Tc(r,o):s}var Id=function(){function t(t){this.cr=t,this.buffer=new Kh(Ed),this.ar=0}return t.prototype.ur=function(){return++this.ar},t.prototype.hr=function(t){var e=[t,this.ur()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Ed(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Td=function(){function t(t,e){this.lr=t,this._s=e,this._r=!1,this.dr=null}return t.prototype.start=function(t){-1!==this.lr.params.zs&&this.wr(t)},t.prototype.stop=function(){this.dr&&(this.dr.cancel(),this.dr=null)},Object.defineProperty(t.prototype,"Er",{get:function(){return null!==this.dr},enumerable:!1,configurable:!0}),t.prototype.wr=function(t){var e=this,n=this._r?3e5:6e4;vc("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.dr=this._s.Tr("lru_garbage_collection",n,(function(){return pi(e,void 0,void 0,(function(){var e;return di(this,(function(n){switch(n.label){case 0:this.dr=null,this._r=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Ir(this.lr)];case 2:return n.sent(),[3,7];case 3:return ap(e=n.sent())?(vc("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,ad(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.wr(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),xd=function(){function t(t,e){this.mr=t,this.params=e}return t.prototype.Ar=function(t,e){return this.mr.Rr(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.Pr=function(t,e){var n=this;if(0===e)return np.resolve(Vc.q);var r=new Id(e);return this.mr.In(t,(function(t){return r.hr(t.sequenceNumber)})).next((function(){return n.mr.yr(t,(function(t){return r.hr(t)}))})).next((function(){return r.maxValue}))},t.prototype.Xi=function(t,e,n){return this.mr.Xi(t,e,n)},t.prototype.gr=function(t,e){return this.mr.gr(t,e)},t.prototype.Vr=function(t,e){var n=this;return-1===this.params.zs?(vc("LruGarbageCollector","Garbage collection skipped; disabled"),np.resolve(od)):this.pr(t).next((function(r){return r<n.params.zs?(vc("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.zs),od):n.br(t,e)}))},t.prototype.pr=function(t){return this.mr.pr(t)},t.prototype.br=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.Ar(t,this.params.Hs).next((function(e){return e>c.params.Js?(vc("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Js+" from "+e),r=c.params.Js):r=e,o=Date.now(),c.Pr(t,r)})).next((function(r){return n=r,s=Date.now(),c.Xi(t,n,e)})).next((function(e){return i=e,a=Date.now(),c.gr(t,n)})).next((function(t){return u=Date.now(),dc()<=Mi.DEBUG&&vc("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),np.resolve({Ks:!0,Ws:r,js:i,Gs:t})}))},t}(),Ad=function(){function t(t,e){this.db=t,this.lr=function(t,e){return new xd(t,e)}(this,e)}return t.prototype.Rr=function(t){var e=this.vr(t);return this.db.Sr().Zi(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.vr=function(t){var e=0;return this.yr(t,(function(t){e++})).next((function(){return e}))},t.prototype.In=function(t,e){return this.db.Sr().In(t,e)},t.prototype.yr=function(t,e){return this.Dr(t,(function(t,n){return e(n)}))},t.prototype.nr=function(t,e,n){return Sd(t,n)},t.prototype.ir=function(t,e,n){return Sd(t,n)},t.prototype.Xi=function(t,e,n){return this.db.Sr().Xi(t,e,n)},t.prototype.Ni=function(t,e){return Sd(t,e)},t.prototype.Cr=function(t,e){return function(t,e){var n=!1;return md(t).ls((function(r){return pd(t,r,e).next((function(t){return t&&(n=!0),np.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.gr=function(t,e){var n=this,r=this.db.$r().Nr(),i=[],o=0;return this.Dr(t,(function(s,a){if(a<=e){var u=n.Cr(t,s).next((function(e){if(!e)return o++,r._i(t,s).next((function(){return r.li(s),wd(t).delete([0,mp(s.path)])}))}));i.push(u)}})).next((function(){return np.Mn(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.kt(t.bs);return this.db.Sr().Hi(t,n)},t.prototype.Fr=function(t,e){return Sd(t,e)},t.prototype.Dr=function(t,e){var n,r=wd(t),i=Vc.q;return r.hs({index:Op.documentTargetsIndex},(function(t,r){var o=t[0],s=(t[1],r.path),a=r.sequenceNumber;0===o?(i!==Vc.q&&e(new Gc(bp(n)),i),i=a,n=s):i=Vc.q})).next((function(){i!==Vc.q&&e(new Gc(bp(n)),i)}))},t.prototype.pr=function(t){return this.db.$r().Or(t)},t}();function Sd(t,e){return wd(t).put(function(t,e){return new Op(0,mp(t.path),e)}(e,t.bs))}var Nd=function(){function t(t,e){this.Qt=t,this.Ei=e}return t.prototype.ai=function(t,e,n){return Dd(t).put(Cd(e),n)},t.prototype.li=function(t,e){var n=Dd(t),r=Cd(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.kr(t,r)}))},t.prototype._i=function(t,e){var n=this;return Dd(t).get(Cd(e)).next((function(t){return n.Mr(t)}))},t.prototype.Lr=function(t,e){var n=this;return Dd(t).get(Cd(e)).next((function(t){var e=n.Mr(t);return e?{hi:e,size:hd(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=tf();return this.Br(t,e,(function(t,e){var i=n.Mr(e);r=r.zt(t,i)})).next((function(){return r}))},t.prototype.qr=function(t,e){var n=this,r=tf(),i=new Yh(Gc.H);return this.Br(t,e,(function(t,e){var o=n.Mr(e);o?(r=r.zt(t,o),i=i.zt(t,hd(e))):(r=r.zt(t,null),i=i.zt(t,0))})).next((function(){return{Ur:r,Qr:i}}))},t.prototype.Br=function(t,e,n){if(e.et())return np.resolve();var r=IDBKeyRange.bound(e.first().path.it(),e.last().path.it()),i=e.te(),o=i.oe();return Dd(t).hs({range:r},(function(t,e,r){for(var s=Gc.Et(t);o&&Gc.H(o,s)<0;)n(o,null),o=i.oe();o&&o.isEqual(s)&&(n(o,e),o=i.ce()?i.oe():null),o?r.ss(o.path.it()):r.done()})).next((function(){for(;o;)n(o,null),o=i.ce()?i.oe():null}))},t.prototype.Kr=function(t,e,n){var r=this,i=nf(),o=e.path.length+1,s={};if(n.isEqual(Fc.min())){var a=e.path.it();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.it(),c=Gp(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=Sp.collectionReadTimeIndex}return Dd(t).hs(s,(function(t,n,s){if(t.length===o){var a=zp(r.Qt,n);e.path.nt(a.key.path)?a instanceof El&&oh(e,a)&&(i=i.zt(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.Nr=function(t){return new kd(this,!!t&&t.Wr)},t.prototype.Or=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Od(t).get(Np.key).next((function(t){return _c(!!t),t}))},t.prototype.kr=function(t,e){return Od(t).put(Np.key,e)},t.prototype.Mr=function(t){if(t){var e=zp(this.Qt,t);return e instanceof Il&&e.version.isEqual(Fc.min())?null:e}return null},t}(),kd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jr=e,r.Wr=n,r.Gr=new ud((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return hi(e,t),e.prototype.wi=function(t){var e=this,n=[],r=0,i=new Kh((function(t,e){return Tc(t.rt(),e.rt())}));return this.ri.forEach((function(o,s){var a=e.Gr.get(o);if(s.hi){var u=Bp(e.jr.Qt,s.hi,e.ci(o));i=i.add(o.path.X());var c=hd(u);r+=c-a,n.push(e.jr.ai(t,o,u))}else if(r-=a,e.Wr){var l=Bp(e.jr.Qt,new Il(o,Fc.min()),e.ci(o));n.push(e.jr.ai(t,o,l))}else n.push(e.jr.li(t,o))})),i.forEach((function(r){n.push(e.jr.Ei.qs(t,r))})),n.push(this.jr.updateMetadata(t,r)),np.Mn(n)},e.prototype.fi=function(t,e){var n=this;return this.jr.Lr(t,e).next((function(t){return null===t?(n.Gr.set(e,0),null):(n.Gr.set(e,t.size),t.hi)}))},e.prototype.di=function(t,e){var n=this;return this.jr.qr(t,e).next((function(t){var e=t.Ur;return t.Qr.forEach((function(t,e){n.Gr.set(t,e)})),e}))},e}(cd);function Od(t){return jp(t,Np.store)}function Dd(t){return jp(t,Sp.store)}function Cd(t){return t.path.it()}var Pd=function(){function t(t){this.Qt=t}return t.prototype.Jn=function(t,e,n,r){var i=this;_c(n<r&&n>=0&&r<=11);var o=new rp("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(wp.store)}(t),function(t){t.createObjectStore(Ep.store,{keyPath:Ep.keyPath}),t.createObjectStore(Ip.store,{keyPath:Ip.keyPath,autoIncrement:!0}).createIndex(Ip.userMutationsIndex,Ip.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Tp.store)}(t),Rd(t),function(t){t.createObjectStore(Sp.store)}(t));var s=np.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Op.store),t.deleteObjectStore(kp.store),t.deleteObjectStore(Dp.store)}(t),Rd(t)),s=s.next((function(){return function(t){var e=t.store(Dp.store),n=new Dp(0,0,Fc.min().j(),0);return e.put(Dp.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(Ip.store).rs().next((function(n){t.deleteObjectStore(Ip.store),t.createObjectStore(Ip.store,{keyPath:Ip.keyPath,autoIncrement:!0}).createIndex(Ip.userMutationsIndex,Ip.userMutationsKeyPath,{unique:!0});var r=e.store(Ip.store),i=n.map((function(t){return r.put(t)}));return np.Mn(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(Pp.store,{keyPath:Pp.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.zr(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(Np.store)}(t),i.Hr(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.Jr(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.Yr(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Sp.store);e.createIndex(Sp.readTimeIndex,Sp.readTimeIndexPath,{unique:!1}),e.createIndex(Sp.collectionReadTimeIndex,Sp.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.Xr(o)}))),n<11&&r>=11&&(s=s.next((function(){!function(t){t.createObjectStore(Rp.store,{keyPath:Rp.keyPath})}(t),function(t){t.createObjectStore(Lp.store,{keyPath:Lp.keyPath})}(t)}))),s},t.prototype.Hr=function(t){var e=0;return t.store(Sp.store).hs((function(t,n){e+=hd(n)})).next((function(){var n=new Np(e);return t.store(Np.store).put(Np.key,n)}))},t.prototype.zr=function(t){var e=this,n=t.store(Ep.store),r=t.store(Ip.store);return n.rs().next((function(n){return np.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.rs(Ip.userMutationsIndex,i).next((function(r){return np.forEach(r,(function(r){_c(r.userId===n.userId);var i=Qp(e.Qt,r);return ld(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.Jr=function(t){var e=t.store(Op.store),n=t.store(Sp.store);return t.store(Dp.store).get(Dp.key).next((function(t){var r=[];return n.hs((function(n,i){var o=new qc(n),s=function(t){return[0,mp(t)]}(o);r.push(e.get(s).next((function(n){return n?np.resolve():function(n){return e.put(new Op(0,mp(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return np.Mn(r)}))}))},t.prototype.Yr=function(t,e){t.createObjectStore(Cp.store,{keyPath:Cp.keyPath});var n=e.store(Cp.store),r=new nd,i=function(t){if(r.add(t)){var e=t.tt(),i=t.X();return n.put({collectionId:e,parent:mp(i)})}};return e.store(Sp.store).hs({us:!0},(function(t,e){var n=new qc(t);return i(n.X())})).next((function(){return e.store(Tp.store).hs({us:!0},(function(t,e){t[0];var n=t[1],r=(t[2],bp(n));return i(r.X())}))}))},t.prototype.Xr=function(t){var e=this,n=t.store(kp.store);return n.hs((function(t,r){var i=Xp(r),o=Kp(e.Qt,i);return n.put(o)}))},t}();function Rd(t){t.createObjectStore(Op.store,{keyPath:Op.keyPath}).createIndex(Op.documentTargetsIndex,Op.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(kp.store,{keyPath:kp.keyPath}).createIndex(kp.queryTargetsIndexName,kp.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Dp.store)}var Ld="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Md=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Zr=o,this.window=s,this.document=a,this.eo=c,this.no=l,this.so=null,this.io=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ro=null,this.inForeground=!1,this.oo=null,this.co=null,this.ao=Number.NEGATIVE_INFINITY,this.uo=function(t){return Promise.resolve()},!t.Kn())throw new kc(Nc.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ti=new Ad(this,i),this.ho=n+"main",this.Qt=new qp(u),this.lo=new ip(this.ho,11,new Pd(this.Qt)),this._o=new gd(this.Ti,this.Qt),this.Ei=new rd,this.fo=function(t,e){return new Nd(t,e)}(this.Qt,this.Ei),this.wo=new Jp,this.window&&this.window.localStorage?this.Eo=this.window.localStorage:(this.Eo=null,!1===l&&mc("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.To().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new kc(Nc.FAILED_PRECONDITION,Ld);return t.Io(),t.mo(),t.Ao(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t._o.Ki(e)}))})).then((function(e){t.so=new Vc(e,t.eo)})).then((function(){t.io=!0})).catch((function(e){return t.lo&&t.lo.close(),Promise.reject(e)}))},t.prototype.Ro=function(t){var e=this;return this.uo=function(n){return pi(e,void 0,void 0,(function(){return di(this,(function(e){return this.Er?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.Po=function(t){var e=this;this.lo.Xn((function(n){return pi(e,void 0,void 0,(function(){return di(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.yo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Zr.Ps((function(){return pi(e,void 0,void 0,(function(){return di(this,(function(t){switch(t.label){case 0:return this.Er?[4,this.To()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.To=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return jd(e).put(new Pp(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Vo(e).next((function(e){e||(t.isPrimary=!1,t.Zr.po((function(){return t.uo(!1)})))}))})).next((function(){return t.bo(e)})).next((function(n){return t.isPrimary&&!n?t.vo(e).next((function(){return!1})):!!n&&t.So(e).next((function(){return!0}))}))})).catch((function(e){if(ap(e))return vc("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return vc("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Zr.po((function(){return t.uo(e)})),t.isPrimary=e}))},t.prototype.Vo=function(t){var e=this;return Vd(t).get(wp.key).next((function(t){return np.resolve(e.Do(t))}))},t.prototype.Co=function(t){return jd(t).delete(this.clientId)},t.prototype.xo=function(){return pi(this,void 0,void 0,(function(){var t,e,n,r,i=this;return di(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.No(this.ao,18e5)?[3,2]:(this.ao=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=jp(t,Pp.store);return e.rs().next((function(t){var n=i.$o(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return np.forEach(r,(function(t){return e.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=o.sent(),this.Eo)for(e=0,n=t;e<n.length;e++)r=n[e],this.Eo.removeItem(this.Fo(r.clientId));o.label=2;case 2:return[2]}}))}))},t.prototype.Ao=function(){var t=this;this.co=this.Zr.Tr("client_metadata_refresh",4e3,(function(){return t.To().then((function(){return t.xo()})).then((function(){return t.Ao()}))}))},t.prototype.Do=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.bo=function(t){var e=this;return this.no?np.resolve(!0):Vd(t).get(wp.key).next((function(n){if(null!==n&&e.No(n.leaseTimestampMs,5e3)&&!e.Oo(n.ownerId)){if(e.Do(n)&&e.networkEnabled)return!0;if(!e.Do(n)){if(!n.allowTabSynchronization)throw new kc(Nc.FAILED_PRECONDITION,Ld);return!1}}return!(!e.networkEnabled||!e.inForeground)||jd(t).rs().next((function(t){return void 0===e.$o(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&vc("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.ko=function(){return pi(this,void 0,void 0,(function(){var t=this;return di(this,(function(e){switch(e.label){case 0:return this.io=!1,this.Mo(),this.co&&(this.co.cancel(),this.co=null),this.Lo(),this.Bo(),[4,this.lo.runTransaction("shutdown","readwrite",[wp.store,Pp.store],(function(e){var n=new Vp(e,Vc.q);return t.vo(n).next((function(){return t.Co(n)}))}))];case 1:return e.sent(),this.lo.close(),this.qo(),[2]}}))}))},t.prototype.$o=function(t,e){var n=this;return t.filter((function(t){return n.No(t.updateTimeMs,e)&&!n.Oo(t.clientId)}))},t.prototype.Uo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return jd(e).rs().next((function(e){return t.$o(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Qo=function(t){return fd.mi(t,this.Qt,this.Ei,this.Ti)},t.prototype.Sr=function(){return this._o},t.prototype.$r=function(){return this.fo},t.prototype.Ko=function(){return this.Ei},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(t,e,n){var r=this;vc("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.lo.runTransaction(t,o,Mp,(function(o){return i=new Vp(o,r.so?r.so.next():Vc.q),"readwrite-primary"===e?r.Vo(i).next((function(t){return!!t||r.bo(i)})).next((function(e){if(!e)throw mc("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Zr.po((function(){return r.uo(!1)})),new kc(Nc.FAILED_PRECONDITION,dp);return n(i)})).next((function(t){return r.So(i).next((function(){return t}))})):r.jo(i).next((function(){return n(i)}))})).then((function(t){return i.Vs(),t}))},t.prototype.jo=function(t){var e=this;return Vd(t).get(wp.key).next((function(t){if(null!==t&&e.No(t.leaseTimestampMs,5e3)&&!e.Oo(t.ownerId)&&!e.Do(t)&&!(e.no||e.allowTabSynchronization&&t.allowTabSynchronization))throw new kc(Nc.FAILED_PRECONDITION,Ld)}))},t.prototype.So=function(t){var e=new wp(this.clientId,this.allowTabSynchronization,Date.now());return Vd(t).put(wp.key,e)},t.Kn=function(){return ip.Kn()},t.prototype.vo=function(t){var e=this,n=Vd(t);return n.get(wp.key).next((function(t){return e.Do(t)?(vc("IndexedDbPersistence","Releasing primary lease."),n.delete(wp.key)):np.resolve()}))},t.prototype.No=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(mc("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Io=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.oo=function(){t.Zr.Ps((function(){return t.inForeground="visible"===t.document.visibilityState,t.To()}))},this.document.addEventListener("visibilitychange",this.oo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Lo=function(){this.oo&&(this.document.removeEventListener("visibilitychange",this.oo),this.oo=null)},t.prototype.mo=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ro=function(){e.Mo(),e.Zr.Ps((function(){return e.ko()}))},this.window.addEventListener("unload",this.ro))},t.prototype.Bo=function(){this.ro&&(this.window.removeEventListener("unload",this.ro),this.ro=null)},t.prototype.Oo=function(t){var e;try{var n=null!==(null===(e=this.Eo)||void 0===e?void 0:e.getItem(this.Fo(t)));return vc("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return mc("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.Mo=function(){if(this.Eo)try{this.Eo.setItem(this.Fo(this.clientId),String(Date.now()))}catch(t){mc("Failed to set zombie client id.",t)}},t.prototype.qo=function(){if(this.Eo)try{this.Eo.removeItem(this.Fo(this.clientId))}catch(t){}},t.prototype.Fo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Vd(t){return jp(t,wp.store)}function jd(t){return jp(t,Pp.store)}function Fd(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Ud=function(t,e){this.progress=t,this.Go=e},qd=function(){function t(t,e,n){this.fo=t,this.zo=e,this.Ei=n}return t.prototype.Ho=function(t,e){var n=this;return this.zo.bi(t,e).next((function(r){return n.Jo(t,e,r)}))},t.prototype.Jo=function(t,e,n){return this.fo._i(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].Cs(e,t);return t}))},t.prototype.Yo=function(t,e,n){var r=tf();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].Cs(t,e);r=r.zt(t,e)})),r},t.prototype.Xo=function(t,e){var n=this;return this.fo.getEntries(t,e).next((function(e){return n.Zo(t,e)}))},t.prototype.Zo=function(t,e){var n=this;return this.zo.vi(t,e).next((function(r){var i=n.Yo(t,e,r),o=Zh();return i.forEach((function(t,e){e||(e=new Il(t,Fc.min())),o=o.zt(t,e)})),o}))},t.prototype.Kr=function(t,e,n){return function(t){return Gc.wt(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.tc(t,e.path):Jl(e)?this.ec(t,e,n):this.nc(t,e,n)},t.prototype.tc=function(t,e){return this.Ho(t,new Gc(e)).next((function(t){var e=nf();return t instanceof El&&(e=e.zt(t.key,t)),e}))},t.prototype.ec=function(t,e,n){var r=this,i=e.collectionGroup,o=nf();return this.Ei.Us(t,i).next((function(s){return np.forEach(s,(function(s){var a=function(t,e){return new $l(e,null,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.nc(t,a,n).next((function(t){t.forEach((function(t,e){o=o.zt(t,e)}))}))})).next((function(){return o}))}))},t.prototype.nc=function(t,e,n){var r,i,o=this;return this.fo.Kr(t,e,n).next((function(n){return r=n,o.zo.Di(t,e)})).next((function(e){return i=e,o.sc(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=Oh(u,r.get(c),o.vs);r=l instanceof El?r.zt(c,l):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){oh(e,n)||(r=r.remove(t))})),r}))},t.prototype.sc=function(t,e,n){for(var r=af(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof Lh&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.fo.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof El&&(c=c.zt(t,e))})),c}))},t}(),zd=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.ic=n,this.rc=r}return t.oc=function(e,n){for(var r=af(),i=af(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Bd=function(){function t(){}return t.prototype.cc=function(t){this.ac=t},t.prototype.Kr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.xt.length||1===t.xt.length&&t.xt[0].field.ut())}(e)||n.isEqual(Fc.min())?this.uc(t,e):this.ac.Xo(t,r).next((function(o){var s=i.hc(e,o);return(Ql(e)||Xl(e))&&i.lc(e.limitType,s,r,n)?i.uc(t,e):(dc()<=Mi.DEBUG&&vc("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),ih(e)),i.ac.Kr(t,e,n).next((function(t){return s.forEach((function(e){t=t.zt(e.key,e)})),t})))}))},t.prototype.hc=function(t,e){var n=new Kh(sh(t));return e.forEach((function(e,r){r instanceof El&&oh(t,r)&&(n=n.add(r))})),n},t.prototype.lc=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version._(r)>0)},t.prototype.uc=function(t,e){return dc()<=Mi.DEBUG&&vc("QueryEngine","Using full collection scan to execute query:",ih(e)),this.ac.Kr(t,e,Fc.min())},t}(),Gd=function(){function t(t,e,n,r){this.persistence=t,this._c=e,this.Qt=r,this.fc=new Yh(Tc),this.dc=new ud((function(t){return Sl(t)}),Nl),this.wc=Fc.min(),this.zo=t.Qo(n),this.Ec=t.$r(),this._o=t.Sr(),this.Tc=new qd(this.Ec,this.zo,this.persistence.Ko()),this.wo=t.Wo(),this._c.cc(this.Tc)}return t.prototype.Ir=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.Vr(n,e.fc)}))},t}();function $d(t,e,n,r){return new Gd(t,e,n,r)}function Hd(t,e){return pi(this,void 0,void 0,(function(){var n,r,i,o;return di(this,(function(s){switch(s.label){case 0:return n=wc(t),r=n.zo,i=n.Tc,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n.zo.pi(t).next((function(s){return o=s,r=n.persistence.Qo(e),i=new qd(n.Ec,r,n.persistence.Ko()),r.pi(t)})).next((function(e){for(var n=[],r=[],s=af(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];s=s.add(f.key)}}for(var p=0,d=e;p<d.length;p++){var v=d[p];r.push(v.batchId);for(var m=0,y=v.mutations;m<y.length;m++){var g=y[m];s=s.add(g.key)}}return i.Xo(t,s).next((function(t){return{Ic:t,mc:n,Ac:r}}))}))}))];case 1:return o=s.sent(),[2,(n.zo=r,n.Tc=i,n._c.cc(n.Tc),o)]}}))}))}function Yd(t,e){var n=wc(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Ec.Nr({Wr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=np.resolve();return o.forEach((function(t){s=s.next((function(){return r._i(e,t)})).next((function(e){var o=e,s=n.$s.get(t);_c(null!==s),(!o||o.version._(s)<0)&&(o=i.Ss(t,o,n))&&r.ai(o,n.Ns)}))})),s.next((function(){return t.zo.Ci(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.zo.$i(t)})).next((function(){return n.Tc.Xo(t,r)}))}))}function Qd(t){var e=wc(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e._o.Qi(t)}))}function Xd(t,e){var n=wc(t),r=e.Ot,i=n.fc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Ec.Nr({Wr:!0});i=n.fc;var s=[];e.$e.forEach((function(e,o){var a=i.get(o);if(a){s.push(n._o.sr(t,e.Qe,o).next((function(){return n._o.er(t,e.qe,o)})));var u=e.resumeToken;if(u.l()>0){var c=a.Mt(u,r).kt(t.bs);i=i.zt(o,c),function(t,e,n){return _c(e.resumeToken.l()>0),0===t.resumeToken.l()||e.Ot.W()-t.Ot.W()>=3e8||n.qe.size+n.Ue.size+n.Qe.size>0}(a,c,e)&&s.push(n._o.Hi(t,c))}}}));var a=Zh();if(e.Oe.forEach((function(r,i){e.ke.has(r)&&s.push(n.persistence.Ti.Fr(t,r))})),s.push(Kd(t,o,e.Oe,r,void 0).next((function(t){a=t}))),!r.isEqual(Fc.min())){var u=n._o.Qi(t).next((function(e){return n._o.Wi(t,t.bs,r)}));s.push(u)}return np.Mn(s).next((function(){return o.apply(t)})).next((function(){return n.Tc.Zo(t,a)}))})).then((function(t){return n.fc=i,t}))}function Kd(t,e,n,r,i){var o=af();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=Zh();return n.forEach((function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s instanceof Il&&s.version.isEqual(Fc.min())?(e.li(n,u),o=o.zt(n,s)):null==a||s.version._(a.version)>0||0===s.version._(a.version)&&a.hasPendingWrites?(e.ai(s,u),o=o.zt(n,s)):vc("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),o}))}function Wd(t,e){var n=wc(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.zo.gi(t,e)}))}function Jd(t,e){var n=wc(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n._o.tr(t,e).next((function(i){return i?(r=i,np.resolve(r)):n._o.Bi(t).next((function(i){return r=new uh(e,i,0,t.bs),n._o.ji(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.fc.get(t.targetId);return(null===r||t.Ot._(r.Ot)>0)&&(n.fc=n.fc.zt(t.targetId,t),n.dc.set(e,t.targetId)),t}))}function Zd(t,e,n){return pi(this,void 0,void 0,(function(){var r,i,o,s;return di(this,(function(a){switch(a.label){case 0:r=wc(t),i=r.fc.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.Ti.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!ap(s=a.sent()))throw s;return vc("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.fc=r.fc.remove(e),r.dc.delete(i.target),[2]}}))}))}function tv(t,e,n){var r=wc(t),i=Fc.min(),o=af();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=wc(t),i=r.dc.get(n);return void 0!==i?np.resolve(r.fc.get(i)):r._o.tr(e,n)}(r,t,th(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r._o.rr(t,e.targetId).next((function(t){o=t}))})).next((function(){return r._c.Kr(t,e,n?i:Fc.min(),n?o:af())})).next((function(t){return{documents:t,Rc:o}}))}))}function ev(t,e){var n=wc(t),r=wc(n._o),i=n.fc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Sn(t,e).next((function(t){return t?t.target:null}))}))}function nv(t){var e=wc(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=wc(t),i=Zh(),o=Gp(n),s=Dd(e),a=IDBKeyRange.lowerBound(o,!0);return s.hs({index:Sp.readTimeIndex,range:a},(function(t,e){var n=zp(r.Qt,e);i=i.zt(n.key,n),o=e.readTime})).next((function(){return{Go:i,readTime:$p(o)}}))}(e.Ec,t,e.wc)})).then((function(t){var n=t.Go,r=t.readTime;return e.wc=r,n}))}function rv(t){return pi(this,void 0,void 0,(function(){var e;return di(this,(function(n){return[2,(e=wc(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=Dd(t),n=Fc.min();return e.hs({index:Sp.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=$p(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.wc=t}))]}))}))}function iv(t,e,n,r){return pi(this,void 0,void 0,(function(){var i,o,s,a,u,c,l,h,f,p;return di(this,(function(d){switch(d.label){case 0:for(i=wc(t),o=af(),s=Zh(),a=of(),u=0,c=n;u<c.length;u++)l=c[u],h=e.Pc(l.metadata.name),l.document&&(o=o.add(h)),s=s.zt(h,e.yc(l)),a=a.zt(h,e.gc(l.metadata.readTime));return f=i.Ec.Nr({Wr:!0}),[4,Jd(i,function(t){return th(Yl(qc.ot("__bundle__/docs/"+t)))}(r))];case 1:return p=d.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return Kd(t,f,s,Fc.min(),a).next((function(e){return f.apply(t),e})).next((function(e){return i._o.Yi(t,p.targetId).next((function(){return i._o.er(t,o,p.targetId)})).next((function(){return i.Tc.Zo(t,e)}))}))}))]}}))}))}function ov(t,e,n){return void 0===n&&(n=af()),pi(this,void 0,void 0,(function(){var r,i;return di(this,(function(o){switch(o.label){case 0:return[4,Jd(t,th(Wp(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=wc(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var o=Nf(e.readTime);if(r.Ot._(o)>=0)return i.wo.Ls(t,e);var s=r.Mt(Sc.T,o);return i.fc=i.fc.zt(s.targetId,s),i._o.Hi(t,s).next((function(){return i._o.Yi(t,r.targetId)})).next((function(){return i._o.er(t,n,r.targetId)})).next((function(){return i.wo.Ls(t,e)}))}))]}}))}))}var sv=function(){function t(t){this.Qt=t,this.Vc=new Map,this.bc=new Map}return t.prototype.Os=function(t,e){return np.resolve(this.Vc.get(e))},t.prototype.ks=function(t,e){var n;return this.Vc.set(e.id,{id:(n=e).id,version:n.version,createTime:Nf(n.createTime)}),np.resolve()},t.prototype.Ms=function(t,e){return np.resolve(this.bc.get(e))},t.prototype.Ls=function(t,e){return this.bc.set(e.name,function(t){return{name:t.name,query:Wp(t.bundledQuery),readTime:Nf(t.readTime)}}(e)),np.resolve()},t}(),av=function(){function t(){this.vc=new Kh(uv.Sc),this.Dc=new Kh(uv.Cc)}return t.prototype.et=function(){return this.vc.et()},t.prototype.nr=function(t,e){var n=new uv(t,e);this.vc=this.vc.add(n),this.Dc=this.Dc.add(n)},t.prototype.xc=function(t,e){var n=this;t.forEach((function(t){return n.nr(t,e)}))},t.prototype.ir=function(t,e){this.Nc(new uv(t,e))},t.prototype.$c=function(t,e){var n=this;t.forEach((function(t){return n.ir(t,e)}))},t.prototype.Fc=function(t){var e=this,n=new Gc(new qc([])),r=new uv(n,t),i=new uv(n,t+1),o=[];return this.Dc.me([r,i],(function(t){e.Nc(t),o.push(t.key)})),o},t.prototype.Oc=function(){var t=this;this.vc.forEach((function(e){return t.Nc(e)}))},t.prototype.Nc=function(t){this.vc=this.vc.delete(t),this.Dc=this.Dc.delete(t)},t.prototype.kc=function(t){var e=new Gc(new qc([])),n=new uv(e,t),r=new uv(e,t+1),i=af();return this.Dc.me([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.Fi=function(t){var e=new uv(t,0),n=this.vc.Re(e);return null!==n&&t.isEqual(n.key)},t}(),uv=function(){function t(t,e){this.key=t,this.Mc=e}return t.Sc=function(t,e){return Gc.H(t.key,e.key)||Tc(t.Mc,e.Mc)},t.Cc=function(t,e){return Tc(t.Mc,e.Mc)||Gc.H(t.key,e.key)},t}(),cv=function(){function t(t,e){this.Ei=t,this.Ti=e,this.zo=[],this.Lc=1,this.Bc=new Kh(uv.Sc)}return t.prototype.Ai=function(t){return np.resolve(0===this.zo.length)},t.prototype.Ri=function(t,e,n,r){var i=this.Lc;this.Lc++,this.zo.length>0&&this.zo[this.zo.length-1];var o=new Fp(i,e,n,r);this.zo.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.Bc=this.Bc.add(new uv(u.key,i)),this.Ei.qs(t,u.key.path.X())}return np.resolve(o)},t.prototype.Pi=function(t,e){return np.resolve(this.qc(e))},t.prototype.gi=function(t,e){var n=e+1,r=this.Uc(n),i=r<0?0:r;return np.resolve(this.zo.length>i?this.zo[i]:null)},t.prototype.Vi=function(){return np.resolve(0===this.zo.length?-1:this.Lc-1)},t.prototype.pi=function(t){return np.resolve(this.zo.slice())},t.prototype.bi=function(t,e){var n=this,r=new uv(e,0),i=new uv(e,Number.POSITIVE_INFINITY),o=[];return this.Bc.me([r,i],(function(t){var e=n.qc(t.Mc);o.push(e)})),np.resolve(o)},t.prototype.vi=function(t,e){var n=this,r=new Kh(Tc);return e.forEach((function(t){var e=new uv(t,0),i=new uv(t,Number.POSITIVE_INFINITY);n.Bc.me([e,i],(function(t){r=r.add(t.Mc)}))})),np.resolve(this.Qc(r))},t.prototype.Di=function(t,e){var n=e.path,r=n.length+1,i=n;Gc.wt(i)||(i=i.child(""));var o=new uv(new Gc(i),0),s=new Kh(Tc);return this.Bc.Ae((function(t){var e=t.key.path;return!!n.nt(e)&&(e.length===r&&(s=s.add(t.Mc)),!0)}),o),np.resolve(this.Qc(s))},t.prototype.Qc=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.qc(t);null!==r&&n.push(r)})),n},t.prototype.Ci=function(t,e){var n=this;_c(0===this.Kc(e.batchId,"removed")),this.zo.shift();var r=this.Bc;return np.forEach(e.mutations,(function(i){var o=new uv(i.key,e.batchId);return r=r.delete(o),n.Ti.Ni(t,i.key)})).next((function(){n.Bc=r}))},t.prototype.xi=function(t){},t.prototype.Fi=function(t,e){var n=new uv(e,0),r=this.Bc.Re(n);return np.resolve(e.isEqual(r&&r.key))},t.prototype.$i=function(t){return this.zo.length,np.resolve()},t.prototype.Kc=function(t,e){return this.Uc(t)},t.prototype.Uc=function(t){return 0===this.zo.length?0:t-this.zo[0].batchId},t.prototype.qc=function(t){var e=this.Uc(t);return e<0||e>=this.zo.length?null:this.zo[e]},t}(),lv=function(){function t(t,e){this.Ei=t,this.Wc=e,this.docs=new Yh(Gc.H),this.size=0}return t.prototype.ai=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.Wc(e);return this.docs=this.docs.zt(r,{hi:e,size:s,readTime:n}),this.size+=s-o,this.Ei.qs(t,r.path.X())},t.prototype.li=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype._i=function(t,e){var n=this.docs.get(e);return np.resolve(n?n.hi:null)},t.prototype.getEntries=function(t,e){var n=this,r=tf();return e.forEach((function(t){var e=n.docs.get(t);r=r.zt(t,e?e.hi:null)})),np.resolve(r)},t.prototype.Kr=function(t,e,n){for(var r=nf(),i=new Gc(e.path.child("")),o=this.docs.ee(i);o.ce();){var s=o.oe(),a=s.key,u=s.value,c=u.hi,l=u.readTime;if(!e.path.nt(a.path))break;l._(n)<=0||c instanceof El&&oh(e,c)&&(r=r.zt(c.key,c))}return np.resolve(r)},t.prototype.jc=function(t,e){return np.forEach(this.docs,(function(t){return e(t)}))},t.prototype.Nr=function(t){return new hv(this)},t.prototype.Or=function(t){return np.resolve(this.size)},t}(),hv=function(t){function e(e){var n=this;return(n=t.call(this)||this).jr=e,n}return hi(e,t),e.prototype.wi=function(t){var e=this,n=[];return this.ri.forEach((function(r,i){i&&i.hi?n.push(e.jr.ai(t,i.hi,e.ci(r))):e.jr.li(r)})),np.Mn(n)},e.prototype.fi=function(t,e){return this.jr._i(t,e)},e.prototype.di=function(t,e){return this.jr.getEntries(t,e)},e}(cd),fv=function(){function t(t){this.persistence=t,this.Gc=new ud((function(t){return Sl(t)}),Nl),this.lastRemoteSnapshotVersion=Fc.min(),this.highestTargetId=0,this.zc=0,this.Hc=new av,this.targetCount=0,this.Jc=yd.Mi()}return t.prototype.In=function(t,e){return this.Gc.forEach((function(t,n){return e(n)})),np.resolve()},t.prototype.Qi=function(t){return np.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Ki=function(t){return np.resolve(this.zc)},t.prototype.Bi=function(t){return this.highestTargetId=this.Jc.next(),np.resolve(this.highestTargetId)},t.prototype.Wi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.zc&&(this.zc=e),np.resolve()},t.prototype.Gi=function(t){this.Gc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Jc=new yd(e),this.highestTargetId=e),t.sequenceNumber>this.zc&&(this.zc=t.sequenceNumber)},t.prototype.ji=function(t,e){return this.Gi(e),this.targetCount+=1,np.resolve()},t.prototype.Hi=function(t,e){return this.Gi(e),np.resolve()},t.prototype.Ji=function(t,e){return this.Gc.delete(e.target),this.Hc.Fc(e.targetId),this.targetCount-=1,np.resolve()},t.prototype.Xi=function(t,e,n){var r=this,i=0,o=[];return this.Gc.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.Gc.delete(s),o.push(r.Yi(t,a.targetId)),i++)})),np.Mn(o).next((function(){return i}))},t.prototype.Zi=function(t){return np.resolve(this.targetCount)},t.prototype.tr=function(t,e){var n=this.Gc.get(e)||null;return np.resolve(n)},t.prototype.er=function(t,e,n){return this.Hc.xc(e,n),np.resolve()},t.prototype.sr=function(t,e,n){this.Hc.$c(e,n);var r=this.persistence.Ti,i=[];return r&&e.forEach((function(e){i.push(r.Ni(t,e))})),np.Mn(i)},t.prototype.Yi=function(t,e){return this.Hc.Fc(e),np.resolve()},t.prototype.rr=function(t,e){var n=this.Hc.kc(e);return np.resolve(n)},t.prototype.Fi=function(t,e){return np.resolve(this.Hc.Fi(e))},t}(),pv=function(){function t(t,e){var n=this;this.Yc={},this.so=new Vc(0),this.io=!1,this.io=!0,this.Ti=t(this),this._o=new fv(this),this.Ei=new ed,this.fo=function(t,e){return new lv(t,(function(t){return n.Ti.Xc(t)}))}(this.Ei),this.Qt=new qp(e),this.wo=new sv(this.Qt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.ko=function(){return this.io=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Po=function(){},t.prototype.yo=function(){},t.prototype.Ko=function(){return this.Ei},t.prototype.Qo=function(t){var e=this.Yc[t.A()];return e||(e=new cv(this.Ei,this.Ti),this.Yc[t.A()]=e),e},t.prototype.Sr=function(){return this._o},t.prototype.$r=function(){return this.fo},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(t,e,n){var r=this;vc("MemoryPersistence","Starting transaction:",t);var i=new dv(this.so.next());return this.Ti.Zc(),n(i).next((function(t){return r.Ti.ta(i).next((function(){return t}))})).On().then((function(t){return i.Vs(),t}))},t.prototype.ea=function(t,e){return np.Ln(Object.values(this.Yc).map((function(n){return function(){return n.Fi(t,e)}})))},t}(),dv=function(t){function e(e){var n=this;return(n=t.call(this)||this).bs=e,n}return hi(e,t),e}(vp),vv=function(){function t(t){this.persistence=t,this.na=new av,this.sa=null}return t.ia=function(e){return new t(e)},Object.defineProperty(t.prototype,"ra",{get:function(){if(this.sa)return this.sa;throw bc()},enumerable:!1,configurable:!0}),t.prototype.nr=function(t,e,n){return this.na.nr(n,e),this.ra.delete(n.toString()),np.resolve()},t.prototype.ir=function(t,e,n){return this.na.ir(n,e),this.ra.add(n.toString()),np.resolve()},t.prototype.Ni=function(t,e){return this.ra.add(e.toString()),np.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.na.Fc(e.targetId).forEach((function(t){return n.ra.add(t.toString())}));var r=this.persistence.Sr();return r.rr(t,e.targetId).next((function(t){t.forEach((function(t){return n.ra.add(t.toString())}))})).next((function(){return r.Ji(t,e)}))},t.prototype.Zc=function(){this.sa=new Set},t.prototype.ta=function(t){var e=this,n=this.persistence.$r().Nr();return np.forEach(this.ra,(function(r){var i=Gc._t(r);return e.oa(t,i).next((function(t){t||n.li(i)}))})).next((function(){return e.sa=null,n.apply(t)}))},t.prototype.Fr=function(t,e){var n=this;return this.oa(t,e).next((function(t){t?n.ra.delete(e.toString()):n.ra.add(e.toString())}))},t.prototype.Xc=function(t){return 0},t.prototype.oa=function(t,e){var n=this;return np.Ln([function(){return np.resolve(n.na.Fi(e))},function(){return n.persistence.Sr().Fi(t,e)},function(){return n.persistence.ea(t,e)}])},t}();function mv(t,e){return"firestore_clients_"+t+"_"+e}function yv(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.m()&&(r+="_"+e.uid),r}function gv(t,e){return"firestore_targets_"+t+"_"+e}var bv=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.ca=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new kc(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(mc("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),_v=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.ca=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new kc(i.error.code,i.error.message)),o?new t(e,i.state,r):(mc("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),wv=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.ca=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=cf(),s=0;i&&s<r.activeTargetIds.length;++s)i=il(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(mc("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Ev=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.ca=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(mc("SharedClientState","Failed to parse online state: "+e),null)},t}(),Iv=function(){function t(){this.activeTargetIds=cf()}return t.prototype.ua=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.aa=function(){var t={activeTargetIds:this.activeTargetIds.it(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Tv=function(){function t(t,e,n,r,i){this.window=t,this.Zr=e,this.persistenceKey=n,this.la=r,this._a=null,this.fa=null,this.k=null,this.da=this.wa.bind(this),this.Ea=new Yh(Tc),this.Er=!1,this.Ta=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ia=mv(this.persistenceKey,this.la),this.ma=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ea=this.Ea.zt(this.la,new Iv),this.Aa=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Ra=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Pa=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ya=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.ga=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.da)}return t.Kn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return pi(this,void 0,void 0,(function(){var t,e,n,r,i,o,s,a,u,c,l,h=this;return di(this,(function(f){switch(f.label){case 0:return[4,this._a.Uo()];case 1:for(t=f.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.la&&(i=this.getItem(mv(this.persistenceKey,r)))&&(o=wv.ca(r,i))&&(this.Ea=this.Ea.zt(o.clientId,o));for(this.Va(),(s=this.storage.getItem(this.ya))&&(a=this.pa(s))&&this.ba(a),u=0,c=this.Ta;u<c.length;u++)l=c[u],this.wa(l);return this.Ta=[],this.window.addEventListener("unload",(function(){return h.ko()})),this.Er=!0,[2]}}))}))},t.prototype.B=function(t){this.setItem(this.ma,JSON.stringify(t))},t.prototype.va=function(){return this.Sa(this.Ea)},t.prototype.Da=function(t){var e=!1;return this.Ea.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.Ca=function(t){this.xa(t,"pending")},t.prototype.Na=function(t,e,n){this.xa(t,e,n),this.$a(t)},t.prototype.Fa=function(t){var e="not-current";if(this.Da(t)){var n=this.storage.getItem(gv(this.persistenceKey,t));if(n){var r=_v.ca(t,n);r&&(e=r.state)}}return this.Oa.ua(t),this.Va(),e},t.prototype.ka=function(t){this.Oa.ha(t),this.Va()},t.prototype.Ma=function(t){return this.Oa.activeTargetIds.has(t)},t.prototype.La=function(t){this.removeItem(gv(this.persistenceKey,t))},t.prototype.Ba=function(t,e,n){this.qa(t,e,n)},t.prototype.Ua=function(t,e,n){var r=this;e.forEach((function(t){r.$a(t)})),this.currentUser=t,n.forEach((function(t){r.Ca(t)}))},t.prototype.Qa=function(t){this.Ka(t)},t.prototype.Wa=function(){this.ja()},t.prototype.ko=function(){this.Er&&(this.window.removeEventListener("storage",this.da),this.removeItem(this.Ia),this.Er=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return vc("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){vc("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){vc("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.wa=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(vc("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ia)return void mc("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Zr.po((function(){return pi(e,void 0,void 0,(function(){var t,e,r,i,o,s;return di(this,(function(a){if(this.Er){if(null!==n.key)if(this.Aa.test(n.key)){if(null==n.newValue)return t=this.Ga(n.key),[2,this.za(t,null)];if(e=this.Ha(n.key,n.newValue))return[2,this.za(e.clientId,e)]}else if(this.Ra.test(n.key)){if(null!==n.newValue&&(r=this.Ja(n.key,n.newValue)))return[2,this.Ya(r)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(i=this.Xa(n.key,n.newValue)))return[2,this.Za(i)]}else if(n.key===this.ya){if(null!==n.newValue&&(o=this.pa(n.newValue)))return[2,this.ba(o)]}else if(n.key===this.ma)(s=function(t){var e=Vc.q;if(null!=t)try{var n=JSON.parse(t);_c("number"==typeof n),e=n}catch(t){mc("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Vc.q&&this.k(s);else if(n.key===this.ga)return[2,this._a.tu()]}else this.Ta.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Oa",{get:function(){return this.Ea.get(this.la)},enumerable:!1,configurable:!0}),t.prototype.Va=function(){this.setItem(this.Ia,this.Oa.aa())},t.prototype.xa=function(t,e,n){var r=new bv(this.currentUser,t,e,n),i=yv(this.persistenceKey,this.currentUser,t);this.setItem(i,r.aa())},t.prototype.$a=function(t){var e=yv(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Ka=function(t){var e={clientId:this.la,onlineState:t};this.storage.setItem(this.ya,JSON.stringify(e))},t.prototype.qa=function(t,e,n){var r=gv(this.persistenceKey,t),i=new _v(t,e,n);this.setItem(r,i.aa())},t.prototype.ja=function(){this.setItem(this.ga,"value-not-used")},t.prototype.Ga=function(t){var e=this.Aa.exec(t);return e?e[1]:null},t.prototype.Ha=function(t,e){var n=this.Ga(t);return wv.ca(n,e)},t.prototype.Ja=function(t,e){var n=this.Ra.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return bv.ca(new Dc(i),r,e)},t.prototype.Xa=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return _v.ca(r,e)},t.prototype.pa=function(t){return Ev.ca(t)},t.prototype.Ya=function(t){return pi(this,void 0,void 0,(function(){return di(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this._a.eu(t.batchId,t.state,t.error)]:(vc("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.Za=function(t){return this._a.nu(t.targetId,t.state,t.error)},t.prototype.za=function(t,e){var n=this,r=e?this.Ea.zt(t,e):this.Ea.remove(t),i=this.Sa(this.Ea),o=this.Sa(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this._a.su(s,a).then((function(){n.Ea=r}))},t.prototype.ba=function(t){this.Ea.get(t.clientId)&&this.fa(t.onlineState)},t.prototype.Sa=function(t){var e=cf();return t.forEach((function(t,n){e=e.Pe(n.activeTargetIds)})),e},t}(),xv=function(){function t(){this.iu=new Iv,this.ru={},this.fa=null,this.k=null}return t.prototype.Ca=function(t){},t.prototype.Na=function(t,e,n){},t.prototype.Fa=function(t){return this.iu.ua(t),this.ru[t]||"not-current"},t.prototype.Ba=function(t,e,n){this.ru[t]=e},t.prototype.ka=function(t){this.iu.ha(t)},t.prototype.Ma=function(t){return this.iu.activeTargetIds.has(t)},t.prototype.La=function(t){delete this.ru[t]},t.prototype.va=function(){return this.iu.activeTargetIds},t.prototype.Da=function(t){return this.iu.activeTargetIds.has(t)},t.prototype.start=function(){return this.iu=new Iv,Promise.resolve()},t.prototype.Ua=function(t,e,n){},t.prototype.Qa=function(t){},t.prototype.ko=function(){},t.prototype.B=function(t){},t.prototype.Wa=function(){},t}(),Av=function(){function t(){}return t.prototype.ou=function(t){},t.prototype.ko=function(){},t}(),Sv=function(){function t(){var t=this;this.cu=function(){return t.au()},this.uu=function(){return t.hu()},this.lu=[],this._u()}return t.prototype.ou=function(t){this.lu.push(t)},t.prototype.ko=function(){window.removeEventListener("online",this.cu),window.removeEventListener("offline",this.uu)},t.prototype._u=function(){window.addEventListener("online",this.cu),window.addEventListener("offline",this.uu)},t.prototype.au=function(){vc("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.lu;t<e.length;t++)(0,e[t])(0)},t.prototype.hu=function(){vc("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.lu;t<e.length;t++)(0,e[t])(1)},t.Kn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Nv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},kv=function(){function t(t){this.fu=t.fu,this.du=t.du}return t.prototype.wu=function(t){this.Eu=t},t.prototype.Tu=function(t){this.Iu=t},t.prototype.onMessage=function(t){this.mu=t},t.prototype.close=function(){this.du()},t.prototype.send=function(t){this.fu(t)},t.prototype.Au=function(){this.Eu()},t.prototype.Ru=function(t){this.Iu(t)},t.prototype.Pu=function(t){this.mu(t)},t}(),Ov=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.i=e.i,n}return hi(e,t),e.prototype.Su=function(t,e,n,r){return new Promise((function(i,o){var s=new lc;s.listenOnce(oc.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case ic.NO_ERROR:var e=s.getResponseJson();vc("Connection","XHR received:",JSON.stringify(e)),i(e);break;case ic.TIMEOUT:vc("Connection",'RPC "'+t+'" timed out'),o(new kc(Nc.DEADLINE_EXCEEDED,"Request time out"));break;case ic.HTTP_ERROR:var n=s.getStatus();if(vc("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Nc).indexOf(e)>=0?e:Nc.UNKNOWN}(r.status);o(new kc(a,r.message))}else o(new kc(Nc.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new kc(Nc.UNAVAILABLE,"Connection failed."));break;default:bc()}}finally{vc("Connection",'RPC "'+t+'" completed.')}}));var a=JSON.stringify(r);s.send(e,"POST",a,n,15)}))},e.prototype.Cu=function(t,e){var n,r=[this.gu,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=new Zu,o=ea(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.vu(s.initMessageHeaders,e),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_i())||"object"==typeof navigator&&"ReactNative"===navigator.product||_i().indexOf("Electron/")>=0||function(){var t=_i();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()||_i().indexOf("MSAppHost/")>=0||"object"==typeof(n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0)&&void 0!==n.id||(s.httpHeadersOverwriteParam="$httpHeaders");var a=r.join("");vc("Connection","Creating WebChannel: "+a,s);var u=i.createWebChannel(a,s),c=!1,l=!1,h=new kv({fu:function(t){l?vc("Connection","Not sending because WebChannel is closed:",t):(c||(vc("Connection","Opening WebChannel transport."),u.open(),c=!0),vc("Connection","WebChannel sending:",t),u.send(t))},du:function(){return u.close()}}),f=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return f(u,cc.EventType.OPEN,(function(){l||vc("Connection","WebChannel transport opened.")})),f(u,cc.EventType.CLOSE,(function(){l||(l=!0,vc("Connection","WebChannel transport closed"),h.Ru())})),f(u,cc.EventType.ERROR,(function(t){l||(l=!0,yc("Connection","WebChannel transport errored:",t),h.Ru(new kc(Nc.UNAVAILABLE,"The operation could not be completed")))})),f(u,cc.EventType.MESSAGE,(function(t){var e;if(!l){var n=t.data[0];_c(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){vc("Connection","WebChannel received error:",i);var o=i.status,s=function(t){var e=Uh[t];if(void 0!==e)return Hh(e)}(o),a=i.message;void 0===s&&(s=Nc.INTERNAL,a="Unknown error status: "+o+" with message "+i.message),l=!0,h.Ru(new kc(s,a)),u.close()}else vc("Connection","WebChannel received:",n),h.Pu(n)}})),f(o,sc.STAT_EVENT,(function(t){t.stat===ac?vc("Connection","Detected buffering proxy"):t.stat===uc&&vc("Connection","Detected no buffering proxy")})),setTimeout((function(){h.Au()}),0),h},e}(function(){function t(t){this.yu=t,this.t=t.t;var e=t.ssl?"https":"http";this.gu=e+"://"+t.host,this.Vu="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.pu=function(t,e,n,r){var i=this.bu(t,e);vc("RestConnection","Sending: ",i,n);var o={};return this.vu(o,r),this.Su(t,i,o,n).then((function(t){return vc("RestConnection","Received: ",t),t}),(function(e){throw yc("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Du=function(t,e,n,r){return this.pu(t,e,n,r)},t.prototype.vu=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.9",t["Content-Type"]="text/plain",e)for(var n in e.g)e.g.hasOwnProperty(n)&&(t[n]=e.g[n])},t.prototype.bu=function(t,e){var n=Nv[t];return this.gu+"/v1/"+e+":"+n},t}());function Dv(){return"undefined"!=typeof window?window:null}function Cv(){return"undefined"!=typeof document?document:null}function Pv(t){return new Tf(t,!0)}var Rv=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Zr=t,this.fs=e,this.xu=n,this.Nu=r,this.$u=i,this.Fu=0,this.Ou=null,this.ku=Date.now(),this.reset()}return t.prototype.reset=function(){this.Fu=0},t.prototype.Mu=function(){this.Fu=this.$u},t.prototype.Lu=function(t){var e=this;this.cancel();var n=Math.floor(this.Fu+this.Bu()),r=Math.max(0,Date.now()-this.ku),i=Math.max(0,n-r);i>0&&vc("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Fu+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ou=this.Zr.Tr(this.fs,i,(function(){return e.ku=Date.now(),t()})),this.Fu*=this.Nu,this.Fu<this.xu&&(this.Fu=this.xu),this.Fu>this.$u&&(this.Fu=this.$u)},t.prototype.qu=function(){null!==this.Ou&&(this.Ou.Rs(),this.Ou=null)},t.prototype.cancel=function(){null!==this.Ou&&(this.Ou.cancel(),this.Ou=null)},t.prototype.Bu=function(){return(Math.random()-.5)*this.Fu},t}(),Lv=function(){function t(t,e,n,r,i,o){this.Zr=t,this.Uu=n,this.Qu=r,this.Ku=i,this.listener=o,this.state=0,this.Wu=0,this.ju=null,this.stream=null,this.Gu=new Rv(t,e)}return t.prototype.zu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Hu=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Ju()},t.prototype.stop=function(){return pi(this,void 0,void 0,(function(){return di(this,(function(t){switch(t.label){case 0:return this.zu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.Yu=function(){this.state=0,this.Gu.reset()},t.prototype.Xu=function(){var t=this;this.Hu()&&null===this.ju&&(this.ju=this.Zr.Tr(this.Uu,6e4,(function(){return t.Zu()})))},t.prototype.th=function(t){this.eh(),this.stream.send(t)},t.prototype.Zu=function(){return pi(this,void 0,void 0,(function(){return di(this,(function(t){return this.Hu()?[2,this.close(0)]:[2]}))}))},t.prototype.eh=function(){this.ju&&(this.ju.cancel(),this.ju=null)},t.prototype.close=function(t,e){return pi(this,void 0,void 0,(function(){return di(this,(function(n){switch(n.label){case 0:return this.eh(),this.Gu.cancel(),this.Wu++,3!==t?this.Gu.reset():e&&e.code===Nc.RESOURCE_EXHAUSTED?(mc(e.toString()),mc("Using maximum backoff delay to prevent overloading the backend."),this.Gu.Mu()):e&&e.code===Nc.UNAUTHENTICATED&&this.Ku.p(),null!==this.stream&&(this.nh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Tu(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.nh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.sh(this.Wu),n=this.Wu;this.Ku.getToken().then((function(e){t.Wu===n&&t.ih(e)}),(function(n){e((function(){var e=new kc(Nc.UNKNOWN,"Fetching auth token failed: "+n.message);return t.rh(e)}))}))},t.prototype.ih=function(t){var e=this,n=this.sh(this.Wu);this.stream=this.oh(t),this.stream.wu((function(){n((function(){return e.state=2,e.listener.wu()}))})),this.stream.Tu((function(t){n((function(){return e.rh(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.Ju=function(){var t=this;this.state=4,this.Gu.Lu((function(){return pi(t,void 0,void 0,(function(){return di(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.rh=function(t){return vc("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.sh=function(t){var e=this;return function(n){e.Zr.Ps((function(){return e.Wu===t?n():(vc("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Mv=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).Qt=i,s}return hi(e,t),e.prototype.oh=function(t){return this.Qu.Cu("Listen",t)},e.prototype.onMessage=function(t){this.Gu.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:bc()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.Bt?(_c(void 0===e||"string"==typeof e),Sc.fromBase64String(e||"")):(_c(void 0===e||e instanceof Uint8Array),Sc.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Nc.UNKNOWN:Hh(t.code);return new kc(e,t.message||"")}(a);n=new yf(r,i,o,s||null)}else if("documentChange"in e){e.documentChange,(r=e.documentChange).document,r.document.name,r.document.updateTime,i=Cf(t,r.document.name),o=Nf(r.document.updateTime);var a=new gl({mapValue:{fields:r.document.fields}}),u=(s=new El(i,o,a,{}),r.targetIds||[]),c=r.removedTargetIds||[];n=new vf(u,c,s.key,s)}else if("documentDelete"in e)e.documentDelete,(r=e.documentDelete).document,i=Cf(t,r.document),o=r.readTime?Nf(r.readTime):Fc.min(),a=new Il(i,o),s=r.removedTargetIds||[],n=new vf([],s,a.key,a);else if("documentRemove"in e)e.documentRemove,(r=e.documentRemove).document,i=Cf(t,r.document),o=r.removedTargetIds||[],n=new vf([],o,i,null);else{if(!("filter"in e))return bc();e.filter;var l=e.filter;l.targetId,r=l.count||0,i=new Gh(r),o=l.targetId,n=new mf(o,i)}return n}(this.Qt,t),n=function(t){if(!("targetChange"in t))return Fc.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Fc.min():e.readTime?Nf(e.readTime):Fc.min()}(t);return this.listener.ah(e,n)},e.prototype.uh=function(t){var e={};e.database=Lf(this.Qt),e.addTarget=function(t,e){var n,r=e.target;return(n=kl(r)?{documents:qf(t,r)}:{query:zf(t,r)}).targetId=e.targetId,e.resumeToken.l()>0?n.resumeToken=Af(t,e.resumeToken):e.Ot._(Fc.min())>0&&(n.readTime=xf(t,e.Ot.j())),n}(this.Qt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return bc()}}(0,e.Ft);return null==n?null:{"goog-listen-tags":n}}(this.Qt,t);n&&(e.labels=n),this.th(e)},e.prototype.hh=function(t){var e={};e.database=Lf(this.Qt),e.removeTarget=t,this.th(e)},e}(Lv),Vv=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).Qt=i,s.lh=!1,s}return hi(e,t),Object.defineProperty(e.prototype,"_h",{get:function(){return this.lh},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.lh=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.nh=function(){this.lh&&this.fh([])},e.prototype.oh=function(t){return this.Qu.Cu("Write",t)},e.prototype.onMessage=function(t){if(_c(!!t.streamToken),this.lastStreamToken=t.streamToken,this.lh){this.Gu.reset();var e=function(t,e){return t&&t.length>0?(_c(void 0!==e),t.map((function(t){return function(t,e){var n=t.updateTime?Nf(t.updateTime):Nf(e);n.isEqual(Fc.min())&&(n=Nf(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new xh(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=Nf(t.commitTime);return this.listener.dh(n,e)}return _c(!t.writeResults||0===t.writeResults.length),this.lh=!0,this.listener.wh()},e.prototype.Eh=function(){var t={};t.database=Lf(this.Qt),this.th(t)},e.prototype.fh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return Ff(e.Qt,t)}))};this.th(n)},e}(Lv),jv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Qu=n,i.Qt=r,i.Th=!1,i}return hi(e,t),e.prototype.Ih=function(){if(this.Th)throw new kc(Nc.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.pu=function(t,e,n){var r=this;return this.Ih(),this.credentials.getToken().then((function(i){return r.Qu.pu(t,e,n,i)})).catch((function(t){throw t.code===Nc.UNAUTHENTICATED&&r.credentials.p(),t}))},e.prototype.Du=function(t,e,n){var r=this;return this.Ih(),this.credentials.getToken().then((function(i){return r.Qu.Du(t,e,n,i)})).catch((function(t){throw t.code===Nc.UNAUTHENTICATED&&r.credentials.p(),t}))},e.prototype.terminate=function(){this.Th=!1},e}((function(){})),Fv=function(){function t(t,e){this._s=t,this.fa=e,this.state="Unknown",this.mh=0,this.Ah=null,this.Rh=!0}return t.prototype.Ph=function(){var t=this;0===this.mh&&(this.yh("Unknown"),this.Ah=this._s.Tr("online_state_timeout",1e4,(function(){return t.Ah=null,t.gh("Backend didn't respond within 10 seconds."),t.yh("Offline"),Promise.resolve()})))},t.prototype.Vh=function(t){"Online"===this.state?this.yh("Unknown"):(this.mh++,this.mh>=1&&(this.ph(),this.gh("Connection failed 1 times. Most recent error: "+t.toString()),this.yh("Offline")))},t.prototype.set=function(t){this.ph(),this.mh=0,"Online"===t&&(this.Rh=!1),this.yh(t)},t.prototype.yh=function(t){t!==this.state&&(this.state=t,this.fa(t))},t.prototype.gh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Rh?(mc(e),this.Rh=!1):vc("OnlineStateTracker",e)},t.prototype.ph=function(){null!==this.Ah&&(this.Ah.cancel(),this.Ah=null)},t}(),Uv=function(t,e,n,r,i){var o=this;this.bh=t,this.Sh=e,this._s=n,this.Dh={},this.Ch=[],this.xh=new Map,this.Nh=new Set,this.$h=[],this.Fh=i,this.Fh.ou((function(t){n.Ps((function(){return pi(o,void 0,void 0,(function(){return di(this,(function(t){switch(t.label){case 0:return Xv(this)?(vc("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return pi(this,void 0,void 0,(function(){var e;return di(this,(function(n){switch(n.label){case 0:return(e=wc(t)).Nh.add(4),[4,zv(e)];case 1:return n.sent(),e.Oh.set("Unknown"),e.Nh.delete(4),[4,qv(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Oh=new Fv(n,r)};function qv(t){return pi(this,void 0,void 0,(function(){var e,n;return di(this,(function(r){switch(r.label){case 0:if(!Xv(t))return[3,4];e=0,n=t.$h,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function zv(t){return pi(this,void 0,void 0,(function(){var e,n;return di(this,(function(r){switch(r.label){case 0:e=0,n=t.$h,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Bv(t,e){var n=wc(t);n.xh.has(e.targetId)||(n.xh.set(e.targetId,e),Qv(n)?Yv(n):lm(n).Hu()&&$v(n,e))}function Gv(t,e){var n=wc(t),r=lm(n);n.xh.delete(e),r.Hu()&&Hv(n,e),0===n.xh.size&&(r.Hu()?r.Xu():Xv(n)&&n.Oh.set("Unknown"))}function $v(t,e){t.kh.on(e.targetId),lm(t).uh(e)}function Hv(t,e){t.kh.on(e),lm(t).hh(e)}function Yv(t){t.kh=new bf({vn:function(e){return t.Dh.vn(e)},Sn:function(e){return t.xh.get(e)||null}}),lm(t).start(),t.Oh.Ph()}function Qv(t){return Xv(t)&&!lm(t).zu()&&t.xh.size>0}function Xv(t){return 0===wc(t).Nh.size}function Kv(t){t.kh=void 0}function Wv(t){return pi(this,void 0,void 0,(function(){return di(this,(function(e){return t.xh.forEach((function(e,n){$v(t,e)})),[2]}))}))}function Jv(t,e){return pi(this,void 0,void 0,(function(){return di(this,(function(n){return Kv(t),Qv(t)?(t.Oh.Vh(e),Yv(t)):t.Oh.set("Unknown"),[2]}))}))}function Zv(t,e,n){return pi(this,void 0,void 0,(function(){var r,i,o;return di(this,(function(s){switch(s.label){case 0:if(t.Oh.set("Online"),!(e instanceof yf&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return pi(this,void 0,void 0,(function(){var n,r,i,o;return di(this,(function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?(o=i[r],t.xh.has(o)?[4,t.Dh.Mh(o,n)]:[3,3]):[3,5];case 2:s.sent(),t.xh.delete(o),t.kh.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),vc("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,tm(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof vf?t.kh.dn(e):e instanceof mf?t.kh.Pn(e):t.kh.Tn(e),n.isEqual(Fc.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Qd(t.bh)];case 8:return i=s.sent(),n._(i)>=0?[4,function(t,e){var n=t.kh.Vn(e);return n.$e.forEach((function(n,r){if(n.resumeToken.l()>0){var i=t.xh.get(r);i&&t.xh.set(r,i.Mt(n.resumeToken,e))}})),n.Fe.forEach((function(e){var n=t.xh.get(e);if(n){t.xh.set(e,n.Mt(Sc.T,n.Ot)),Hv(t,e);var r=new uh(n.target,e,1,n.sequenceNumber);$v(t,r)}})),t.Dh.Lh(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return vc("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,tm(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function tm(t,e,n){return pi(this,void 0,void 0,(function(){var r=this;return di(this,(function(i){switch(i.label){case 0:if(!ap(e))throw e;return t.Nh.add(1),[4,zv(t)];case 1:return i.sent(),t.Oh.set("Offline"),n||(n=function(){return Qd(t.bh)}),t._s.po((function(){return pi(r,void 0,void 0,(function(){return di(this,(function(e){switch(e.label){case 0:return vc("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Nh.delete(1),[4,qv(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function em(t,e){return e().catch((function(n){return tm(t,n,e)}))}function nm(t){return pi(this,void 0,void 0,(function(){var e,n,r,i,o;return di(this,(function(s){switch(s.label){case 0:e=wc(t),n=hm(e),r=e.Ch.length>0?e.Ch[e.Ch.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return Xv(t)&&t.Ch.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,Wd(e.bh,r)];case 3:return null===(i=s.sent())?(0===e.Ch.length&&n.Xu(),[3,7]):(r=i.batchId,function(t,e){t.Ch.push(e);var n=hm(t);n.Hu()&&n._h&&n.fh(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,tm(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return rm(e)&&im(e),[2]}}))}))}function rm(t){return Xv(t)&&!hm(t).zu()&&t.Ch.length>0}function im(t){hm(t).start()}function om(t){return pi(this,void 0,void 0,(function(){return di(this,(function(e){return hm(t).Eh(),[2]}))}))}function sm(t){return pi(this,void 0,void 0,(function(){var e,n,r,i;return di(this,(function(o){for(e=hm(t),n=0,r=t.Ch;n<r.length;n++)i=r[n],e.fh(i.mutations);return[2]}))}))}function am(t,e,n){return pi(this,void 0,void 0,(function(){var r,i;return di(this,(function(o){switch(o.label){case 0:return r=t.Ch.shift(),i=Up.from(r,e,n),[4,em(t,(function(){return t.Dh.Bh(i)}))];case 1:return o.sent(),[4,nm(t)];case 2:return o.sent(),[2]}}))}))}function um(t,e){return pi(this,void 0,void 0,(function(){return di(this,(function(n){switch(n.label){case 0:return e&&hm(t)._h?[4,function(t,e){return pi(this,void 0,void 0,(function(){var n,r;return di(this,(function(i){switch(i.label){case 0:return $h(r=e.code)&&r!==Nc.ABORTED?(n=t.Ch.shift(),hm(t).Yu(),[4,em(t,(function(){return t.Dh.qh(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,nm(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return rm(t)&&im(t),[2]}}))}))}function cm(t,e){return pi(this,void 0,void 0,(function(){var n;return di(this,(function(r){switch(r.label){case 0:return n=wc(t),e?(n.Nh.delete(2),[4,qv(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Nh.add(2),[4,zv(n)]);case 3:r.sent(),n.Oh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function lm(t){var e=this;return t.Uh||(t.Uh=function(t,e,n){var r=wc(t);return r.Ih(),new Mv(e,r.Qu,r.credentials,r.Qt,n)}(t.Sh,t._s,{wu:Wv.bind(null,t),Tu:Jv.bind(null,t),ah:Zv.bind(null,t)}),t.$h.push((function(n){return pi(e,void 0,void 0,(function(){return di(this,(function(e){switch(e.label){case 0:return n?(t.Uh.Yu(),Qv(t)?Yv(t):t.Oh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Uh.stop()];case 2:e.sent(),Kv(t),e.label=3;case 3:return[2]}}))}))}))),t.Uh}function hm(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=wc(t);return r.Ih(),new Vv(e,r.Qu,r.credentials,r.Qt,n)}(t.Sh,t._s,{wu:om.bind(null,t),Tu:um.bind(null,t),wh:sm.bind(null,t),dh:am.bind(null,t)}),t.$h.push((function(n){return pi(e,void 0,void 0,(function(){return di(this,(function(e){switch(e.label){case 0:return n?(t.Qh.Yu(),[4,nm(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qh.stop()];case 3:e.sent(),t.Ch.length>0&&(vc("RemoteStore","Stopping write stream with "+t.Ch.length+" pending writes"),t.Ch=[]),e.label=4;case 4:return[2]}}))}))}))),t.Qh}var fm=function(){this.Kh=void 0,this.listeners=[]},pm=function(){this.queries=new ud((function(t){return rh(t)}),nh),this.onlineState="Unknown",this.Wh=new Set};function dm(t,e){return pi(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return di(this,(function(c){switch(c.label){case 0:if(n=wc(t),r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new fm),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.jh(r)];case 2:return s.Kh=c.sent(),[3,4];case 3:return a=c.sent(),u=pp(a,"Initialization of query '"+ih(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.Gh(n.onlineState),o.Kh&&e.zh(o.Kh)&&gm(n),[2]}}))}))}function vm(t,e){return pi(this,void 0,void 0,(function(){var n,r,i,o,s;return di(this,(function(a){return n=wc(t),r=e.query,i=!1,(o=n.queries.get(r))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Hh(r))]:[2]}))}))}function mm(t,e){for(var n=wc(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=s.query,u=n.queries.get(a);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].zh(s)&&(r=!0);u.Kh=s}}r&&gm(n)}function ym(t,e,n){var r=wc(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function gm(t){t.Wh.forEach((function(t){t.next()}))}var bm=function(){function t(t,e,n){this.query=t,this.Jh=e,this.Yh=!1,this.Xh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.zh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new ff(t.query,t.docs,t.Se,e,t.De,t.fromCache,t.Ce,!0)}var o=!1;return this.Yh?this.Zh(t)&&(this.Jh.next(t),o=!0):this.tl(t,this.onlineState)&&(this.el(t),o=!0),this.Xh=t,o},t.prototype.onError=function(t){this.Jh.error(t)},t.prototype.Gh=function(t){this.onlineState=t;var e=!1;return this.Xh&&!this.Yh&&this.tl(this.Xh,t)&&(this.el(this.Xh),e=!0),e},t.prototype.tl=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.nl&&n||t.docs.et()&&"Offline"!==e)},t.prototype.Zh=function(t){if(t.docChanges.length>0)return!0;var e=this.Xh&&this.Xh.hasPendingWrites!==t.hasPendingWrites;return!(!t.Ce&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.el=function(t){t=ff.Ne(t.query,t.docs,t.De,t.fromCache),this.Yh=!0,this.Jh.next(t)},t}(),_m=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.sl=function(){return"metadata"in this.payload},t}(),wm=function(){function t(t){this.Qt=t}return t.prototype.Pc=function(t){return Cf(this.Qt,t)},t.prototype.yc=function(t){return t.metadata.exists?jf(this.Qt,t.document,!1):new Il(this.Pc(t.metadata.name),this.gc(t.metadata.readTime))},t.prototype.gc=function(t){return Nf(t)},t}();!function(){function t(t,e,n){this.il=t,this.bh=e,this.Qt=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.rl=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.ol=function(t){for(var e=new Map,n=new wm(this.Qt),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.Pc(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||af()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return pi(this,void 0,void 0,(function(){var t,e,n,r,i;return di(this,(function(o){switch(o.label){case 0:return[4,iv(this.bh,new wm(this.Qt),this.documents,this.il.id)];case 1:t=o.sent(),e=this.ol(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,ov(this.bh,i,e.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Ud(Object.assign({},this.progress),t))]}}))}))}}();var Em=function(t){this.key=t},Im=function(t){this.key=t},Tm=function(){function t(t,e){this.query=t,this.cl=e,this.al=null,this.Be=!1,this.ul=af(),this.De=af(),this.hl=sh(t),this.ll=new lf(this.hl)}return Object.defineProperty(t.prototype,"_l",{get:function(){return this.cl},enumerable:!1,configurable:!0}),t.prototype.fl=function(t,e){var n=this,r=e?e.dl:new hf,i=e?e.ll:this.ll,o=e?e.De:this.De,s=i,a=!1,u=Ql(this.query)&&i.size===this.query.limit?i.last():null,c=Xl(this.query)&&i.size===this.query.limit?i.first():null;if(t.Xt((function(t,e){var l=i.get(t),h=e instanceof El?e:null;h&&(h=oh(n.query,h)?h:null);var f=!!l&&n.De.has(l.key),p=!!h&&(h.Vt||n.De.has(h.key)&&h.hasCommittedMutations),d=!1;l&&h?l.data().isEqual(h.data())?f!==p&&(r.track({type:3,doc:h}),d=!0):n.wl(l,h)||(r.track({type:2,doc:h}),d=!0,(u&&n.hl(h,u)>0||c&&n.hl(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),d=!0):l&&!h&&(r.track({type:1,doc:l}),d=!0,(u||c)&&(a=!0)),d&&(h?(s=s.add(h),o=p?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),Ql(this.query)||Xl(this.query))for(;s.size>this.query.limit;){var l=Ql(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{ll:s,dl:r,lc:a,De:o}},t.prototype.wl=function(t,e){return t.Vt&&e.hasCommittedMutations&&!e.Vt},t.prototype.wi=function(t,e,n){var r=this,i=this.ll;this.ll=t.ll,this.De=t.De;var o=t.dl.ve();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bc()}};return n(t)-n(e)}(t.type,e.type)||r.hl(t.doc,e.doc)})),this.El(n);var s=e?this.Tl():[],a=0===this.ul.size&&this.Be?1:0,u=a!==this.al;return this.al=a,0!==o.length||u?{snapshot:new ff(this.query,t.ll,i,o,t.De,0===a,u,!1),Il:s}:{Il:s}},t.prototype.Gh=function(t){return this.Be&&"Offline"===t?(this.Be=!1,this.wi({ll:this.ll,dl:new hf,De:this.De,lc:!1},!1)):{Il:[]}},t.prototype.ml=function(t){return!this.cl.has(t)&&!!this.ll.has(t)&&!this.ll.get(t).Vt},t.prototype.El=function(t){var e=this;t&&(t.qe.forEach((function(t){return e.cl=e.cl.add(t)})),t.Ue.forEach((function(t){})),t.Qe.forEach((function(t){return e.cl=e.cl.delete(t)})),this.Be=t.Be)},t.prototype.Tl=function(){var t=this;if(!this.Be)return[];var e=this.ul;this.ul=af(),this.ll.forEach((function(e){t.ml(e.key)&&(t.ul=t.ul.add(e.key))}));var n=[];return e.forEach((function(e){t.ul.has(e)||n.push(new Im(e))})),this.ul.forEach((function(t){e.has(t)||n.push(new Em(t))})),n},t.prototype.Al=function(t){this.cl=t.Rc,this.ul=af();var e=this.fl(t.documents);return this.wi(e,!0)},t.prototype.Rl=function(){return ff.Ne(this.query,this.ll,this.De,0===this.al)},t}(),xm=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Am=function(t){this.key=t,this.Pl=!1},Sm=function(){function t(t,e,n,r,i,o){this.bh=t,this.yl=e,this.gl=n,this.Vl=r,this.currentUser=i,this.pl=o,this.bl={},this.vl=new ud((function(t){return rh(t)}),nh),this.Sl=new Map,this.Dl=new Set,this.Cl=new Yh(Gc.H),this.xl=new Map,this.Nl=new av,this.$l={},this.Fl=new Map,this.Ol=yd.Li(),this.onlineState="Unknown",this.kl=void 0}return Object.defineProperty(t.prototype,"Ml",{get:function(){return!0===this.kl},enumerable:!1,configurable:!0}),t}();function Nm(t,e){return pi(this,void 0,void 0,(function(){var n,r,i,o,s,a;return di(this,(function(u){switch(u.label){case 0:return n=ry(t),(o=n.vl.get(e))?(r=o.targetId,n.Vl.Fa(r),i=o.view.Rl(),[3,4]):[3,1];case 1:return[4,Jd(n.bh,th(e))];case 2:return s=u.sent(),a=n.Vl.Fa(s.targetId),r=s.targetId,[4,km(n,e,r,"current"===a)];case 3:i=u.sent(),n.Ml&&Bv(n.yl,s),u.label=4;case 4:return[2,i]}}))}))}function km(t,e,n,r){return pi(this,void 0,void 0,(function(){var i,o,s,a,u,c;return di(this,(function(l){switch(l.label){case 0:return t.Ll=function(e,n,r){return function(t,e,n,r){return pi(this,void 0,void 0,(function(){var i,o,s;return di(this,(function(a){switch(a.label){case 0:return(i=e.view.fl(n)).lc?[4,tv(t.bh,e.query,!1).then((function(t){var n=t.documents;return e.view.fl(n,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.$e.get(e.targetId),s=e.view.wi(i,t.Ml,o),[2,(zm(t,e.targetId,s.Il),s.snapshot)]}}))}))}(t,e,n,r)},[4,tv(t.bh,e,!0)];case 1:return i=l.sent(),o=new Tm(e,i.Rc),s=o.fl(i.documents),a=df.Le(n,r&&"Offline"!==t.onlineState),u=o.wi(s,t.Ml,a),zm(t,n,u.Il),c=new xm(e,n,o),[2,(t.vl.set(e,c),t.Sl.has(n)?t.Sl.get(n).push(e):t.Sl.set(n,[e]),u.snapshot)]}}))}))}function Om(t,e){return pi(this,void 0,void 0,(function(){var n,r,i;return di(this,(function(o){switch(o.label){case 0:return n=wc(t),r=n.vl.get(e),(i=n.Sl.get(r.targetId)).length>1?[2,(n.Sl.set(r.targetId,i.filter((function(t){return!nh(t,e)}))),void n.vl.delete(e))]:n.Ml?(n.Vl.ka(r.targetId),n.Vl.Da(r.targetId)?[3,2]:[4,Zd(n.bh,r.targetId,!1).then((function(){n.Vl.La(r.targetId),Gv(n.yl,r.targetId),Um(n,r.targetId)})).catch(ad)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Um(n,r.targetId),[4,Zd(n.bh,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Dm(t,e,n){return pi(this,void 0,void 0,(function(){var r,i,o,s;return di(this,(function(a){switch(a.label){case 0:r=iy(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=wc(t),i=jc.now(),o=e.reduce((function(t,e){return t.add(e.key)}),af());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Tc.Xo(t,o).next((function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Dh(c,n.get(c.key));null!=l&&s.push(new Lh(c.key,l,_l(l.proto.mapValue),Ah.exists(!0)))}return r.zo.Ri(t,i,s,e)}))})).then((function(t){var e=t.xs(n);return{batchId:t.batchId,ri:e}}))}(r.bh,e)];case 2:return i=a.sent(),r.Vl.Ca(i.batchId),function(t,e,n){var r=t.$l[t.currentUser.A()];r||(r=new Yh(Tc)),r=r.zt(e,n),t.$l[t.currentUser.A()]=r}(r,i.batchId,n),[4,$m(r,i.ri)];case 3:return a.sent(),[4,nm(r.yl)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=pp(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}}))}))}function Cm(t,e){return pi(this,void 0,void 0,(function(){var n,r;return di(this,(function(i){switch(i.label){case 0:n=wc(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Xd(n.bh,e)];case 2:return r=i.sent(),e.$e.forEach((function(t,e){var r=n.xl.get(e);r&&(_c(t.qe.size+t.Ue.size+t.Qe.size<=1),t.qe.size>0?r.Pl=!0:t.Ue.size>0?_c(r.Pl):t.Qe.size>0&&(_c(r.Pl),r.Pl=!1))})),[4,$m(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,ad(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Pm(t,e,n){var r=wc(t);if(r.Ml&&0===n||!r.Ml&&1===n){var i=[];r.vl.forEach((function(t,n){var r=n.view.Gh(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=wc(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].Gh(e)&&(r=!0)})),r&&gm(n)}(r.gl,e),i.length&&r.bl.ah(i),r.onlineState=e,r.Ml&&r.Vl.Qa(e)}}function Rm(t,e,n){return pi(this,void 0,void 0,(function(){var r,i,o,s,a,u;return di(this,(function(c){switch(c.label){case 0:return(r=wc(t)).Vl.Ba(e,"rejected",n),i=r.xl.get(e),(o=i&&i.key)?(s=(s=new Yh(Gc.H)).zt(o,new Il(o,Fc.min())),a=af().add(o),u=new pf(Fc.min(),new Map,new Kh(Tc),s,a),[4,Cm(r,u)]):[3,2];case 1:return c.sent(),r.Cl=r.Cl.remove(o),r.xl.delete(e),Gm(r),[3,4];case 2:return[4,Zd(r.bh,e,!1).then((function(){return Um(r,e,n)})).catch(ad)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function Lm(t,e){return pi(this,void 0,void 0,(function(){var n,r,i;return di(this,(function(o){switch(o.label){case 0:n=wc(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Yd(n.bh,e)];case 2:return i=o.sent(),Fm(n,r,null),jm(n,r),n.Vl.Na(r,"acknowledged"),[4,$m(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,ad(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Mm(t,e,n){return pi(this,void 0,void 0,(function(){var r,i;return di(this,(function(o){switch(o.label){case 0:r=wc(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=wc(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.zo.Pi(t,e).next((function(e){return _c(null!==e),r=e.keys(),n.zo.Ci(t,e)})).next((function(){return n.zo.$i(t)})).next((function(){return n.Tc.Xo(t,r)}))}))}(r.bh,e)];case 2:return i=o.sent(),Fm(r,e,n),jm(r,e),r.Vl.Na(e,"rejected",n),[4,$m(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,ad(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Vm(t,e){return pi(this,void 0,void 0,(function(){var n,r,i,o,s;return di(this,(function(a){switch(a.label){case 0:Xv((n=wc(t)).yl)||vc("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=wc(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.zo.Vi(t)}))}(n.bh)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fl.get(r)||[]).push(e),n.Fl.set(r,i),[3,4]);case 3:return o=a.sent(),s=pp(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}}))}))}function jm(t,e){(t.Fl.get(e)||[]).forEach((function(t){t.resolve()})),t.Fl.delete(e)}function Fm(t,e,n){var r=wc(t),i=r.$l[r.currentUser.A()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.$l[r.currentUser.A()]=i}}function Um(t,e,n){void 0===n&&(n=null),t.Vl.ka(e);for(var r=0,i=t.Sl.get(e);r<i.length;r++){var o=i[r];t.vl.delete(o),n&&t.bl.Bl(o,n)}t.Sl.delete(e),t.Ml&&t.Nl.Fc(e).forEach((function(e){t.Nl.Fi(e)||qm(t,e)}))}function qm(t,e){t.Dl.delete(e.path.rt());var n=t.Cl.get(e);null!==n&&(Gv(t.yl,n),t.Cl=t.Cl.remove(e),t.xl.delete(n),Gm(t))}function zm(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Em?(t.Nl.nr(o.key,e),Bm(t,o)):o instanceof Im?(vc("SyncEngine","Document no longer in limbo: "+o.key),t.Nl.ir(o.key,e),t.Nl.Fi(o.key)||qm(t,o.key)):bc()}}function Bm(t,e){var n=e.key,r=n.path.rt();t.Cl.get(n)||t.Dl.has(r)||(vc("SyncEngine","New document in limbo: "+n),t.Dl.add(r),Gm(t))}function Gm(t){for(;t.Dl.size>0&&t.Cl.size<t.pl;){var e=t.Dl.values().next().value;t.Dl.delete(e);var n=new Gc(qc.ot(e)),r=t.Ol.next();t.xl.set(r,new Am(n)),t.Cl=t.Cl.zt(n,r),Bv(t.yl,new uh(th(Yl(n.path)),r,2,Vc.q))}}function $m(t,e,n){return pi(this,void 0,void 0,(function(){var r,i,o,s;return di(this,(function(a){switch(a.label){case 0:return r=wc(t),i=[],o=[],s=[],r.vl.et()?[3,3]:(r.vl.forEach((function(t,a){s.push(r.Ll(a,e,n).then((function(t){if(t){r.Ml&&r.Vl.Ba(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=zd.oc(a.targetId,t);o.push(e)}})))})),[4,Promise.all(s)]);case 1:return a.sent(),r.bl.ah(i),[4,function(t,e){return pi(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l;return di(this,(function(h){switch(h.label){case 0:n=wc(t),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return np.forEach(e,(function(e){return np.forEach(e.ic,(function(r){return n.persistence.Ti.nr(t,e.targetId,r)})).next((function(){return np.forEach(e.rc,(function(r){return n.persistence.Ti.ir(t,e.targetId,r)}))}))}))}))];case 2:return h.sent(),[3,4];case 3:if(!ap(r=h.sent()))throw r;return vc("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)s=o[i],a=s.targetId,s.fromCache||(u=n.fc.get(a),c=u.Ot,l=u.Lt(c),n.fc=n.fc.zt(a,l));return[2]}}))}))}(r.bh,o)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function Hm(t,e){return pi(this,void 0,void 0,(function(){var n,r;return di(this,(function(i){switch(i.label){case 0:return(n=wc(t)).currentUser.isEqual(e)?[3,3]:(vc("SyncEngine","User change. New user:",e.A()),[4,Hd(n.bh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fl.forEach((function(t){t.forEach((function(t){t.reject(new kc(Nc.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Fl.clear()}(n),n.Vl.Ua(e,r.mc,r.Ac),[4,$m(n,r.Ic)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Ym(t,e){var n=wc(t),r=n.xl.get(e);if(r&&r.Pl)return af().add(r.key);var i=af(),o=n.Sl.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=a[s],c=n.vl.get(u);i=i.Pe(c.view._l)}return i}function Qm(t,e){return pi(this,void 0,void 0,(function(){var n,r,i;return di(this,(function(o){switch(o.label){case 0:return[4,tv((n=wc(t)).bh,e.query,!0)];case 1:return r=o.sent(),i=e.view.Al(r),[2,(n.Ml&&zm(n,e.targetId,i.Il),i)]}}))}))}function Xm(t){return pi(this,void 0,void 0,(function(){var e;return di(this,(function(n){return[2,nv((e=wc(t)).bh).then((function(t){return $m(e,t)}))]}))}))}function Km(t,e,n,r){return pi(this,void 0,void 0,(function(){var i,o;return di(this,(function(s){switch(s.label){case 0:return[4,function(t,e){var n=wc(t),r=wc(n.zo);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.yi(t,e).next((function(e){return e?n.Tc.Xo(t,e):np.resolve(null)}))}))}((i=wc(t)).bh,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,nm(i.yl)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Fm(i,e,r||null),jm(i,e),function(t,e){wc(wc(t).zo).xi(e)}(i.bh,e)):bc(),s.label=4;case 4:return[4,$m(i,o)];case 5:return s.sent(),[3,7];case 6:vc("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}}))}))}function Wm(t,e){return pi(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c;return di(this,(function(l){switch(l.label){case 0:return ry(n=wc(t)),iy(n),!0!==e||!0===n.kl?[3,3]:(r=n.Vl.va(),[4,Jm(n,r.it())]);case 1:return i=l.sent(),n.kl=!0,[4,cm(n.yl,!0)];case 2:for(l.sent(),o=0,s=i;o<s.length;o++)a=s[o],Bv(n.yl,a);return[3,7];case 3:return!1!==e||!1===n.kl?[3,7]:(u=[],c=Promise.resolve(),n.Sl.forEach((function(t,e){n.Vl.Ma(e)?u.push(e):c=c.then((function(){return Um(n,e),Zd(n.bh,e,!0)})),Gv(n.yl,e)})),[4,c]);case 4:return l.sent(),[4,Jm(n,u)];case 5:return l.sent(),function(t){var e=wc(t);e.xl.forEach((function(t,n){Gv(e.yl,n)})),e.Nl.Oc(),e.xl=new Map,e.Cl=new Yh(Gc.H)}(n),n.kl=!1,[4,cm(n.yl,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}}))}))}function Jm(t,e,n){return pi(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,h,f,p,d,v;return di(this,(function(m){switch(m.label){case 0:n=wc(t),r=[],i=[],o=0,s=e,m.label=1;case 1:return o<s.length?(a=s[o],u=void 0,(c=n.Sl.get(a))&&0!==c.length?[4,Jd(n.bh,th(c[0]))]:[3,7]):[3,13];case 2:u=m.sent(),l=0,h=c,m.label=3;case 3:return l<h.length?(f=h[l],p=n.vl.get(f),[4,Qm(n,p)]):[3,6];case 4:(d=m.sent()).snapshot&&i.push(d.snapshot),m.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,ev(n.bh,a)];case 8:return v=m.sent(),[4,Jd(n.bh,v)];case 9:return u=m.sent(),[4,km(n,Zm(v),a,!1)];case 10:m.sent(),m.label=11;case 11:r.push(u),m.label=12;case 12:return o++,[3,1];case 13:return[2,(n.bl.ah(i),r)]}}))}))}function Zm(t){return Hl(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function ty(t){var e=wc(t);return wc(wc(e.bh).persistence).Uo()}function ey(t,e,n,r){return pi(this,void 0,void 0,(function(){var i,o,s;return di(this,(function(a){switch(a.label){case 0:return(i=wc(t)).kl?(vc("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Sl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,nv(i.bh)];case 3:return o=a.sent(),s=pf.Me(e,"current"===n),[4,$m(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,Zd(i.bh,e,!0)];case 6:return a.sent(),Um(i,e,r),[3,8];case 7:bc(),a.label=8;case 8:return[2]}}))}))}function ny(t,e,n){return pi(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,l,h,f;return di(this,(function(p){switch(p.label){case 0:if(!(r=ry(t)).kl)return[3,10];i=0,o=e,p.label=1;case 1:return i<o.length?(s=o[i],r.Sl.has(s)?(vc("SyncEngine","Adding an already active target "+s),[3,5]):[4,ev(r.bh,s)]):[3,6];case 2:return a=p.sent(),[4,Jd(r.bh,a)];case 3:return u=p.sent(),[4,km(r,Zm(a),u.targetId,!1)];case 4:p.sent(),Bv(r.yl,u),p.label=5;case 5:return i++,[3,1];case 6:c=function(t){return di(this,(function(e){switch(e.label){case 0:return r.Sl.has(t)?[4,Zd(r.bh,t,!1).then((function(){Gv(r.yl,t),Um(r,t)})).catch(ad)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,p.label=7;case 7:return l<h.length?(f=h[l],[5,c(f)]):[3,10];case 8:p.sent(),p.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function ry(t){var e=wc(t);return e.yl.Dh.Lh=Cm.bind(null,e),e.yl.Dh.vn=Ym.bind(null,e),e.yl.Dh.Mh=Rm.bind(null,e),e.bl.ah=mm.bind(null,e.gl),e.bl.Bl=ym.bind(null,e.gl),e}function iy(t){var e=wc(t);return e.yl.Dh.Bh=Lm.bind(null,e),e.yl.Dh.qh=Mm.bind(null,e),e}var oy=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return pi(this,void 0,void 0,(function(){return di(this,(function(e){switch(e.label){case 0:return this.Qt=Pv(t.yu.t),this.Vl=this.Wl(t),this.persistence=this.jl(t),[4,this.persistence.start()];case 1:return e.sent(),this.Gl=this.zl(t),this.bh=this.Hl(t),[2]}}))}))},t.prototype.zl=function(t){return null},t.prototype.Hl=function(t){return $d(this.persistence,new Bd,t.Jl,this.Qt)},t.prototype.jl=function(t){return new pv(vv.ia,this.Qt)},t.prototype.Wl=function(t){return new xv},t.prototype.terminate=function(){return pi(this,void 0,void 0,(function(){return di(this,(function(t){switch(t.label){case 0:return this.Gl&&this.Gl.stop(),[4,this.Vl.ko()];case 1:return t.sent(),[4,this.persistence.ko()];case 2:return t.sent(),[2]}}))}))},t}(),sy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Yl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return hi(e,t),e.prototype.initialize=function(e){return pi(this,void 0,void 0,(function(){return di(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,rv(this.bh)];case 2:return n.sent(),[4,this.Yl.initialize(this,e)];case 3:return n.sent(),[4,iy(this.Yl._a)];case 4:return n.sent(),[4,nm(this.Yl.yl)];case 5:return n.sent(),[2]}}))}))},e.prototype.Hl=function(t){return $d(this.persistence,new Bd,t.Jl,this.Qt)},e.prototype.zl=function(t){var e=this.persistence.Ti.lr;return new Td(e,t._s)},e.prototype.jl=function(t){var e=Fd(t.yu.t,t.yu.persistenceKey),n=void 0!==this.cacheSizeBytes?sd.Ys(this.cacheSizeBytes):sd.ti;return new Md(this.synchronizeTabs,e,t.clientId,n,t._s,Dv(),Cv(),this.Qt,this.Vl,!!this.forceOwnership)},e.prototype.Wl=function(t){return new xv},e}(oy),ay=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Yl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return hi(e,t),e.prototype.initialize=function(e){return pi(this,void 0,void 0,(function(){var n,r=this;return di(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Yl._a,this.Vl instanceof Tv?(this.Vl._a={eu:Km.bind(null,n),nu:ey.bind(null,n),su:ny.bind(null,n),Uo:ty.bind(null,n),tu:Xm.bind(null,n)},[4,this.Vl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Ro((function(t){return pi(r,void 0,void 0,(function(){return di(this,(function(e){switch(e.label){case 0:return[4,Wm(this.Yl._a,t)];case 1:return e.sent(),this.Gl&&(t&&!this.Gl.Er?this.Gl.start(this.bh):t||this.Gl.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Wl=function(t){var e=Dv();if(!Tv.Kn(e))throw new kc(Nc.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Fd(t.yu.t,t.yu.persistenceKey);return new Tv(e,t._s,n,t.clientId,t.Jl)},e}(sy),uy=function(){function t(){}return t.prototype.initialize=function(t,e){return pi(this,void 0,void 0,(function(){var n=this;return di(this,(function(r){switch(r.label){case 0:return this.bh?[3,2]:(this.bh=t.bh,this.Vl=t.Vl,this.Sh=this.Xl(e),this.yl=this.Zl(e),this.gl=this.t_(e),this._a=this.e_(e,!t.synchronizeTabs),this.Vl.fa=function(t){return Pm(n._a,t,1)},this.yl.Dh.n_=Hm.bind(null,this._a),[4,cm(this.yl,this._a.Ml)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.t_=function(t){return new pm},t.prototype.Xl=function(t){var e,n=Pv(t.yu.t),r=(e=t.yu,new Ov(e));return function(t,e,n){return new jv(t,e,n)}(t.credentials,r,n)},t.prototype.Zl=function(t){var e,n,r,i,o,s=this;return e=this.bh,n=this.Sh,r=t._s,i=function(t){return Pm(s._a,t,0)},o=Sv.Kn()?new Sv:new Av,new Uv(e,n,r,i,o)},t.prototype.e_=function(t,e){return function(t,e,n,r,i,o,s){var a=new Sm(t,e,n,r,i,o);return s&&(a.kl=!0),a}(this.bh,this.yl,this.gl,this.Vl,t.Jl,t.pl,e)},t.prototype.terminate=function(){return function(t){return pi(this,void 0,void 0,(function(){var e;return di(this,(function(n){switch(n.label){case 0:return e=wc(t),vc("RemoteStore","RemoteStore shutting down."),e.Nh.add(5),[4,zv(e)];case 1:return n.sent(),e.Fh.ko(),e.Oh.set("Unknown"),[2]}}))}))}(this.yl)},t}(),cy=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.s_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.s_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.i_=function(){this.muted=!0},t.prototype.s_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),ly=(function(){function t(t,e){var n=this;this.r_=t,this.Qt=e,this.metadata=new ep,this.buffer=new Uint8Array,this.o_=new TextDecoder("utf-8"),this.c_().then((function(t){t&&t.sl()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}t.prototype.close=function(){return this.r_.cancel()},t.prototype.getMetadata=function(){return pi(this,void 0,void 0,(function(){return di(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Ql=function(){return pi(this,void 0,void 0,(function(){return di(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.c_())]}}))}))},t.prototype.c_=function(){return pi(this,void 0,void 0,(function(){var t,e,n,r;return di(this,(function(i){switch(i.label){case 0:return[4,this.a_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.o_.decode(t),n=Number(e),isNaN(n)&&this.u_("length string ("+e+") is not valid number"),[4,this.h_(n)]);case 2:return r=i.sent(),[2,new _m(JSON.parse(r),t.length+n)]}}))}))},t.prototype.l_=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.a_=function(){return pi(this,void 0,void 0,(function(){var t,e;return di(this,(function(n){switch(n.label){case 0:return this.l_()<0?[4,this.__()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.l_())<0&&this.u_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.h_=function(t){return pi(this,void 0,void 0,(function(){var e;return di(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.__()]:[3,3];case 1:n.sent()&&this.u_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.o_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.u_=function(t){throw this.r_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.__=function(){return pi(this,void 0,void 0,(function(){var t,e;return di(this,(function(n){switch(n.label){case 0:return[4,this.r_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new kc(Nc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.f_=new Bc(t)}return t.prototype.isEqual=function(t){return this.f_.isEqual(t.f_)},t}()),hy=function(t){this._methodName=t},fy=function(t){this.d_=t};function py(t,e,n){if(!n)throw new kc(Nc.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function dy(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new kc(Nc.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function vy(t,e,n,r){if(!0===e&&!0===r)throw new kc(Nc.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function my(t){if(!Gc.wt(t))throw new kc(Nc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function yy(t){if(Gc.wt(t))throw new kc(Nc.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function gy(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":bc()}function by(t,e){if("_delegate"in t&&(t=t.d_),!(t instanceof e)){if(e.name===t.constructor.name)throw new kc(Nc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=gy(t);throw new kc(Nc.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function _y(t,e){if(e<=0)throw new kc(Nc.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var wy=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new kc(Nc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new kc(Nc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,vy("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Ey=new Map,Iy=function(){function t(t,e){this.w_="(lite)",this.E_=new wy({}),this.T_=!1,t instanceof fc?(this.I_=t,this.m_=new Pc):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new kc(Nc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fc(t.options.projectId)}(t),this.m_=new Rc(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new kc(Nc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new kc(Nc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new wy(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new Pc;switch(t.type){case"gapi":var e=t.client;return _c(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Mc(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new kc(Nc.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.toJSON=function(){return{app:this.A_,t:this.I_,settings:this.E_}},t.prototype.b_=function(){return(t=Ey.get(this))&&(vc("ComponentProvider","Removing Datastore"),Ey.delete(this),t.terminate()),Promise.resolve();var t},t}(),Ty=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Ay(this.firestore,this.v_,this.S_.path.X())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),xy=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),Ay=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Yl(r))||this).firestore=e,i.D_=r,i.type="collection",i}return hi(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.X();return t.et()?null:new Ty(this.firestore,null,new Gc(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(xy);function Sy(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof fy&&(t=t.d_),py("collection","path",e),t instanceof Iy)return yy(n=qc.ot.apply(qc,yi([e],r))),new Ay(t,null,n);if(!(t instanceof Ty||t instanceof Ay))throw new kc(Nc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return yy(n=qc.ot.apply(qc,yi([t.path],r)).child(qc.ot(e))),new Ay(t.firestore,null,n)}function Ny(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof fy&&(t=t.d_),1===arguments.length&&(e=Ic.u()),py("doc","path",e),t instanceof Iy)return my(n=qc.ot.apply(qc,yi([e],r))),new Ty(t,null,new Gc(n));if(!(t instanceof Ty||t instanceof Ay))throw new kc(Nc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return my(n=t.D_.child(qc.ot.apply(qc,yi([e],r)))),new Ty(t.firestore,t instanceof Ay?t.v_:null,new Gc(n))}function ky(t,e){return t instanceof fy&&(t=t.d_),e instanceof fy&&(e=e.d_),(t instanceof Ty||t instanceof Ay)&&(e instanceof Ty||e instanceof Ay)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function Oy(t,e){return t instanceof fy&&(t=t.d_),e instanceof fy&&(e=e.d_),t instanceof xy&&e instanceof xy&&t.firestore===e.firestore&&nh(t.C_,e.C_)&&t.v_===e.v_}var Dy=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new kc(Nc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new kc(Nc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.U=function(t){return Tc(this.x_,t.x_)||Tc(this.N_,t.N_)},t}(),Cy=/^__.*__$/,Py=function(){function t(t,e,n){this.data=t,this.Gt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return null!==this.Gt?new Lh(t,this.data,this.Gt,e,this.fieldTransforms):new Rh(t,this.data,e,this.fieldTransforms)},t}(),Ry=function(){function t(t,e,n){this.data=t,this.Gt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return new Lh(t,this.data,this.Gt,e,this.fieldTransforms)},t}();function Ly(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bc()}}var My=function(){function t(t,e,n,r,i,o){this.settings=t,this.t=e,this.Qt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.O_(),this.fieldTransforms=i||[],this.Gt=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.Qt,this.ignoreUndefinedProperties,this.fieldTransforms,this.Gt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.O_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return ng(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(t){return void 0!==this.Gt.find((function(e){return t.nt(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.nt(e.field)}))},t.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(Ly(this.k_)&&Cy.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),Vy=function(){function t(t,e,n){this.t=t,this.ignoreUndefinedProperties=e,this.Qt=n||Pv(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new My({k_:t,methodName:e,j_:n,path:Bc.ct(),B_:!1,W_:r},this.t,this.Qt,this.ignoreUndefinedProperties)},t}();function jy(t){var e=t.p_(),n=Pv(t.I_);return new Vy(t.I_,!!e.ignoreUndefinedProperties,n)}function Fy(t,e,n,r,i,o){void 0===o&&(o={});var s=t.G_(o.merge||o.mergeFields?2:0,e,n,i);Jy("Data must be an object, but it was:",s,r);var a,u,c=Ky(r,s);if(o.merge)a=new Qc(s.Gt),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var p=Zy(e,f[h],n);if(!s.contains(p))throw new kc(Nc.INVALID_ARGUMENT,"Field '"+p+"' is specified in your field mask but missing from your input data.");rg(l,p)||l.push(p)}a=new Qc(l),u=s.fieldTransforms.filter((function(t){return a.Tt(t.field)}))}else a=null,u=s.fieldTransforms;return new Py(new gl(c),a,u)}var Uy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return hi(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw 1===t.k_?t.K_(this._methodName+"() can only appear at the top level of your update data"):t.K_(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.Gt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(hy);function qy(t,e,n){return new My({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.t,e.Qt,e.ignoreUndefinedProperties)}var zy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return hi(e,t),e.prototype.z_=function(t){return new Th(t.path,new mh)},e.prototype.isEqual=function(t){return t instanceof e},e}(hy),By=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return hi(e,t),e.prototype.z_=function(t){var e=qy(this,t,!0),n=this.H_.map((function(t){return Xy(t,e)})),r=new yh(n);return new Th(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(hy),Gy=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return hi(e,t),e.prototype.z_=function(t){var e=qy(this,t,!0),n=this.H_.map((function(t){return Xy(t,e)})),r=new bh(n);return new Th(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(hy),$y=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return hi(e,t),e.prototype.z_=function(t){var e=new wh(t.Qt,hh(t.Qt,this.J_));return new Th(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(hy);function Hy(t,e,n,r){var i=t.G_(1,e,n);Jy("Data must be an object, but it was:",i,r);var o=[],s=new bl;Hc(r,(function(t,r){var a=eg(e,t,n);r instanceof fy&&(r=r.d_);var u=i.U_(a);if(r instanceof Uy)o.push(a);else{var c=Xy(r,u);null!=c&&(o.push(a),s.set(a,c))}}));var a=new Qc(o);return new Ry(s.Pt(),a,i.fieldTransforms)}function Yy(t,e,n,r,i,o){var s=t.G_(1,e,n),a=[Zy(e,r,n)],u=[i];if(o.length%2!=0)throw new kc(Nc.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(Zy(e,o[c])),u.push(o[c+1]);for(var l=[],h=new bl,f=a.length-1;f>=0;--f)if(!rg(l,a[f])){var p=a[f],d=u[f];d instanceof fy&&(d=d.d_);var v=s.U_(p);if(d instanceof Uy)l.push(p);else{var m=Xy(d,v);null!=m&&(l.push(p),h.set(p,m))}}var y=new Qc(l);return new Ry(h.Pt(),y,s.fieldTransforms)}function Qy(t,e,n,r){return void 0===r&&(r=!1),Xy(n,t.G_(r?4:3,e))}function Xy(t,e){if(t instanceof fy&&(t=t.d_),Wy(t))return Jy("Unsupported field value:",e,t),Ky(t,e);if(t instanceof hy)return function(t,e){if(!Ly(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.Gt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=Xy(o[i],e.Q_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof fy&&(t=t.d_),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return hh(e.Qt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=jc.fromDate(t);return{timestampValue:xf(e.Qt,n)}}if(t instanceof jc)return n=new jc(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:xf(e.Qt,n)};if(t instanceof Dy)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Oc)return{bytesValue:Af(e.Qt,t.I)};if(t instanceof Ty){n=e.t;var r=t.firestore.I_;if(!r.isEqual(n))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:kf(t.firestore.I_||e.t,t.S_.path)}}throw e.K_("Unsupported field value: "+gy(t))}(t,e)}function Ky(t,e){var n={};return Yc(t)?e.path&&e.path.length>0&&e.Gt.push(e.path):Hc(t,(function(t,r){var i=Xy(r,e.L_(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Wy(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof jc||t instanceof Dy||t instanceof Oc||t instanceof Ty||t instanceof hy)}function Jy(t,e,n){if(!Wy(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=gy(n);throw"an object"===r?e.K_(t+" a custom object"):e.K_(t+" "+r)}}function Zy(t,e,n){if(e instanceof fy&&(e=e.d_),e instanceof ly)return e.f_;if("string"==typeof e)return eg(t,e);throw ng("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var tg=new RegExp("[~\\*/\\[\\]]");function eg(t,e,n){if(e.search(tg)>=0)throw ng("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(ly.bind.apply(ly,yi([void 0],e.split("."))))).f_}catch(r){throw ng("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function ng(t,e,n,r,i){var o=r&&!r.et(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new kc(Nc.INVALID_ARGUMENT,(a+=". ")+t+u)}function rg(t,e){return t.some((function(t){return t.isEqual(e)}))}var ig=function(){function t(t){this.Sh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return pi(this,void 0,void 0,(function(){var e,n=this;return di(this,(function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new kc(Nc.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return pi(this,void 0,void 0,(function(){var n,r,i,o,s,a;return di(this,(function(u){switch(u.label){case 0:return n=wc(t),r=Lf(n.Qt)+"/documents",i={documents:e.map((function(t){return Df(n.Qt,t)}))},[4,n.Du("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){_c(!!e.found),e.found.name,e.found.updateTime;var n=Cf(t,e.found.name),r=Nf(e.found.updateTime),i=new gl({mapValue:{fields:e.found.fields}});return new El(n,r,i,{})}(t,e):"missing"in e?function(t,e){_c(!!e.missing),_c(!!e.readTime);var n=Cf(t,e.missing),r=Nf(e.readTime);return new Il(n,r)}(t,e):bc()}(n.Qt,t);s.set(e.key.toString(),e)})),a=[],[2,(e.forEach((function(t){var e=s.get(t.toString());_c(!!e),a.push(e)})),a)]}}))}))}(this.Sh,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof Il||t instanceof El?n.sf(t):bc()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.F_(t,this.jt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new zh(t,this.jt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return pi(this,void 0,void 0,(function(){var t,e=this;return di(this,(function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=Gc._t(n);e.mutations.push(new Bh(r,e.jt(r)))})),[4,function(t,e){return pi(this,void 0,void 0,(function(){var n,r,i;return di(this,(function(o){switch(o.label){case 0:return n=wc(t),r=Lf(n.Qt)+"/documents",i={writes:e.map((function(t){return Ff(n.Qt,t)}))},[4,n.pu("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.Sh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}}))}))},t.prototype.sf=function(t){var e;if(t instanceof El)e=t.version;else{if(!(t instanceof Il))throw bc();e=Fc.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new kc(Nc.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.jt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?Ah.updateTime(e):Ah.Kt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(Fc.min()))throw new kc(Nc.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ah.updateTime(e)}return Ah.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),og=function(){function t(t,e,n,r){this._s=t,this.Sh=e,this.updateFunction=n,this.Es=r,this.cf=5,this.Gu=new Rv(this._s,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.Gu.Lu((function(){return pi(t,void 0,void 0,(function(){var t,e,n=this;return di(this,(function(r){return t=new ig(this.Sh),(e=this.uf(t))&&e.then((function(e){n._s.Ps((function(){return t.commit().then((function(){n.Es.resolve(e)})).catch((function(t){n.hf(t)}))}))})).catch((function(t){n.hf(t)})),[2]}))}))}))},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!nl(e)&&e.catch&&e.then?e:(this.Es.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Es.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this._s.Ps((function(){return e.af(),Promise.resolve()}))):this.Es.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!$h(e)}return!1},t}(),sg=function(){function t(t,e,n){var r=this;this.credentials=t,this._s=e,this.yu=n,this.user=Dc.UNAUTHENTICATED,this.clientId=Ic.u(),this._f=function(){},this.C=new ep,this.credentials.v((function(t){vc("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.C.resolve()}))}return t.prototype.getConfiguration=function(){return pi(this,void 0,void 0,(function(){return di(this,(function(t){switch(t.label){case 0:return[4,this.C.promise];case 1:return[2,(t.sent(),{_s:this._s,yu:this.yu,clientId:this.clientId,credentials:this.credentials,Jl:this.user,pl:100})]}}))}))},t.prototype.ff=function(t){var e=this;this._f=t,this.C.promise.then((function(){return e._f(e.user)}))},t.prototype.df=function(){if(this._s.wf)throw new kc(Nc.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this._s.Ef();var e=new ep;return this._s.Tf((function(){return pi(t,void 0,void 0,(function(){var t,n;return di(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.S(),e.resolve(),[3,6];case 5:return t=r.sent(),n=pp(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function ag(t,e){return pi(this,void 0,void 0,(function(){var n,r,i=this;return di(this,(function(o){switch(o.label){case 0:return t._s.Af(),vc("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.Jl,t.ff((function(n){r.isEqual(n)||(r=n,t._s.po((function(){return pi(i,void 0,void 0,(function(){return di(this,(function(t){switch(t.label){case 0:return[4,Hd(e.bh,n)];case 1:return t.sent(),[2]}}))}))})))})),e.persistence.Po((function(){return t.terminate()})),t.mf=e,[2]}}))}))}function ug(t,e){return pi(this,void 0,void 0,(function(){var n,r;return di(this,(function(i){switch(i.label){case 0:return t._s.Af(),[4,cg(t)];case 1:return n=i.sent(),vc("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff((function(n){return t._s.po((function(){return function(t,e){return pi(this,void 0,void 0,(function(){var n,r;return di(this,(function(i){switch(i.label){case 0:return(n=wc(t))._s.Af(),vc("RemoteStore","RemoteStore received new credentials"),r=Xv(n),n.Nh.add(3),[4,zv(n)];case 1:return i.sent(),r&&n.Oh.set("Unknown"),[4,n.Dh.n_(e)];case 2:return i.sent(),n.Nh.delete(3),[4,qv(n)];case 3:return i.sent(),[2]}}))}))}(e.yl,n)}))})),t.If=e,[2]}}))}))}function cg(t){return pi(this,void 0,void 0,(function(){return di(this,(function(e){switch(e.label){case 0:return t.mf?[3,2]:(vc("FirestoreClient","Using default OfflineComponentProvider"),[4,ag(t,new oy)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}}))}))}function lg(t){return pi(this,void 0,void 0,(function(){return di(this,(function(e){switch(e.label){case 0:return t.If?[3,2]:(vc("FirestoreClient","Using default OnlineComponentProvider"),[4,ug(t,new uy)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}}))}))}function hg(t){return cg(t).then((function(t){return t.persistence}))}function fg(t){return cg(t).then((function(t){return t.bh}))}function pg(t){return lg(t).then((function(t){return t.yl}))}function dg(t){return lg(t).then((function(t){return t._a}))}function vg(t){return pi(this,void 0,void 0,(function(){var e,n;return di(this,(function(r){switch(r.label){case 0:return[4,lg(t)];case 1:return e=r.sent(),[2,((n=e.gl).jh=Nm.bind(null,e._a),n.Hh=Om.bind(null,e._a),n)]}}))}))}function mg(t,e,n){var r=this;void 0===n&&(n={});var i=new ep;return t._s.Ps((function(){return pi(r,void 0,void 0,(function(){var r;return di(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new cy({next:function(o){e.Ps((function(){return vm(t,s)}));var a=o.docs.has(n);!a&&o.fromCache?i.reject(new kc(Nc.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new kc(Nc.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new bm(Yl(n.path),o,{includeMetadataChanges:!0,nl:!0});return dm(t,s)},[4,vg(t)];case 1:return[2,r.apply(void 0,[o.sent(),t._s,e,n,i])]}}))}))})),i.promise}function yg(t,e,n){var r=this;void 0===n&&(n={});var i=new ep;return t._s.Ps((function(){return pi(r,void 0,void 0,(function(){var r;return di(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new cy({next:function(n){e.Ps((function(){return vm(t,s)})),n.fromCache&&"server"===r.source?i.reject(new kc(Nc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new bm(n,o,{includeMetadataChanges:!0,nl:!0});return dm(t,s)},[4,vg(t)];case 1:return[2,r.apply(void 0,[o.sent(),t._s,e,n,i])]}}))}))})),i.promise}var gg=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.Gu=new Rv(this,"async_queue_retry"),this.vf=function(){var e=Cv();e&&vc("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Gu.qu()};var e=Cv();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.Ps=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=Cv();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise((function(t){})):this.Df(t)},t.prototype.po=function(t){var e=this;this.Ps((function(){return e.Pf.push(t),e.Cf()}))},t.prototype.Cf=function(){return pi(this,void 0,void 0,(function(){var t,e=this;return di(this,(function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.Gu.reset(),[3,4];case 3:if(!ap(t=n.sent()))throw t;return vc("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.Gu.Lu((function(){return e.Cf()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Df=function(t){var e=this,n=this.Rf.then((function(){return e.pf=!0,t().catch((function(t){throw e.Vf=t,e.pf=!1,mc("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.pf=!1,t}))}));return this.Rf=n,n},t.prototype.Tr=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=fp.Ts(this,t,e,n,(function(t){return r.xf(t)}));return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&bc()},t.prototype.Af=function(){},t.prototype.Nf=function(){return pi(this,void 0,void 0,(function(){var t;return di(this,(function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.$f=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].fs===t)return!0;return!1},t.prototype.Ff=function(t){var e=this;return this.Nf().then((function(){e.gf.sort((function(t,e){return t.ds-e.ds}));for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Rs(),"all"!==t&&i.fs===t)break}return e.Nf()}))},t.prototype.Of=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}();function bg(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this.kf={},this.Mf=new ep,this.Lf={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.kf={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.Mf.promise.catch(t)},t.prototype.then=function(t,e){return this.Mf.promise.then(t,e)},t.prototype.ql=function(t){this.Ul(t),this.kf.complete&&this.kf.complete(),this.Mf.resolve(t)},t.prototype.Kl=function(t){this.Lf.taskState="Error",this.kf.next&&this.kf.next(this.Lf),this.kf.error&&this.kf.error(t),this.Mf.reject(t)},t.prototype.Ul=function(t){this.Lf=t,this.kf.next&&this.kf.next(t)}}();var _g=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Bf=new gg,r.w_="name"in e?e.name:"[DEFAULT]",r}return hi(e,t),e.prototype.b_=function(){return this.qf||Eg(this),this.qf.terminate()},e}(Iy);function wg(t){return t.qf||Eg(t),t.qf.df(),t.qf}function Eg(t){var e=t.p_(),n=function(t,e,n){return new hc(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.qf=new sg(t.m_,t.Bf,n)}function Ig(t,e,n){var r=this,i=new ep;return t._s.enqueue((function(){return pi(r,void 0,void 0,(function(){var r;return di(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,ag(t,n)];case 1:return o.sent(),[4,ug(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Nc.FAILED_PRECONDITION||t.code===Nc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function Tg(t){if(t.R_||t.P_)throw new kc(Nc.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var xg=function(){function t(){}return t.prototype.Uf=function(t,e){switch(void 0===e&&(e="none"),ol(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Wc(t.integerValue||t.doubleValue);case 3:return this.Qf(t.timestampValue);case 4:return this.Kf(t,e);case 5:return t.stringValue;case 6:return this.Wf(Jc(t.bytesValue));case 7:return this.jf(t.referenceValue);case 8:return this.Gf(t.geoPointValue);case 9:return this.zf(t.arrayValue,e);case 10:return this.Hf(t.mapValue,e);default:throw bc()}},t.prototype.Hf=function(t,e){var n=this,r={};return Hc(t.fields||{},(function(t,i){r[t]=n.Uf(i,e)})),r},t.prototype.Gf=function(t){return new Dy(Wc(t.latitude),Wc(t.longitude))},t.prototype.zf=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.Uf(t,e)}))},t.prototype.Kf=function(t,e){switch(e){case"previous":var n=tl(t);return null==n?null:this.Uf(n,e);case"estimate":return this.Qf(el(t));default:return null}},t.prototype.Qf=function(t){var e=Kc(t);return new jc(e.seconds,e.nanos)},t.prototype.Jf=function(t,e){var n=qc.ot(t);_c(tp(n));var r=new fc(n.get(1),n.get(3)),i=new Gc(n.Y(5));return r.isEqual(e)||mc("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),Ag=function(){function t(t,e,n,r,i){this.Yf=t,this.Xf=e,this.S_=n,this.Zf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ty(this.Yf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Zf},t.prototype.data=function(){if(this.Zf){if(this.v_){var t=new Sg(this.Yf,this.Xf,this.S_,this.Zf,null);return this.v_.fromFirestore(t)}return this.Xf.Uf(this.Zf.bt())}},t.prototype.get=function(t){if(this.Zf){var e=this.Zf.data().field(Ng("DocumentSnapshot.get",t));if(null!==e)return this.Xf.Uf(e)}},t}(),Sg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return hi(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Ag);function Ng(t,e){return"string"==typeof e?eg(t,e):e instanceof fy?e.d_.f_:e.f_}function kg(t){if(Xl(t)&&0===t.xt.length)throw new kc(Nc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Og=function(){};function Dg(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.td(t)}return t}var Cg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).ed=e,i.nd=n,i.sd=r,i.type="where",i}return hi(e,t),e.prototype.td=function(t){var e=jy(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.ut()){if("array-contains"===o||"array-contains-any"===o)throw new kc(Nc.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Fg(s,o);for(var u=[],c=0,l=s;c<l.length;c++){var h=l[c];u.push(jg(r,t,h))}a={arrayValue:{values:u}}}else a=jg(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Fg(s,o),a=Qy(n,"where",s,"in"===o||"not-in"===o);var f=Ol.create(i,o,a);return function(t,e){if(e.Ct()){var n=Wl(t);if(null!==n&&!n.isEqual(e.field))throw new kc(Nc.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Kl(t);null!==r&&Ug(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new kc(Nc.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new kc(Nc.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,f),f}(t.C_,0,e,t.firestore.I_,this.ed,this.nd,this.sd);return new xy(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new $l(t.path,t.collectionGroup,t.xt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(Og),Pg=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ed=e,r.rd=n,r.type="orderBy",r}return hi(e,t),e.prototype.td=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new kc(Nc.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new kc(Nc.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new ql(e,n);return function(t,e){if(null===Kl(t)){var n=Wl(t);null!==n&&Ug(0,n,e.field)}}(t,r),r}(t.C_,this.ed,this.rd);return new xy(t.firestore,t.v_,function(t,e){var n=t.xt.concat([e]);return new $l(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(Og),Rg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.od=n,i.ad=r,i}return hi(e,t),e.prototype.td=function(t){return new xy(t.firestore,t.v_,eh(t.C_,this.od,this.ad))},e}(Og),Lg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ud=n,i.hd=r,i}return hi(e,t),e.prototype.td=function(t){var e=Vg(t,this.type,this.ud,this.hd);return new xy(t.firestore,t.v_,function(t,e){return new $l(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(Og),Mg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ud=n,i.hd=r,i}return hi(e,t),e.prototype.td=function(t){var e=Vg(t,this.type,this.ud,this.hd);return new xy(t.firestore,t.v_,function(t,e){return new $l(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(Og);function Vg(t,e,n,r){if(n[0]instanceof fy&&(n[0]=n[0].d_),n[0]instanceof Ag)return function(t,e,n,r,i){if(!r)throw new kc(Nc.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=Zl(t);s<a.length;s++){var u=a[s];if(u.field.ut())o.push(fl(e,r.key));else{var c=r.field(u.field);if(Zc(c))throw new kc(Nc.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.rt();throw new kc(Nc.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Fl(o,i)}(t.C_,t.firestore.I_,e,n[0].Zf,r);var i=jy(t.firestore);return function(t,e,n,r,i,o){var s=t.xt;if(i.length>s.length)throw new kc(Nc.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.ut()){if("string"!=typeof c)throw new kc(Nc.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Jl(t)&&-1!==c.indexOf("/"))throw new kc(Nc.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(qc.ot(c));if(!Gc.wt(l))throw new kc(Nc.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Gc(l);a.push(fl(e,h))}else{var f=Qy(n,r,c);a.push(f)}}return new Fl(a,o)}(t.C_,t.firestore.I_,i,e,n,r)}function jg(t,e,n){if(n instanceof fy&&(n=n.d_),"string"==typeof n){if(""===n)throw new kc(Nc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Jl(e)&&-1!==n.indexOf("/"))throw new kc(Nc.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(qc.ot(n));if(!Gc.wt(r))throw new kc(Nc.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return fl(t,new Gc(r))}if(n instanceof Ty)return fl(t,n.S_);throw new kc(Nc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+gy(n)+".")}function Fg(t,e){if(!Array.isArray(t)||0===t.length)throw new kc(Nc.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new kc(Nc.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Ug(t,e,n){if(!n.isEqual(e))throw new kc(Nc.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function qg(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var zg=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return hi(e,t),e.prototype.Wf=function(t){return new Oc(t)},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return new Ty(this.firestore,null,e)},e}(xg),Bg=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Gg=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this).Yf=e,a.ld=e,a.metadata=o,a}return hi(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Zf){if(this.v_){var e=new $g(this.Yf,this.Xf,this.S_,this.Zf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Xf.Uf(this.Zf.bt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Zf){var n=this.Zf.data().field(Ng("DocumentSnapshot.get",t));if(null!==n)return this.Xf.Uf(n,e.serverTimestamps)}},e}(Ag),$g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return hi(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Gg),Hg=function(){function t(t,e,n,r){this.Yf=t,this.Xf=e,this._d=r,this.metadata=new Bg(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._d.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._d.docs.forEach((function(r){t.call(e,new $g(n.Yf,n.Xf,r.key,r,new Bg(n._d.De.has(r.key),n._d.fromCache),n.query.v_))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._d.xe)throw new kc(Nc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.fd&&this.dd===e||(this.fd=function(t,e){if(t._d.Se.et()){var n=0;return t._d.docChanges.map((function(e){var r=new $g(t.Yf,t.Xf,e.doc.key,e.doc,new Bg(t._d.De.has(e.doc.key),t._d.fromCache),t.query.v_);return e.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=t._d.Se;return t._d.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new $g(t.Yf,t.Xf,e.doc.key,e.doc,new Bg(t._d.De.has(e.doc.key),t._d.fromCache),t.query.v_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Yg(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this.dd=e),this.fd},t}();function Yg(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bc()}}function Qg(t,e){return t instanceof Gg&&e instanceof Gg?t.Yf===e.Yf&&t.S_.isEqual(e.S_)&&(null===t.Zf?null===e.Zf:t.Zf.isEqual(e.Zf))&&t.v_===e.v_:t instanceof Hg&&e instanceof Hg&&t.Yf===e.Yf&&Oy(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._d.isEqual(e._d)}var Xg=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return hi(e,t),e.prototype.Wf=function(t){return new Oc(t)},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return new Ty(this.firestore,null,e)},e}(xg);function Kg(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=by(t,Ty);var o=by(t.firestore,_g),s=jy(o);return e instanceof fy&&(e=e.d_),Jg(o,[("string"==typeof e||e instanceof ly?Yy(s,"updateDoc",t.S_,e,n,r):Hy(s,"updateDoc",t.S_,e)).F_(t.S_,Ah.exists(!0))])}function Wg(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof fy&&(t=t.d_);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||bg(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(bg(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof Ty)c=by(t.firestore,_g),l=Yl(t.S_.path),u={next:function(e){i[a]&&i[a](Zg(c,t,e))},error:i[a+1],complete:i[a+2]};else{var p=by(t,xy);c=by(p.firestore,_g),l=p.C_;var d=new Xg(c);u={next:function(t){i[a]&&i[a](new Hg(c,d,p,t))},error:i[a+1],complete:i[a+2]},kg(t.C_)}return function(t,e,n,r){var i=this,o=new cy(r),s=new bm(e,o,n);return t._s.Ps((function(){return pi(i,void 0,void 0,(function(){var e;return di(this,(function(n){switch(n.label){case 0:return e=dm,[4,vg(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))})),function(){o.i_(),t._s.Ps((function(){return pi(i,void 0,void 0,(function(){var e;return di(this,(function(n){switch(n.label){case 0:return e=vm,[4,vg(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))}))}}(wg(c),l,h,u)}function Jg(t,e){return function(t,e){var n=this,r=new ep;return t._s.Ps((function(){return pi(n,void 0,void 0,(function(){var n;return di(this,(function(i){switch(i.label){case 0:return n=Dm,[4,dg(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(wg(t),e)}function Zg(t,e,n){var r=n.docs.get(e.S_),i=new Xg(t);return new Gg(t,i,e.S_,r,new Bg(n.hasPendingWrites,n.fromCache),e.v_)}var tb=function(){function t(t,e){this.Yf=t,this.wd=e,this.Ed=[],this.Td=!1,this.Id=jy(t)}return t.prototype.set=function(t,e,n){this.md();var r=eb(t,this.Yf),i=qg(r.v_,e,n),o=Fy(this.Id,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.Ed.push(o.F_(r.S_,Ah.Kt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.md();var o,s=eb(t,this.Yf);return e instanceof fy&&(e=e.d_),o="string"==typeof e||e instanceof ly?Yy(this.Id,"WriteBatch.update",s.S_,e,n,r):Hy(this.Id,"WriteBatch.update",s.S_,e),this.Ed.push(o.F_(s.S_,Ah.exists(!0))),this},t.prototype.delete=function(t){this.md();var e=eb(t,this.Yf);return this.Ed=this.Ed.concat(new zh(e.S_,Ah.Kt())),this},t.prototype.commit=function(){return this.md(),this.Td=!0,this.Ed.length>0?this.wd(this.Ed):Promise.resolve()},t.prototype.md=function(){if(this.Td)throw new kc(Nc.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function eb(t,e){if(t instanceof fy&&(t=t.d_),t.firestore!==e)throw new kc(Nc.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var nb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Yf=e,r}return hi(e,t),e.prototype.get=function(e){var n=this,r=eb(e,this.Yf),i=new Xg(this.Yf);return t.prototype.get.call(this,e).then((function(t){return new Gg(n.Yf,i,r.S_,t.Zf,new Bg(!1,!1),r.v_)}))},e}(function(){function t(t,e){this.Yf=t,this.Ad=e,this.Id=jy(t)}return t.prototype.get=function(t){var e=this,n=eb(t,this.Yf),r=new zg(this.Yf);return this.Ad.ef([n.S_]).then((function(t){if(!t||1!==t.length)return bc();var i=t[0];if(i instanceof Il)return new Ag(e.Yf,r,n.S_,null,n.v_);if(i instanceof El)return new Ag(e.Yf,r,i.key,i,n.v_);throw bc()}))},t.prototype.set=function(t,e,n){var r=eb(t,this.Yf),i=qg(r.v_,e,n),o=Fy(this.Id,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Ad.set(r.S_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=eb(t,this.Yf);return e instanceof fy&&(e=e.d_),o="string"==typeof e||e instanceof ly?Yy(this.Id,"Transaction.update",s.S_,e,n,r):Hy(this.Id,"Transaction.update",s.S_,e),this.Ad.update(s.S_,o),this},t.prototype.delete=function(t){var e=eb(t,this.Yf);return this.Ad.delete(e.S_),this},t}());function rb(){if("undefined"==typeof Uint8Array)throw new kc(Nc.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function ib(){if("undefined"==typeof atob)throw new kc(Nc.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var ob=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return hi(e,t),e.fromBase64String=function(t){return ib(),new e(Oc.fromBase64String(t))},e.fromUint8Array=function(t){return rb(),new e(Oc.fromUint8Array(t))},e.prototype.toBase64=function(){return ib(),this.d_.toBase64()},e.prototype.toUint8Array=function(){return rb(),this.d_.toUint8Array()},e.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(fy),sb=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Tg(t=by(t,_g));var n=wg(t),r=t.p_(),i=new uy;return Ig(n,i,new sy(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t.d_,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Tg(t=by(t,_g));var e=wg(t),n=t.p_(),r=new uy;return Ig(e,r,new ay(r,n.cacheSizeBytes))}(t.d_)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new kc(Nc.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new ep;return t.Bf.Tf((function(){return pi(e,void 0,void 0,(function(){var e;return di(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return pi(this,void 0,void 0,(function(){var e;return di(this,(function(n){switch(n.label){case 0:return ip.Kn()?(e=t+"main",[4,ip.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(Fd(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t.d_)},t}(),ab=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Rd=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof fc||(i.Pd=e),i}return hi(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this.d_.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.d_.V_()),t)).merge,this.d_.g_(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=by(t,Iy)).V_();"firestore.googleapis.com"!==r.host&&r.host!==e&&yc("Host has been set in both settings() and useEmulator(), emulator host will be used"),t.g_(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this.d_,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t._s.enqueue((function(){return pi(e,void 0,void 0,(function(){var e,n;return di(this,(function(r){switch(r.label){case 0:return[4,hg(t)];case 1:return e=r.sent(),[4,pg(t)];case 2:return n=r.sent(),[2,(e.yo(!0),function(t){var e=wc(t);return e.Nh.delete(0),qv(e)}(n))]}}))}))}))}(wg(by(this.d_,_g)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t._s.enqueue((function(){return pi(e,void 0,void 0,(function(){var e,n;return di(this,(function(r){switch(r.label){case 0:return[4,hg(t)];case 1:return e=r.sent(),[4,pg(t)];case 2:return n=r.sent(),[2,(e.yo(!1),function(t){return pi(this,void 0,void 0,(function(){var e;return di(this,(function(n){switch(n.label){case 0:return(e=wc(t)).Nh.add(0),[4,zv(e)];case 1:return n.sent(),e.Oh.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(wg(by(this.d_,_g)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&vy("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Rd.enableMultiTabIndexedDbPersistence(this):this.Rd.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Rd.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.Pd&&(this.Pd._removeServiceInstance("firestore"),this.Pd._removeServiceInstance("firestore-exp")),this.d_._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new ep;return t._s.Ps((function(){return pi(e,void 0,void 0,(function(){var e;return di(this,(function(r){switch(r.label){case 0:return e=Vm,[4,dg(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(wg(by(this.d_,_g)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new cy(e);return t._s.Ps((function(){return pi(n,void 0,void 0,(function(){var e;return di(this,(function(n){switch(n.label){case 0:return e=function(t,e){wc(t).Wh.add(e),e.next()},[4,vg(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.i_(),t._s.Ps((function(){return pi(n,void 0,void 0,(function(){var e;return di(this,(function(n){switch(n.label){case 0:return e=function(t,e){wc(t).Wh.delete(e)},[4,vg(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(wg(t=by(t,_g)),bg(e)?e:{next:e})}(this.d_,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Pd)throw new kc(Nc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Pd},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new wb(this,Sy(this.d_,t))}catch(t){throw pb(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new fb(this,Ny(this.d_,t))}catch(t){throw pb(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new gb(this,function(t,e){if(t=by(t,Iy),py("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new kc(Nc.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new xy(t,null,function(t){return new $l(qc.ct(),t)}(e))}(this.d_,t))}catch(t){throw pb(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new ep;return t._s.Ps((function(){return pi(n,void 0,void 0,(function(){var n;return di(this,(function(i){switch(i.label){case 0:return[4,function(t){return lg(t).then((function(t){return t.Sh}))}(t)];case 1:return n=i.sent(),new og(t._s,n,e,r).run(),[2]}}))}))})),r.promise}(wg(t),(function(n){return e(new nb(t,n))}))}(this.d_,(function(n){return t(new cb(e,n))}))},e.prototype.batch=function(){var t=this;return wg(this.d_),new lb(new tb(this.d_,(function(e){return Jg(t.d_,e)})))},e.prototype.loadBundle=function(t){throw new kc(Nc.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new kc(Nc.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(fy),ub=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return hi(e,t),e.prototype.Wf=function(t){return new ob(new Oc(t))},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return fb.yd(e,this.firestore,null)},e}(xg),cb=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r.Xf=new ub(e),r}return hi(e,t),e.prototype.get=function(t){var e=this,n=Eb(t);return this.d_.get(n).then((function(t){return new mb(e.Yf,new Gg(e.Yf.d_,e.Xf,t.S_,t.Zf,t.metadata,n.v_))}))},e.prototype.set=function(t,e,n){var r=Eb(t);return n?(dy("Transaction.set",n),this.d_.set(r,e,n)):this.d_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Eb(t);return 2===arguments.length?this.d_.update(s,e):(r=this.d_).update.apply(r,yi([s,e,n],i)),this},e.prototype.delete=function(t){var e=Eb(t);return this.d_.delete(e),this},e}(fy),lb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return hi(e,t),e.prototype.set=function(t,e,n){var r=Eb(t);return n?(dy("WriteBatch.set",n),this.d_.set(r,e,n)):this.d_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Eb(t);return 2===arguments.length?this.d_.update(s,e):(r=this.d_).update.apply(r,yi([s,e,n],i)),this},e.prototype.delete=function(t){var e=Eb(t);return this.d_.delete(e),this},e.prototype.commit=function(){return this.d_.commit()},e}(fy),hb=function(t){function e(e,n,r){var i=this;return(i=t.call(this,r)||this).Yf=e,i.Xf=n,i}return hi(e,t),e.prototype.fromFirestore=function(t,e){var n=new $g(this.Yf.d_,this.Xf,t.S_,t.Zf,t.metadata,null);return this.d_.fromFirestore(new yb(this.Yf,n),null!=e?e:{})},e.prototype.toFirestore=function(t,e){return e?this.d_.toFirestore(t,e):this.d_.toFirestore(t)},e.gd=function(t,n){var r=e.Vd,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new ub(t),n),i.set(n,o)),o},e}(fy);hb.Vd=new WeakMap;var fb=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Xf=new ub(e),r}return hi(e,t),e.pd=function(t,n,r){if(t.length%2!=0)throw new kc(Nc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.rt()+" has "+t.length);return new e(n,new Ty(n.d_,r,new Gc(t)))},e.yd=function(t,n,r){return new e(n,new Ty(n.d_,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new wb(this.firestore,this.d_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new wb(this.firestore,Sy(this.d_,t))}catch(t){throw pb(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof fy&&(t=t.d_),t instanceof Ty&&ky(this.d_,t)},e.prototype.set=function(t,e){e=dy("DocumentReference.set",e);try{return function(t,e,n){t=by(t,Ty);var r=by(t.firestore,_g),i=qg(t.v_,e,n);return Jg(r,[Fy(jy(r),"setDoc",t.S_,i,null!==t.v_,n).F_(t.S_,Ah.Kt())])}(this.d_,t,e)}catch(t){throw pb(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Kg(this.d_,t):Kg.apply(void 0,yi([this.d_,t,e],n))}catch(t){throw pb(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Jg(by((t=this.d_).firestore,_g),[new zh(t.S_,Ah.Kt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=db(e),i=vb(e,(function(e){return new mb(t.firestore,new Gg(t.firestore.d_,t.Xf,e.S_,e.Zf,e.metadata,t.d_.v_))}));return Wg(this.d_,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=by(t,Ty);var e=by(t.firestore,_g),n=wg(e),r=new Xg(e);return function(t,e){var n=this,r=new ep;return t._s.Ps((function(){return pi(n,void 0,void 0,(function(){var n;return di(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return pi(this,void 0,void 0,(function(){var r,i;return di(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=wc(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Tc.Ho(t,e)}))}(t,e)];case 1:return(i=o.sent())instanceof El?n.resolve(i):i instanceof Il?n.resolve(null):n.reject(new kc(Nc.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=pp(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,fg(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.S_).then((function(n){return new Gg(e,r,t.S_,n,new Bg(n instanceof El&&n.Vt,!0),t.v_)}))}(this.d_):"server"===(null==t?void 0:t.source)?function(t){t=by(t,Ty);var e=by(t.firestore,_g);return mg(wg(e),t.S_,{source:"server"}).then((function(n){return Zg(e,t,n)}))}(this.d_):function(t){t=by(t,Ty);var e=by(t.firestore,_g);return mg(wg(e),t.S_).then((function(n){return Zg(e,t,n)}))}(this.d_)).then((function(t){return new mb(e.firestore,new Gg(e.firestore.d_,e.Xf,t.S_,t.Zf,t.metadata,e.d_.v_))}))},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(hb.gd(this.firestore,t)))},e}(fy);function pb(t,e,n){return t.message=t.message.replace(e,n),t}function db(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!bg(r))return r}return{}}function vb(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=bg(t[0])?t[0]:bg(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var mb=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return hi(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new fb(this.Yf,this.d_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this.d_.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this.d_.data(t)},e.prototype.get=function(t,e){return this.d_.get(t,e)},e.prototype.isEqual=function(t){return Qg(this.d_,t.d_)},e}(fy),yb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return hi(e,t),e.prototype.data=function(t){return this.d_.data(t)},e}(mb),gb=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Xf=new ub(e),r}return hi(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,Dg(this.d_,function(t,e,n){var r=e,i=Ng("where",t);return new Cg(i,r,n)}(t,n,r)))}catch(t){throw pb(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Dg(this.d_,function(t,e){void 0===e&&(e="asc");var n=e,r=Ng("orderBy",t);return new Pg(r,n)}(t,n)))}catch(t){throw pb(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Dg(this.d_,function(t){return _y("limit",t),new Rg("limit",t,"F")}(t)))}catch(t){throw pb(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Dg(this.d_,function(t){return _y("limitToLast",t),new Rg("limitToLast",t,"L")}(t)))}catch(t){throw pb(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Dg(this.d_,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Lg("startAt",t,!0)}.apply(void 0,t)))}catch(t){throw pb(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Dg(this.d_,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Lg("startAfter",t,!1)}.apply(void 0,t)))}catch(t){throw pb(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Dg(this.d_,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Mg("endBefore",t,!0)}.apply(void 0,t)))}catch(t){throw pb(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Dg(this.d_,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Mg("endAt",t,!1)}.apply(void 0,t)))}catch(t){throw pb(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return Oy(this.d_,t.d_)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=by(t,xy);var e=by(t.firestore,_g),n=wg(e),r=new Xg(e);return function(t,e){var n=this,r=new ep;return t._s.Ps((function(){return pi(n,void 0,void 0,(function(){var n;return di(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return pi(this,void 0,void 0,(function(){var r,i,o,s,a;return di(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,tv(t,e,!0)];case 1:return a=u.sent(),r=new Tm(e,a.Rc),i=r.fl(a.documents),o=r.wi(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=pp(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}}))}))},[4,fg(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.C_).then((function(n){return new Hg(e,r,t,n)}))}(this.d_):"server"===(null==t?void 0:t.source)?function(t){t=by(t,xy);var e=by(t.firestore,_g),n=wg(e),r=new Xg(e);return yg(n,t.C_,{source:"server"}).then((function(n){return new Hg(e,r,t,n)}))}(this.d_):function(t){t=by(t,xy);var e=by(t.firestore,_g),n=wg(e),r=new Xg(e);return kg(t.C_),yg(n,t.C_).then((function(n){return new Hg(e,r,t,n)}))}(this.d_)).then((function(t){return new _b(e.firestore,new Hg(e.firestore.d_,e.Xf,e.d_,t._d))}))},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=db(e),i=vb(e,(function(e){return new _b(t.firestore,new Hg(t.firestore.d_,t.Xf,t.d_,e._d))}));return Wg(this.d_,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(hb.gd(this.firestore,t)))},e}(fy),bb=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return hi(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.d_.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new yb(this.Yf,this.d_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this.d_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this.d_.newIndex},enumerable:!1,configurable:!0}),e}(fy),_b=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return hi(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new gb(this.Yf,this.d_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.d_.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.d_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this.d_.docs.map((function(e){return new yb(t.Yf,e)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this.d_.docChanges(t).map((function(t){return new bb(e.Yf,t)}))},e.prototype.forEach=function(t,e){var n=this;this.d_.forEach((function(r){t.call(e,new yb(n.Yf,r))}))},e.prototype.isEqual=function(t){return Qg(this.d_,t.d_)},e}(fy),wb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r.d_=n,r}return hi(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.d_.parent;return t?new fb(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new fb(this.firestore,void 0===t?Ny(this.d_):Ny(this.d_,t))}catch(t){throw pb(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=by(t.firestore,_g),r=Ny(t),i=qg(t.v_,e);return Jg(n,[Fy(jy(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).F_(r.S_,Ah.exists(!1))]).then((function(){return r}))}(this.d_,t).then((function(t){return new fb(e.firestore,t)}))},e.prototype.isEqual=function(t){return ky(this.d_,t.d_)},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(hb.gd(this.firestore,t)))},e}(gb);function Eb(t){return t instanceof fy&&(t=t.d_),by(t,Ty)}var Ib,Tb=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(ly.bind.apply(ly,yi([void 0],e))))||this}return hi(e,t),e.documentId=function(){return new e(Bc.ht().rt())},e.prototype.isEqual=function(t){return t instanceof fy&&(t=t.d_),t instanceof ly&&this.d_.f_.isEqual(t.f_)},e}(fy),xb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return hi(e,t),e.serverTimestamp=function(){var t=new zy("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Uy("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new By("arrayUnion",t)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Gy("arrayRemove",t)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new $y("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},e}(fy),Ab={Firestore:ab,GeoPoint:Dy,Timestamp:jc,Blob:ob,Transaction:cb,WriteBatch:lb,DocumentReference:fb,DocumentSnapshot:mb,Query:gb,QueryDocumentSnapshot:yb,QuerySnapshot:_b,CollectionReference:wb,FieldPath:Tb,FieldValue:xb,setLogLevel:function(t){var e;e=t,pc.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Di("firestore",(function(t){return function(t,e){return new ab(t,new _g(t,e),new sb)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Ab)))})(Ib=io),Ib.registerVersion("@firebase/firestore","2.1.7"),io.initializeApp({apiKey:"AIzaSyB-iTs21KY9HM38jj-HJ-BGPVGwTojrpPU",authDomain:"lsr8300.firebaseapp.com",databaseURL:"https://lsr8300-default-rtdb.europe-west1.firebasedatabase.app",projectId:"lsr8300",storageBucket:"lsr8300.appspot.com",messagingSenderId:"784956839368",appId:"1:784956839368:web:74b893f16c8cfd5cf55cfd",measurementId:"G-6LL4GN2J19"});const Sb=io.firestore();function Nb(t,e,n){const r=t.slice();return r[5]=e[n],r}function kb(t,e,n){const r=t.slice();return r[8]=e[n],r[10]=n,r}function Ob(t){let e,n,r,i,o,s,a,f,m,_=t[8].titre+"",w=t[8].ouvert?"-":"+";function E(){return t[4](t[8],t[10])}return{c(){e=p("div"),n=p("p"),r=d(_),i=v(),o=p("div"),s=d(w),g(n,"class","option__titre svelte-1tkgeb5"),g(o,"class","option__ouverture"),g(e,"class",a=u(t[0]===t[8].titre||-1==t[0]?"option affichee":"option hidden")+" svelte-1tkgeb5")},m(t,a){l(t,e,a),c(e,n),c(n,r),c(e,i),c(e,o),c(o,s),f||(m=y(e,"click",E),f=!0)},p(n,i){t=n,2&i&&_!==(_=t[8].titre+"")&&b(r,_),2&i&&w!==(w=t[8].ouvert?"-":"+")&&b(s,w),3&i&&a!==(a=u(t[0]===t[8].titre||-1==t[0]?"option affichee":"option hidden")+" svelte-1tkgeb5")&&g(e,"class",a)},d(t){t&&h(e),f=!1,m()}}}function Db(t){let e,n,r=t[2],i=[];for(let e=0;e<r.length;e+=1)i[e]=Mb(Nb(t,r,e));return{c(){e=p("div"),n=p("table");for(let t=0;t<i.length;t+=1)i[t].c();g(n,"align","center"),g(n,"class","svelte-1tkgeb5"),g(e,"class","equipeContainer svelte-1tkgeb5")},m(t,r){l(t,e,r),c(e,n);for(let t=0;t<i.length;t+=1)i[t].m(n,null)},p(t,e){if(5&e){let o;for(r=t[2],o=0;o<r.length;o+=1){const s=Nb(t,r,o);i[o]?i[o].p(s,e):(i[o]=Mb(s),i[o].c(),i[o].m(n,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=r.length}},d(t){t&&h(e),f(i,t)}}}function Cb(t){let e,n,r,i,o,s,a,u,f,m,y,_,w,E,I,T,x,A,S,N,k,O,D=t[5].data().Nom+"",C=t[5].data().Prenom+"",P=!!t[5].data().Fonction||!!t[5].data().Ville,R=t[5].Fixe+"",L=t[5].data().Portable+"",M=t[5].data().Mail+"",V=P&&Pb(t),j=("Conseil d'administration"==t[0]||"Responsables d'Activité"==t[0])&&Rb(t),F="Les antennes"==t[0]&&Lb(t);return{c(){e=p("tr"),n=p("td"),r=p("div"),i=p("p"),o=d(D),s=v(),a=p("p"),u=d(C),f=v(),V&&V.c(),m=v(),j&&j.c(),y=v(),_=p("td"),w=p("div"),E=d(R),I=v(),T=p("div"),x=d(L),A=v(),S=p("td"),N=d(M),k=v(),F&&F.c(),O=v(),g(i,"class","nom svelte-1tkgeb5"),g(a,"class","prenom svelte-1tkgeb5"),g(r,"class","nomPrenom svelte-1tkgeb5"),g(n,"class","firstSlot svelte-1tkgeb5"),g(w,"class","fixe"),g(T,"class","portable"),g(_,"class","telephones svelte-1tkgeb5"),g(S,"class","mail svelte-1tkgeb5"),g(e,"class","membreEquipe svelte-1tkgeb5")},m(t,h){l(t,e,h),c(e,n),c(n,r),c(r,i),c(i,o),c(r,s),c(r,a),c(a,u),c(n,f),V&&V.m(n,null),c(e,m),j&&j.m(e,null),c(e,y),c(e,_),c(_,w),c(w,E),c(_,I),c(_,T),c(T,x),c(e,A),c(e,S),c(S,N),c(e,k),F&&F.m(e,null),c(e,O)},p(t,r){4&r&&D!==(D=t[5].data().Nom+"")&&b(o,D),4&r&&C!==(C=t[5].data().Prenom+"")&&b(u,C),4&r&&(P=!!t[5].data().Fonction||!!t[5].data().Ville),P?V?V.p(t,r):(V=Pb(t),V.c(),V.m(n,null)):V&&(V.d(1),V=null),"Conseil d'administration"==t[0]||"Responsables d'Activité"==t[0]?j?j.p(t,r):(j=Rb(t),j.c(),j.m(e,y)):j&&(j.d(1),j=null),4&r&&R!==(R=t[5].Fixe+"")&&b(E,R),4&r&&L!==(L=t[5].data().Portable+"")&&b(x,L),4&r&&M!==(M=t[5].data().Mail+"")&&b(N,M),"Les antennes"==t[0]?F?F.p(t,r):(F=Lb(t),F.c(),F.m(e,O)):F&&(F.d(1),F=null)},d(t){t&&h(e),V&&V.d(),j&&j.d(),F&&F.d()}}}function Pb(t){let e,n,r=("Conseil d'administration"==t[0]?t[5].data().Fonction:t[5].data().Ville)+"";return{c(){e=p("span"),n=d(r),g(e,"class","fonction svelte-1tkgeb5")},m(t,r){l(t,e,r),c(e,n)},p(t,e){5&e&&r!==(r=("Conseil d'administration"==t[0]?t[5].data().Fonction:t[5].data().Ville)+"")&&b(n,r)},d(t){t&&h(e)}}}function Rb(t){let e,n,r=t[5].data().Responsabilite+"";return{c(){e=p("td"),n=d(r),g(e,"class","responsabilite svelte-1tkgeb5")},m(t,r){l(t,e,r),c(e,n)},p(t,e){4&e&&r!==(r=t[5].data().Responsabilite+"")&&b(n,r)},d(t){t&&h(e)}}}function Lb(t){let e,n,r,i,o,s=t[5].data().Lieu+"",a=t[5].data().Dates+"";return{c(){e=p("td"),n=d(s),r=v(),i=p("td"),o=d(a),g(e,"class","lieuAntenne svelte-1tkgeb5"),g(i,"class","dateAntenne svelte-1tkgeb5")},m(t,s){l(t,e,s),c(e,n),l(t,r,s),l(t,i,s),c(i,o)},p(t,e){4&e&&s!==(s=t[5].data().Lieu+"")&&b(n,s),4&e&&a!==(a=t[5].data().Dates+"")&&b(o,a)},d(t){t&&h(e),t&&h(r),t&&h(i)}}}function Mb(t){let e,n=t[5].data().Categorie.toLowerCase()==t[0].toLowerCase(),r=n&&Cb(t);return{c(){r&&r.c(),e=m()},m(t,n){r&&r.m(t,n),l(t,e,n)},p(t,i){5&i&&(n=t[5].data().Categorie.toLowerCase()==t[0].toLowerCase()),n?r?r.p(t,i):(r=Cb(t),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null)},d(t){r&&r.d(t),t&&h(e)}}}function Vb(t){let n,r,i,o,s=t[1],a=[];for(let e=0;e<s.length;e+=1)a[e]=Ob(kb(t,s,e));let u=-1!=t[0]&&Db(t);return{c(){n=p("div"),r=p("h1"),r.textContent="ÉQUIPE",i=v();for(let t=0;t<a.length;t+=1)a[t].c();o=v(),u&&u.c(),g(r,"id","titrePage"),g(r,"class","svelte-1tkgeb5"),g(n,"class","container svelte-1tkgeb5")},m(t,e){l(t,n,e),c(n,r),c(n,i);for(let t=0;t<a.length;t+=1)a[t].m(n,null);c(n,o),u&&u.m(n,null)},p(t,[e]){if(11&e){let r;for(s=t[1],r=0;r<s.length;r+=1){const i=kb(t,s,r);a[r]?a[r].p(i,e):(a[r]=Ob(i),a[r].c(),a[r].m(n,o))}for(;r<a.length;r+=1)a[r].d(1);a.length=s.length}-1!=t[0]?u?u.p(t,e):(u=Db(t),u.c(),u.m(n,null)):u&&(u.d(1),u=null)},i:e,o:e,d(t){t&&h(n),f(a,t),u&&u.d()}}}function jb(t,e,n){let r=[{titre:"Conseil d'administration",ouvert:!1},{titre:"Commission de contrôle",ouvert:!1},{titre:"Responsables d'Activité",ouvert:!1},{titre:"Les antennes",ouvert:!1}],{sectionAffichee:i=-1}=e;function o(t,e){n(1,r[e].ouvert=!r[e].ouvert,r),-1==i?(n(0,i=t),setTimeout((()=>{ci.fromTo(".membreEquipe",{opacity:0,y:"100px"},{duration:.8,opacity:1,ease:er.easeOut,y:0,stagger:.05})}),0)):n(0,i=-1)}var s=[];return I((()=>{Sb.collection("equipe").onSnapshot((t=>{n(2,s=t.docs)}))})),t.$$set=t=>{"sectionAffichee"in t&&n(0,i=t.sectionAffichee)},[i,r,s,o,(t,e)=>o(t.titre,e)]}const Fb=class extends Y{constructor(t){super(),H(this,t,jb,Vb,s,{sectionAffichee:0})}};function Ub(t){let n,r,o,s,a,u,f,d,m,b,w,E,I,T,x,A,S,N,k,O,D,C,P,R;return{c(){n=p("div"),r=p("div"),r.innerHTML='<div class="homeInfo svelte-15bmvl1"><h3 class="homeInfo__titre svelte-15bmvl1">QUI SOMMES NOUS?</h3> \n      <span class="homeInfo__separateur svelte-15bmvl1"></span> \n      <p class="homeInfo__texte svelte-15bmvl1"><b><i>Loisir et Solidarité des Retraités de TOULON et du VAR</i></b>\n        est une association loi 1901 dont le but est de permettre aux personnes en\n        pré-retraite ou en retraite de réaliser leurs aspirations de loisirs culturels,\n        sportifs. Pour cela nous vous proposons des activités très diversifiées afin\n        d&#39;intéresser le plus grand nombre de nos adhérents. Nous nous promettons,\n        également, d&#39;agir, aussi souvent que cela se peut, par solidarité dans le\n        cadre de la cité et de la nation et de nous opposer à tout ce qui induit\n        inégalités et exclusion, il ne faut pas oublier que notre LSR, toutes les\n        LSR, sont une émanation de la CGT . Pour ces raisons nous soutenons toutes\n        les actions qui contribuent à améliorer le pouvoir d&#39;achat, la santé, et\n        la protection sociale.</p> \n      <div class="homeInfo__bouton bouton svelte-15bmvl1">NOUS REJOINDRE</div></div> \n\n    <div class="collegues svelte-15bmvl1"><h3 class="collegues__titre svelte-15bmvl1">VISITEZ NOS COLLÈGUES</h3> \n      <span class="collegues__separateur svelte-15bmvl1"></span> \n\n      <table class="collegues__liste svelte-15bmvl1"><tr><td class="collegues__liste__item svelte-15bmvl1"><a target="_blank" href="http://www.lsrfede.fr" class="svelte-15bmvl1">LA FÉDÉRATION</a></td> \n          <td class="collegues__liste__item svelte-15bmvl1"><a target="_blank" href="http://www.cda-blog-asso.com/lsr" class="svelte-15bmvl1">LSR DU MORBIHAN</a></td> \n          <td class="collegues__liste__item svelte-15bmvl1"><a target="_blank" href="http://ambro649.free.fr" class="svelte-15bmvl1">LSR AIR FRANCE</a></td></tr> \n\n        <tr><td class="collegues__liste__item svelte-15bmvl1"><a target="_blank" href="http://lsr21dijon.org" class="svelte-15bmvl1">LSR DIJON</a></td> \n          <td class="collegues__liste__item svelte-15bmvl1"><a target="_blank" href="http://www.lsr-ratp.org" class="svelte-15bmvl1">LSR RATP</a></td> \n          <td class="collegues__liste__item svelte-15bmvl1"><a target="_blank" href="http://lsrmarseille.fr/spip.php/accueil/index.html" class="svelte-15bmvl1">LSR MARSEILLE</a></td></tr> \n        <tr><td class="collegues__liste__item svelte-15bmvl1"><p class="svelte-15bmvl1">LSR AUBAGNE</p></td> \n          <td class="collegues__liste__item svelte-15bmvl1"><p class="svelte-15bmvl1">LSR LA CIOTAT</p></td> \n          <td class="collegues__liste__item svelte-15bmvl1"><p class="svelte-15bmvl1">LSR PTT VAR</p></td></tr></table></div> \n\n    <ul class="partenaires svelte-15bmvl1"><li class="partenaires__image svelte-15bmvl1"><img src="./img/Partenaires/var.png" alt="blabla" id="logoVar" srcset="" class="svelte-15bmvl1"/></li> \n      <li class="partenaires__image svelte-15bmvl1"><img src="./img/Partenaires/PACA.png" alt="blabla" srcset="" class="svelte-15bmvl1"/></li> \n      <li class="partenaires__image svelte-15bmvl1"><img src="./img/Partenaires/Cadierenne.png" alt="logo La Cadierrenne" id="logoLaCadierenne" srcset="" class="svelte-15bmvl1"/></li> \n      <li class="partenaires__image svelte-15bmvl1"><img src="./img/Partenaires/Seyne-sur-mer.png" alt="blabla" srcset="" class="svelte-15bmvl1"/></li> \n      <li class="partenaires__image svelte-15bmvl1"><img src="./img/Partenaires/Solies.png" alt="blabla" srcset="" class="svelte-15bmvl1"/></li> \n\n      <li class="partenaires__image svelte-15bmvl1"><img src="./img/Partenaires/la-valette.png" alt="blabla" srcset="" class="svelte-15bmvl1"/></li></ul>',o=v(),s=p("div"),a=p("img"),f=v(),d=p("div"),m=p("h3"),m.textContent="TITRE ACTUALITÉ",b=v(),w=p("span"),E=v(),I=p("p"),I.textContent="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam interdum\r\n        tincidunt tortor quis lobortis. Nam gravida aliquet diam id ultricies.\r\n        Nulla gravida metus eget nunc placerat sollicitudin.Maecenas nibh\r\n        lectus, efficitur a tempor in, porttitor at lacus….",T=v(),x=p("p"),x.textContent="EN SAVOIR +",A=v(),S=p("div"),N=p("span"),k=v(),O=p("span"),D=v(),C=p("span"),g(r,"class","accueilContainer svelte-15bmvl1"),g(a,"class","actu__image svelte-15bmvl1"),a.src!==(u="./img/actu/images/image_1.jpg")&&g(a,"src","./img/actu/images/image_1.jpg"),g(a,"alt","image Manifestation LSR"),g(m,"class","actu__titre svelte-15bmvl1"),g(w,"class","actu__separateur svelte-15bmvl1"),g(I,"class","actu__texte svelte-15bmvl1"),g(x,"class","actu__boutonPlus svelte-15bmvl1"),g(N,"class","actu__selector__circle svelte-15bmvl1"),_(N,"actu__selector__circle--active",1===t[0]),g(O,"class","actu__selector__circle svelte-15bmvl1"),_(O,"actu__selector__circle--active",2===t[0]),g(C,"class","actu__selector__circle svelte-15bmvl1"),_(C,"actu__selector__circle--active",3===t[0]),g(S,"class","actu__selector svelte-15bmvl1"),g(d,"class","actu__articleContainer svelte-15bmvl1"),g(s,"class","actu svelte-15bmvl1"),g(n,"class","wrapper svelte-15bmvl1")},m(e,i){l(e,n,i),c(n,r),c(n,o),c(n,s),c(s,a),c(s,f),c(s,d),c(d,m),c(d,b),c(d,w),c(d,E),c(d,I),c(d,T),c(d,x),c(d,A),c(d,S),c(S,N),c(S,k),c(S,O),c(S,D),c(S,C),P||(R=[y(N,"click",t[1]),y(O,"click",t[2]),y(C,"click",t[3])],P=!0)},p(t,[e]){1&e&&_(N,"actu__selector__circle--active",1===t[0]),1&e&&_(O,"actu__selector__circle--active",2===t[0]),1&e&&_(C,"actu__selector__circle--active",3===t[0])},i:e,o:e,d(t){t&&h(n),P=!1,i(R)}}}function qb(t,e,n){let r=1;return[r,()=>n(0,r=1),()=>n(0,r=2),()=>n(0,r=3)]}const zb=class extends Y{constructor(t){super(),H(this,t,qb,Ub,s,{})}};function Bb(t,e,n){const r=t.slice();return r[0]=e[n],r}function Gb(t){let e;return{c(){e=p("li"),e.innerHTML="<p>10-17 OCTOBRE</p> \n          <p>SORTIE À EVIAN</p> \n          <p>ANTENNE</p> \n        ",g(e,"class","svelte-mre0jn")},m(t,n){l(t,e,n)},d(t){t&&h(e)}}}function $b(t){let n,r,i,o,s,a=Array(20),u=[];for(let e=0;e<a.length;e+=1)u[e]=Gb(Bb(t,a,e));return{c(){n=p("div"),r=p("div"),r.innerHTML="Pour toutes sorties en car les participants doivent verser un acompte, pour\n    frais de dossier, de 20€ à l&#39;inscription.<br/><br/>\n\n    Cet acompte, qui correspond au coût du transport, ainsi que les 10€\n    d’assurance ne seront pas remboursés si l’annulation se fait moins de 45\n    jours avant le départ.<br/><br/>\n\n    Les personnes participant aux voyages et non adhérents (famille, amis)\n    doivent signer une decharge<br/><br/>\n\n    Pour des raisons de commodités il n&#39;est plus possible d&#39;attendre les\n    participants au delà de 5 minutes.<br/><br/>\n\n    Notre association reçoit, de la mairie de Toulon, quelques invitations pour\n    des spectacles à l&#39;opéra vu le nombre restreint de places (5 !) attribuées\n    il sera établi un roulement.<br/><br/> \n\n    <b><u>UNIQUEMENT POUR LES TOULONNAIS :</u></b><br/>\n    Il est possible d&#39;obtenir des places individuellement en se présentant 15 jours\n    avant la date au Service Animation Séniors, 10 place louis Blanc",i=v(),o=p("div"),s=p("ul");for(let t=0;t<u.length;t+=1)u[t].c();g(r,"class","infoPlanningAnnuel svelte-mre0jn"),g(s,"class","activites svelte-mre0jn"),g(o,"class","activitesAnnee svelte-mre0jn"),g(n,"class","container svelte-mre0jn")},m(t,e){l(t,n,e),c(n,r),c(n,i),c(n,o),c(o,s);for(let t=0;t<u.length;t+=1)u[t].m(s,null)},p:e,i:e,o:e,d(t){t&&h(n),f(u,t)}}}const Hb=class extends Y{constructor(t){super(),H(this,t,null,$b,s,{})}};function Yb(t){let n,r,o,s,a,u,f,m,_,w,E,I,T,x;return{c(){n=p("div"),r=p("div"),o=v(),s=p("div"),a=v(),u=p("div"),f=p("p"),m=p("strong"),m.textContent="Activitée:",_=v(),w=d(t[0]),E=v(),I=p("div"),g(r,"class","reliefPannel svelte-1puj301"),g(s,"class","backgroundPannel svelte-1puj301"),g(u,"class","textContainer svelte-1puj301"),g(n,"class","detailsPannel svelte-1puj301"),g(I,"class","blurBackground svelte-1puj301")},m(e,i){l(e,n,i),c(n,r),c(n,o),c(n,s),c(n,a),c(n,u),c(u,f),c(f,m),c(f,_),c(f,w),l(e,E,i),l(e,I,i),T||(x=[y(n,"click",t[2]),y(I,"click",t[1])],T=!0)},p(t,[e]){1&e&&b(w,t[0])},i:e,o:e,d(t){t&&h(n),t&&h(E),t&&h(I),T=!1,i(x)}}}function Qb(t,e,n){document.getElementById("darkenScreen").style.visibility="visible";let{typeActivite:r="vebeb"}=e;return t.$$set=t=>{"typeActivite"in t&&n(0,r=t.typeActivite)},[r,function(e){T(t,e)},function(e){T(t,e)}]}const Xb=class extends Y{constructor(t){super(),H(this,t,Qb,Yb,s,{typeActivite:0})}};function Kb(t,e,n){const r=t.slice();return r[9]=e[n],r}function Wb(t,e,n){const r=t.slice();return r[9]=e[n],r}function Jb(t,e,n){const r=t.slice();return r[14]=e[n],r}function Zb(t){let e,n,r,i,o,s,a,u=t[2](t[14].data().date)+"",f=t[14].data().nom+"";return{c(){e=p("p"),n=d(u),r=d(" - "),i=d(f),o=v(),g(e,"class","svelte-1mdxfh3")},m(u,h){l(u,e,h),c(e,n),c(e,r),c(e,i),c(e,o),s||(a=y(e,"click",t[4]),s=!0)},p(t,e){1&e&&u!==(u=t[2](t[14].data().date)+"")&&b(n,u),1&e&&f!==(f=t[14].data().nom+"")&&b(i,f)},d(t){t&&h(e),s=!1,a()}}}function t_(t){let n,r,i;return{c(){n=p("p"),n.textContent="LUNDI 4 - RANDONÉE",g(n,"class","svelte-1mdxfh3")},m(e,o){l(e,n,o),r||(i=y(n,"click",t[5]),r=!0)},p:e,d(t){t&&h(n),r=!1,i()}}}function e_(t){let n,r,i;return{c(){n=p("p"),n.textContent="LUNDI 4 - RANDONÉE",g(n,"class","svelte-1mdxfh3")},m(e,o){l(e,n,o),r||(i=y(n,"click",t[6]),r=!0)},p:e,d(t){t&&h(n),r=!1,i()}}}function n_(t){let n,r;return n=new Xb({props:{typeActivite:"Randonnée"}}),n.$on("click",t[7]),{c(){B(n.$$.fragment)},m(t,e){G(n,t,e),r=!0},p:e,i(t){r||(q(n.$$.fragment,t),r=!0)},o(t){z(n.$$.fragment,t),r=!1},d(t){$(n,t)}}}function r_(t){let e,n,r,i,o,s,a,u,d,y,b,_,w,E,I,T=t[0],x=[];for(let e=0;e<T.length;e+=1)x[e]=Zb(Jb(t,T,e));let A=Array(7),S=[];for(let e=0;e<A.length;e+=1)S[e]=t_(Wb(t,A,e));let N=Array(7),k=[];for(let e=0;e<N.length;e+=1)k[e]=e_(Kb(t,N,e));let O=1==t[1]&&n_(t);return{c(){e=p("div"),n=p("div"),r=p("h1"),r.textContent="FÉVRIER",i=v();for(let t=0;t<x.length;t+=1)x[t].c();o=v(),s=p("div"),a=p("h1"),a.textContent="MARS",u=v();for(let t=0;t<S.length;t+=1)S[t].c();d=v(),y=p("div"),b=p("h1"),b.textContent="AVRIL",_=v();for(let t=0;t<k.length;t+=1)k[t].c();w=v(),O&&O.c(),E=m(),g(r,"class","svelte-1mdxfh3"),g(n,"class","monthContainer svelte-1mdxfh3"),g(a,"class","svelte-1mdxfh3"),g(s,"class","monthContainer svelte-1mdxfh3"),g(b,"class","svelte-1mdxfh3"),g(y,"class","monthContainer svelte-1mdxfh3"),g(e,"class","container svelte-1mdxfh3")},m(t,h){l(t,e,h),c(e,n),c(n,r),c(n,i);for(let t=0;t<x.length;t+=1)x[t].m(n,null);c(e,o),c(e,s),c(s,a),c(s,u);for(let t=0;t<S.length;t+=1)S[t].m(s,null);c(e,d),c(e,y),c(y,b),c(y,_);for(let t=0;t<k.length;t+=1)k[t].m(y,null);l(t,w,h),O&&O.m(t,h),l(t,E,h),I=!0},p(t,[e]){if(7&e){let r;for(T=t[0],r=0;r<T.length;r+=1){const i=Jb(t,T,r);x[r]?x[r].p(i,e):(x[r]=Zb(i),x[r].c(),x[r].m(n,null))}for(;r<x.length;r+=1)x[r].d(1);x.length=T.length}if(2&e){let n;for(A=Array(7),n=0;n<A.length;n+=1){const r=Wb(t,A,n);S[n]?S[n].p(r,e):(S[n]=t_(r),S[n].c(),S[n].m(s,null))}for(;n<S.length;n+=1)S[n].d(1);S.length=A.length}if(2&e){let n;for(N=Array(7),n=0;n<N.length;n+=1){const r=Kb(t,N,n);k[n]?k[n].p(r,e):(k[n]=e_(r),k[n].c(),k[n].m(y,null))}for(;n<k.length;n+=1)k[n].d(1);k.length=N.length}1==t[1]?O?(O.p(t,e),2&e&&q(O,1)):(O=n_(t),O.c(),q(O,1),O.m(E.parentNode,E)):O&&(F(),z(O,1,1,(()=>{O=null})),U())},i(t){I||(q(O),I=!0)},o(t){z(O),I=!1},d(t){t&&h(e),f(x,t),f(S,t),f(k,t),t&&h(w),O&&O.d(t),t&&h(E)}}}function i_(t,e,n){let r=[],{db:i}=e;i.collection("activites").onSnapshot((t=>{n(0,r=t.docs)}));let o=new Date;I((()=>{ci.from(".monthContainer",{y:50,opacity:0,duration:1,ease:er.easeOut,stagger:.1})}));let s=!1;return t.$$set=t=>{"db"in t&&n(3,i=t.db)},[r,s,t=>(o.setTime(1e3*t),["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"][o.getDay()]+" "+o.getDate().toString()),i,()=>n(1,s=!0),()=>n(1,s=!0),()=>n(1,s=!0),()=>n(1,s=!1)]}const o_=class extends Y{constructor(t){super(),H(this,t,i_,r_,s,{db:3})}};function s_(t){let e,n,r,i,o,s,a,u;const f=[u_,a_],d=[];function m(t,e){return"Annuel"===t[1]?0:"Mensuel"===t[1]?1:-1}return~(n=m(t))&&(r=d[n]=f[n](t)),{c(){e=p("div"),r&&r.c(),i=v(),o=p("div"),o.textContent="RETOUR",g(o,"class","bouton svelte-guqixa"),g(e,"class","planningContainer svelte-guqixa")},m(r,h){l(r,e,h),~n&&d[n].m(e,null),c(e,i),c(e,o),s=!0,a||(u=y(o,"click",t[6]),a=!0)},p(t,o){let s=n;n=m(t),n===s?~n&&d[n].p(t,o):(r&&(F(),z(d[s],1,1,(()=>{d[s]=null})),U()),~n?(r=d[n],r?r.p(t,o):(r=d[n]=f[n](t),r.c()),q(r,1),r.m(e,i)):r=null)},i(t){s||(q(r),s=!0)},o(t){z(r),s=!1},d(t){t&&h(e),~n&&d[n].d(),a=!1,u()}}}function a_(t){let n,r;return n=new o_({props:{db:Sb}}),{c(){B(n.$$.fragment)},m(t,e){G(n,t,e),r=!0},p:e,i(t){r||(q(n.$$.fragment,t),r=!0)},o(t){z(n.$$.fragment,t),r=!1},d(t){$(n,t)}}}function u_(t){let n,r;return n=new Hb({}),{c(){B(n.$$.fragment)},m(t,e){G(n,t,e),r=!0},p:e,i(t){r||(q(n.$$.fragment,t),r=!0)},o(t){z(n.$$.fragment,t),r=!1},d(t){$(n,t)}}}function c_(t){let e,n,r,o,s,a,u,f,d,b=""!=t[1]&&s_(t);return{c(){e=p("ul"),n=p("li"),n.textContent="Annuel",r=v(),o=p("li"),o.textContent="Mensuel",s=v(),b&&b.c(),a=m(),g(n,"class","svelte-guqixa"),g(o,"class","svelte-guqixa"),g(e,"class","svelte-guqixa"),_(e,"hideSelection",t[0])},m(i,h){l(i,e,h),c(e,n),c(e,r),c(e,o),l(i,s,h),b&&b.m(i,h),l(i,a,h),u=!0,f||(d=[y(n,"click",t[4]),y(o,"click",t[5])],f=!0)},p(t,[n]){1&n&&_(e,"hideSelection",t[0]),""!=t[1]?b?(b.p(t,n),2&n&&q(b,1)):(b=s_(t),b.c(),q(b,1),b.m(a.parentNode,a)):b&&(F(),z(b,1,1,(()=>{b=null})),U())},i(t){u||(q(b),u=!0)},o(t){z(b),u=!1},d(t){t&&h(e),t&&h(s),b&&b.d(t),t&&h(a),f=!1,i(d)}}}function l_(t,e,n){let r=!1,i="";function o(t){n(1,i=t),n(0,r=!0)}function s(){n(0,r=!1),n(1,i="")}return[r,i,o,s,()=>o("Annuel"),()=>o("Mensuel"),()=>s()]}const h_=class extends Y{constructor(t){super(),H(this,t,l_,c_,s,{})}};function f_(t){let n;return{c(){n=p("div"),n.innerHTML='<h1 id="titrePage" class="svelte-6nmeab">BSV (Bourse Solidarité Vacances)</h1> \n  <div class="bsvTexte svelte-6nmeab"><div class="bsvInfo svelte-6nmeab">Droit aux vacances pour tous avec LSR et BSV et SENIORS EN VACANCES c&#39;est\n      une réalité Désormais s&#39;y ajoute SENIORS EN VACANCES (SEV)<br/><br/>\n      Grâce au partenariat entre LSR et BSV (Bourse Solidarité Vacances), une semaine\n      en pension complète, dans un superbe centre de vacances, n&#39;est plus un rêve\n      même pour les adhérents LSR qui ont de faibles ressources.<br/><br/>\n      Depuis plusieurs années des centaines de personnes ont ainsi pu s&#39;offrir des\n      vacances à la mer, à la montagne ou la campagne. Beaucoup d&#39;entre elles n&#39;auraient\n      jamais pu partir sans BSV. Ces séjours s&#39;adressent à tous les adhérents LSR\n      à faible revenus. Organisés par la Fédération LSR, ils regroupent, chaque sortie,\n      une cinquantaine d&#39;adhérents LSR de diverses associations de toute la France\n      et sont toujours accompagnés de deux animateurs responsables.<br/><br/>\n      Un tel prix pour des prestations de très grande qualité repose sur une véritable\n      chaine de solidarité. Des propriétaires et gestionnaires de centre de vacances,\n      l&#39;Avenir Social et LSR par leurs efforts, mis en convergence par BSV, permettent\n      de rendre des vacances de qualité accessibles à tous<br/><br/>\n\n      Les adhérents susceptibles de bénéficier de séjours BSV et Seniors en\n      vacances sont priés de bien vouloir faire parvenir au plus tôt la\n      photocopie recto-verso de leur dernière feuille d’imposition ou\n      non-imposition.\n\n      <br/><br/>\n      Le règlement se fera de la façon suivante :<br/><br/>1 : un chèque de\n      80€ au moment de l’inscription au nom de LSR83 <br/>2 : Pour ceux qui\n      utiliseront le train un chèque de 180€ 1 mois avant la date de départ.<br/>3 : Pour ceux qui utiliseront leur voiture un chèque de 150€ 1 mois\n      avant la date de départ.<br/><br/> Les règlements (par chèque) seront à adresser\n      à la Trésorière LSR 83 ou à remettre à le ou la responsable d’antenne.</div> \n\n    <div class="inscriptionInfo svelte-6nmeab">Voici la grille à partir de laquelle nous vérifions l’éligibilité des\n      bénéficiaires :<br/><br/> BSV (regarder la ligne 25 de la feuille)<br/>Plafond pour 1 part fiscale : 21600€<br/> Plafond pour 1,5 part fiscale\n      : 27000€<br/>\n      Plafond pour 2 parts fiscales : 32400€<br/> Plafond pour 2,5 parts\n      fiscales : 37800€<br/><br/>\n      SENIORS EN VACANCES<br/> Ne pas être imposable (ligne 14 de la feuille)\n      Adresser la photocopie de la feuille d’imposition à la TRESORIERE LSR 83.<br/><br/>\n      La destination du séjour 2021 BSV attribué à LSR 83 est :<br/> BISCAROSSE\n      (40) Village VTF <i>du 05 au 12 juin 2021</i><br/><br/> Le séjour est fixé\n      à 260€ tout compris. Pour les adhérents qui souhaitent se rendre dans le séjour\n      en voiture le prix du séjour sera ramené à 230€ par personne.</div></div>',g(n,"class","bsvContainer svelte-6nmeab")},m(t,e){l(t,n,e)},p:e,i:e,o:e,d(t){t&&h(n)}}}function p_(t){return I((()=>{ci.from([".bsvInfo",".inscriptionInfo"],{y:50,opacity:0,duration:1.2,ease:er.easeOut,stagger:.1})})),[]}const d_=class extends Y{constructor(t){super(),H(this,t,p_,f_,s,{})}};function v_(t,e,n){const r=t.slice();return r[2]=e[n],r}function m_(t){let n,r;return{c(){n=p("iframe"),n.src!==(r="./img/administration/Attestation_Assurance_Responsabilite_Civile.pdf#toolbar=1&view=Fit")&&g(n,"src","./img/administration/Attestation_Assurance_Responsabilite_Civile.pdf#toolbar=1&view=Fit"),g(n,"class","svelte-yk22wh")},m(t,e){l(t,n,e)},p:e,d(t){t&&h(n)}}}function y_(t){let e,n=t[1],r=[];for(let e=0;e<n.length;e+=1)r[e]=b_(v_(t,n,e));return{c(){e=p("div");for(let t=0;t<r.length;t+=1)r[t].c();g(e,"class","selectionContainer svelte-yk22wh")},m(t,n){l(t,e,n);for(let t=0;t<r.length;t+=1)r[t].m(e,null)},p(t,i){if(3&i){let o;for(n=t[1],o=0;o<n.length;o+=1){const s=v_(t,n,o);r[o]?r[o].p(s,i):(r[o]=b_(s),r[o].c(),r[o].m(e,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(t){t&&h(e),f(r,t)}}}function g_(t){let e,n=t[2].data().texte+"";return{c(){e=p("p"),g(e,"class","svelte-yk22wh")},m(t,r){l(t,e,r),e.innerHTML=n},p(t,r){2&r&&n!==(n=t[2].data().texte+"")&&(e.innerHTML=n)},d(t){t&&h(e)}}}function b_(t){let e,n=t[2].id==t[0]&&g_(t);return{c(){n&&n.c(),e=m()},m(t,r){n&&n.m(t,r),l(t,e,r)},p(t,r){t[2].id==t[0]?n?n.p(t,r):(n=g_(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&h(e)}}}function __(t){let n;function r(t,e){return"attestation"!=t[0]?y_:m_}let i=r(t),o=i(t);return{c(){o.c(),n=m()},m(t,e){o.m(t,e),l(t,n,e)},p(t,[e]){i===(i=r(t))&&o?o.p(t,e):(o.d(1),o=i(t),o&&(o.c(),o.m(n.parentNode,n)))},i:e,o:e,d(t){o.d(t),t&&h(n)}}}function w_(t,e,n){let{textToShow:r}=e,i=[];return Sb.collection("administration").onSnapshot((t=>{n(1,i=t.docs)})),t.$$set=t=>{"textToShow"in t&&n(0,r=t.textToShow)},[r,i]}const E_=class extends Y{constructor(t){super(),H(this,t,w_,__,s,{textToShow:0})}};function I_(t,e,n){const r=t.slice();return r[5]=e[n],r}function T_(t){let e,n,r=t[3](t[5].data().date)+"";return{c(){e=p("p"),n=d(r)},m(t,r){l(t,e,r),c(e,n)},p(t,e){4&e&&r!==(r=t[3](t[5].data().date)+"")&&b(n,r)},d(t){t&&h(e)}}}function x_(t){let e,n=t[5].data().nom.toLowerCase()==t[0].toLowerCase(),r=n&&T_(t);return{c(){r&&r.c(),e=m()},m(t,n){r&&r.m(t,n),l(t,e,n)},p(t,i){5&i&&(n=t[5].data().nom.toLowerCase()==t[0].toLowerCase()),n?r?r.p(t,i):(r=T_(t),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null)},d(t){r&&r.d(t),t&&h(e)}}}function A_(t){let n,r,i,o,s,a,u,m,y,_,w,E,I,T,x,A,S=t[2],N=[];for(let e=0;e<S.length;e+=1)N[e]=x_(I_(t,S,e));return{c(){n=p("img"),i=v(),o=p("div"),s=v(),a=p("h1"),u=d(t[0]),m=v(),y=p("div"),_=p("div"),w=p("div"),w.textContent="blabla",E=v(),I=p("div"),T=p("div");for(let t=0;t<N.length;t+=1)N[t].c();x=v(),A=p("div"),A.textContent="test",n.src!==(r=t[1])&&g(n,"src",r),g(n,"id","background"),g(n,"alt","activité"),g(n,"class","svelte-xum1wf"),g(o,"class","backgroundColor svelte-xum1wf"),g(a,"class","svelte-xum1wf"),g(w,"class","images svelte-xum1wf"),g(T,"class","dates"),g(A,"class","contact svelte-xum1wf"),g(I,"class","rightPane svelte-xum1wf"),g(_,"class","pageContent svelte-xum1wf"),g(y,"class","container svelte-xum1wf")},m(t,e){l(t,n,e),l(t,i,e),l(t,o,e),l(t,s,e),l(t,a,e),c(a,u),l(t,m,e),l(t,y,e),c(y,_),c(_,w),c(_,E),c(_,I),c(I,T);for(let t=0;t<N.length;t+=1)N[t].m(T,null);c(I,x),c(I,A)},p(t,[e]){if(2&e&&n.src!==(r=t[1])&&g(n,"src",r),1&e&&b(u,t[0]),13&e){let n;for(S=t[2],n=0;n<S.length;n+=1){const r=I_(t,S,n);N[n]?N[n].p(r,e):(N[n]=x_(r),N[n].c(),N[n].m(T,null))}for(;n<N.length;n+=1)N[n].d(1);N.length=S.length}},i:e,o:e,d(t){t&&h(n),t&&h(i),t&&h(o),t&&h(s),t&&h(a),t&&h(m),t&&h(y),f(N,t)}}}function S_(t,e,n){let{activite:r}=e,{activiteImage:i}=e,o=[];I((()=>{Sb.collection("activites").onSnapshot((t=>{n(2,o=t.docs)}))}));let s=new Date;return t.$$set=t=>{"activite"in t&&n(0,r=t.activite),"activiteImage"in t&&n(1,i=t.activiteImage)},[r,i,o,t=>(s.setTime(1e3*t),s.getDate().toString()+" "+["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"][s.getMonth()])]}const N_=class extends Y{constructor(t){super(),H(this,t,S_,A_,s,{activite:0,activiteImage:1})}},k_=[{nom:"Pétanque",imageSrc:"./img/activites/petanque.jpg"},{nom:"Bowling",imageSrc:"./img/activites/bowling.jpg"},{nom:"Randonnée",imageSrc:"./img/activites/rando.jpg"},{nom:"Jeux de société",imageSrc:"./img/activites/jeux_de_societe.jpg"},{nom:"Patchwork",imageSrc:"./img/activites/patchwork.jpg"},{nom:"Zénith",imageSrc:"./img/activites/zenith.jpg"},{nom:"Yoga",imageSrc:"./img/activites/yoga.jpg"},{nom:"Aquagym",imageSrc:"./img/activites/aquagym.jpg"},{nom:"Sortie Culturelle",imageSrc:"./img/activites/sortie_culturelle.jpg"}];function O_(t,e,n){const r=t.slice();return r[5]=e[n],r}function D_(t){let e,n,r,i,o,s;return e=new N_({props:{activite:t[0],activiteImage:t[1]}}),{c(){B(e.$$.fragment),n=v(),r=p("div"),r.textContent="RETOUR",g(r,"class","bouton svelte-1jxwjt2")},m(a,u){G(e,a,u),l(a,n,u),l(a,r,u),i=!0,o||(s=y(r,"click",t[4]),o=!0)},p(t,n){const r={};1&n&&(r.activite=t[0]),2&n&&(r.activiteImage=t[1]),e.$set(r)},i(t){i||(q(e.$$.fragment,t),i=!0)},o(t){z(e.$$.fragment,t),i=!1},d(t){$(e,t),t&&h(n),t&&h(r),o=!1,s()}}}function C_(t){let n,r,i,o=k_,s=[];for(let e=0;e<o.length;e+=1)s[e]=P_(O_(t,o,e));return{c(){n=p("h1"),n.textContent="ACTIVITÉS",r=v(),i=p("div");for(let t=0;t<s.length;t+=1)s[t].c();g(n,"id","activityTitle"),g(n,"class","svelte-1jxwjt2"),g(i,"class","container svelte-1jxwjt2")},m(t,e){l(t,n,e),l(t,r,e),l(t,i,e);for(let t=0;t<s.length;t+=1)s[t].m(i,null)},p(t,e){if(4&e){let n;for(o=k_,n=0;n<o.length;n+=1){const r=O_(t,o,n);s[n]?s[n].p(r,e):(s[n]=P_(r),s[n].c(),s[n].m(i,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=o.length}},i:e,o:e,d(t){t&&h(n),t&&h(r),t&&h(i),f(s,t)}}}function P_(t){let e,n,r,i,o,s,a,u,f,m,b=t[5].nom+"";function _(){return t[3](t[5])}return{c(){e=p("div"),n=p("img"),o=v(),s=p("p"),a=d(b),u=v(),n.src!==(r=t[5].imageSrc)&&g(n,"src",r),g(n,"alt",i="image "+t[5].nom),g(n,"class","svelte-1jxwjt2"),g(s,"class","svelte-1jxwjt2"),g(e,"class","activityItem svelte-1jxwjt2")},m(t,r){l(t,e,r),c(e,n),c(e,o),c(e,s),c(s,a),c(e,u),f||(m=y(e,"click",_),f=!0)},p(e,n){t=e},d(t){t&&h(e),f=!1,m()}}}function R_(t){let e,n,r,i;const o=[C_,D_],s=[];function a(t,e){return""==t[0]?0:1}return e=a(t),n=s[e]=o[e](t),{c(){n.c(),r=m()},m(t,n){s[e].m(t,n),l(t,r,n),i=!0},p(t,[i]){let u=e;e=a(t),e===u?s[e].p(t,i):(F(),z(s[u],1,1,(()=>{s[u]=null})),U(),n=s[e],n?n.p(t,i):(n=s[e]=o[e](t),n.c()),q(n,1),n.m(r.parentNode,r))},i(t){i||(q(n),i=!0)},o(t){z(n),i=!1},d(t){s[e].d(t),t&&h(r)}}}function L_(t,e,n){I((()=>{!function t(e){t.list||(t.list=[]);for(var n=t.list,r=0;r<e.length;r++){var i=new Image;i.onload=function(){var t=n.indexOf(this);-1!==t&&n.splice(t,1)},n.push(i),i.src=e[r]}ci.from(".activityItem",{y:100,duration:.8,opacity:0,ease:er.easeOut,stagger:.05,delay:.2})}(["./img/activites/zenith.jpg","./img/activites/yoga.jpg","./img/activites/aquagym.jpg","./img/activites/patchwork.jpg","./img/activites/jeux_de_societe.jpg","./img/activites/rando.jpg","./img/activites/bowling.jpg","./img/activites/petanque.jpg"])}));let r,i="";function o(t,e=""){n(0,i=t),n(1,r=e)}return[i,r,o,t=>o(t.nom,t.imageSrc),()=>o("")]}const M_=class extends Y{constructor(t){super(),H(this,t,L_,R_,s,{})}};function V_(t){let n,r,i,o,s;return{c(){n=p("div"),r=p("p"),i=d(t[1]),o=d("\r\n   \r\n  "),s=p("p"),s.textContent="VISITES",g(r,"class","visitCount__nombre"),g(n,"class","visitCount svelte-yuo2iy")},m(e,a){l(e,n,a),c(n,r),c(r,i),c(n,o),c(n,s),t[2](n)},p(t,[e]){2&e&&b(i,t[1])},i:e,o:e,d(e){e&&h(n),t[2](null)}}}function j_(t,e,n){let r;I((()=>{fetch("https://api.countapi.xyz/update/LSR83000VisitCount/nombreVisites?amount=1").then((t=>t.json())).then((t=>{n(1,i=t.value)}))}));let i="";return[r,i,function(t){A[t?"unshift":"push"]((()=>{r=t,n(0,r)}))}]}const F_=class extends Y{constructor(t){super(),H(this,t,j_,V_,s,{})}};function U_(t,e,n){const r=t.slice();return r[3]=e[n],r}function q_(t){let n;return{c(){n=p("span"),n.textContent=` ${t[1]} \n    `,g(n,"class","infoImportante__texte svelte-sic8if")},m(t,e){l(t,n,e)},p:e,d(t){t&&h(n)}}}function z_(t){let n,r=Array(3),i=[];for(let e=0;e<r.length;e+=1)i[e]=q_(U_(t,r,e));return{c(){n=p("div");for(let t=0;t<i.length;t+=1)i[t].c();g(n,"class","infoImportante svelte-sic8if")},m(e,r){l(e,n,r);for(let t=0;t<i.length;t+=1)i[t].m(n,null);t[2](n)},p(t,[e]){if(2&e){let o;for(r=Array(3),o=0;o<r.length;o+=1){const s=U_(t,r,o);i[o]?i[o].p(s,e):(i[o]=q_(s),i[o].c(),i[o].m(n,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=r.length}},i:e,o:e,d(e){e&&h(n),f(i,e),t[2](null)}}}function B_(t,e,n){let r,i=("Information importante!".toUpperCase()+" - ").repeat(3);return[r,i,function(t){A[t?"unshift":"push"]((()=>{r=t,n(0,r)}))}]}const G_=class extends Y{constructor(t){super(),H(this,t,B_,z_,s,{})}};function $_(t,e,n){const r=t.slice();return r[1]=e[n],r}function H_(t){let n,r,i,o=t[1]+"";return{c(){n=p("div"),r=d(o),i=d("\r\n       "),g(n,"class","loader_Mot")},m(t,e){l(t,n,e),c(n,r),l(t,i,e)},p:e,d(t){t&&h(n),t&&h(i)}}}function Y_(t){let n,r,i,o,s,a,u,d,m,y,b,_,w,E,I=t[0],T=[];for(let e=0;e<I.length;e+=1)T[e]=H_($_(t,I,e));return{c(){n=p("div"),r=p("h1");for(let t=0;t<T.length;t+=1)T[t].c();i=v(),o=p("div"),s=v(),a=p("div"),u=v(),d=p("div"),m=v(),y=p("img"),_=v(),w=p("img"),g(r,"id","loader_Texte"),g(r,"class","svelte-9az4do"),g(o,"class","loaderBackground svelte-9az4do"),g(o,"id","layer1"),g(a,"class","loaderBackground svelte-9az4do"),g(a,"id","layer2"),g(d,"class","loaderBackground svelte-9az4do"),g(d,"id","layer3"),y.src!==(b="./img/LSR_LOGO/LSR83_logo.png")&&g(y,"src","./img/LSR_LOGO/LSR83_logo.png"),g(y,"alt",""),g(y,"class","loaderLogo svelte-9az4do"),w.src!==(E="./img/Loader/Loaderimg.jpg")&&g(w,"src","./img/Loader/Loaderimg.jpg"),g(w,"class","backgroundImg svelte-9az4do"),g(w,"alt","la Verne"),g(n,"class","loaderContainer svelte-9az4do")},m(t,e){l(t,n,e),c(n,r);for(let t=0;t<T.length;t+=1)T[t].m(r,null);c(n,i),c(n,o),c(n,s),c(n,a),c(n,u),c(n,d),c(n,m),c(n,y),c(n,_),c(n,w)},p(t,[e]){if(1&e){let n;for(I=t[0],n=0;n<I.length;n+=1){const i=$_(t,I,n);T[n]?T[n].p(i,e):(T[n]=H_(i),T[n].c(),T[n].m(r,null))}for(;n<T.length;n+=1)T[n].d(1);T.length=I.length}},i:e,o:e,d(t){t&&h(n),f(T,t)}}}function Q_(t){const e="Loisir et Solidarité des Retraités du VAR".split(" ");return I((()=>{setTimeout((()=>{ci.from(["#layer3","#layer2","#layer1"],{y:"-100vh",ease:er.easeInOut,stagger:.15,duration:.8,delay:1,onComplete:()=>{ci.to([".backgroundImg",".loaderLogo"],{duration:.1,autoAlpha:0})}}),ci.from(".loader_Mot",{duration:1.4,y:200,rotateZ:20,ease:er.easeOut,stagger:.04,delay:1.4}).then((()=>{ci.to(".loader_Mot",{duration:1.2,y:-200,ease:er.easeIn,stagger:.04,delay:.8}),ci.to(["#layer1","#layer2","#layer3"],{y:"100vh",ease:er.easeInOut,stagger:.15,duration:.8,delay:1.5,onComplete:()=>{ci.to(".loaderContainer",{duration:.1,autoAlpha:0})}})}))}))})),[e]}const X_=class extends Y{constructor(t){super(),H(this,t,Q_,Y_,s,{})}};function K_(t){let e,n,r,o,s,a,f,d,m,b,w,E,I,T,x,A,S,N,k,O,D,C,P,R,L,M,V,j,H,Y,Q,X,K,W,J,Z,tt,et,nt,rt,it,ot,st,at,ut,ct,lt,ht;W=new G_({});const ft=[nw,ew,tw,Z_,J_,W_],pt=[];function dt(t,e){return"/"===t[0]?0:"/Equipe"===t[0]?1:"/Activites"===t[0]?2:"/BSV"===t[0]?3:"/Planning"===t[0]?4:"/Administration"===t[0]?5:-1}return~(tt=dt(t))&&(et=pt[tt]=ft[tt](t)),it=new F_({}),{c(){e=p("header"),n=p("img"),o=v(),s=p("ul"),a=p("li"),a.textContent="VOYAGE",f=v(),d=p("li"),d.textContent="ÉQUIPE",m=v(),b=p("li"),b.textContent="ACTIVITÉS",w=v(),E=p("li"),E.textContent="BSV",I=v(),T=p("li"),T.textContent="PLANNINGS",x=v(),A=p("li"),A.textContent="ADMINISTRATION",S=v(),N=p("li"),N.textContent="DIVERS",k=v(),O=p("div"),D=p("p"),D.textContent="STATUTS",C=v(),P=p("p"),P.textContent="REGLEMENT",R=v(),L=p("p"),L.textContent="ATTESTATION ASSURANCE",V=v(),j=p("div"),H=p("p"),H.textContent="PHOTOS",Y=v(),Q=p("p"),Q.textContent="ANNIVERSAIRES",K=v(),B(W.$$.fragment),J=v(),Z=p("div"),et&&et.c(),nt=v(),rt=p("div"),B(it.$$.fragment),ot=v(),st=p("div"),at=v(),ut=p("div"),n.src!==(r="./img/LSR_LOGO/LSR83_logo.png")&&g(n,"src","./img/LSR_LOGO/LSR83_logo.png"),g(n,"alt",""),g(n,"id","headerLogo"),g(n,"class","svelte-1u0tqnw"),g(a,"class","nav__link svelte-1u0tqnw"),g(d,"class","nav__link svelte-1u0tqnw"),g(b,"class","nav__link svelte-1u0tqnw"),g(E,"class","nav__link svelte-1u0tqnw"),g(T,"class","nav__link svelte-1u0tqnw"),g(A,"class","nav__link svelte-1u0tqnw"),g(N,"class","nav__link svelte-1u0tqnw"),g(s,"class","nav svelte-1u0tqnw"),g(D,"class","svelte-1u0tqnw"),g(P,"class","svelte-1u0tqnw"),g(L,"class","svelte-1u0tqnw"),g(O,"class",M=u(!0===t[3]?"adminPannel pannelVisible":"adminPannel")+" svelte-1u0tqnw"),g(H,"class","svelte-1u0tqnw"),g(Q,"class","svelte-1u0tqnw"),g(j,"class",X="adminPannel "+(!0===t[4]?"adminPannel pannelVisible ":"adminPannel")+" svelte-1u0tqnw"),g(j,"id","diversPannel"),g(e,"class","svelte-1u0tqnw"),g(rt,"class","svelte-1u0tqnw"),_(rt,"hidden","/"!=t[0]),g(Z,"class","container svelte-1u0tqnw"),g(st,"class","background backgroundColor svelte-1u0tqnw"),g(ut,"class","background backgroundImage svelte-1u0tqnw")},m(r,i){l(r,e,i),c(e,n),c(e,o),c(e,s),c(s,a),c(s,f),c(s,d),c(s,m),c(s,b),c(s,w),c(s,E),c(s,I),c(s,T),c(s,x),c(s,A),c(s,S),c(s,N),c(e,k),c(e,O),c(O,D),c(O,C),c(O,P),c(O,R),c(O,L),c(e,V),c(e,j),c(j,H),c(j,Y),c(j,Q),l(r,K,i),G(W,r,i),l(r,J,i),l(r,Z,i),~tt&&pt[tt].m(Z,null),c(Z,nt),c(Z,rt),G(it,rt,null),t[21](Z),l(r,ot,i),l(r,st,i),l(r,at,i),l(r,ut,i),ct=!0,lt||(ht=[y(n,"click",t[8]),y(a,"click",t[9]),y(d,"click",t[10]),y(b,"click",t[11]),y(E,"click",t[12]),y(T,"click",t[13]),y(A,"click",t[14]),y(N,"click",t[15]),y(D,"click",t[16]),y(P,"click",t[17]),y(L,"click",t[18]),y(H,"click",t[19]),y(Q,"click",t[20])],lt=!0)},p(t,e){(!ct||8&e&&M!==(M=u(!0===t[3]?"adminPannel pannelVisible":"adminPannel")+" svelte-1u0tqnw"))&&g(O,"class",M),(!ct||16&e&&X!==(X="adminPannel "+(!0===t[4]?"adminPannel pannelVisible ":"adminPannel")+" svelte-1u0tqnw"))&&g(j,"class",X);let n=tt;tt=dt(t),tt===n?~tt&&pt[tt].p(t,e):(et&&(F(),z(pt[n],1,1,(()=>{pt[n]=null})),U()),~tt?(et=pt[tt],et?et.p(t,e):(et=pt[tt]=ft[tt](t),et.c()),q(et,1),et.m(Z,nt)):et=null),1&e&&_(rt,"hidden","/"!=t[0])},i(t){ct||(q(W.$$.fragment,t),q(et),q(it.$$.fragment,t),ct=!0)},o(t){z(W.$$.fragment,t),z(et),z(it.$$.fragment,t),ct=!1},d(n){n&&h(e),n&&h(K),$(W,n),n&&h(J),n&&h(Z),~tt&&pt[tt].d(),$(it),t[21](null),n&&h(ot),n&&h(st),n&&h(at),n&&h(ut),lt=!1,i(ht)}}}function W_(t){let e,n;return e=new E_({props:{textToShow:t[5]}}),{c(){B(e.$$.fragment)},m(t,r){G(e,t,r),n=!0},p(t,n){const r={};32&n&&(r.textToShow=t[5]),e.$set(r)},i(t){n||(q(e.$$.fragment,t),n=!0)},o(t){z(e.$$.fragment,t),n=!1},d(t){$(e,t)}}}function J_(t){let n,r;return n=new h_({}),{c(){B(n.$$.fragment)},m(t,e){G(n,t,e),r=!0},p:e,i(t){r||(q(n.$$.fragment,t),r=!0)},o(t){z(n.$$.fragment,t),r=!1},d(t){$(n,t)}}}function Z_(t){let n,r;return n=new d_({}),{c(){B(n.$$.fragment)},m(t,e){G(n,t,e),r=!0},p:e,i(t){r||(q(n.$$.fragment,t),r=!0)},o(t){z(n.$$.fragment,t),r=!1},d(t){$(n,t)}}}function tw(t){let n,r;return n=new M_({}),{c(){B(n.$$.fragment)},m(t,e){G(n,t,e),r=!0},p:e,i(t){r||(q(n.$$.fragment,t),r=!0)},o(t){z(n.$$.fragment,t),r=!1},d(t){$(n,t)}}}function ew(t){let n,r;return n=new Fb({props:{sectionAffichee:"-1"}}),{c(){B(n.$$.fragment)},m(t,e){G(n,t,e),r=!0},p:e,i(t){r||(q(n.$$.fragment,t),r=!0)},o(t){z(n.$$.fragment,t),r=!1},d(t){$(n,t)}}}function nw(t){let n,r;return n=new zb({}),{c(){B(n.$$.fragment)},m(t,e){G(n,t,e),r=!0},p:e,i(t){r||(q(n.$$.fragment,t),r=!0)},o(t){z(n.$$.fragment,t),r=!1},d(t){$(n,t)}}}function rw(t){let e,n,r,i;e=new X_({});let o=t[2]&&K_(t);return{c(){B(e.$$.fragment),n=v(),o&&o.c(),r=m()},m(t,s){G(e,t,s),l(t,n,s),o&&o.m(t,s),l(t,r,s),i=!0},p(t,[e]){t[2]?o?(o.p(t,e),4&e&&q(o,1)):(o=K_(t),o.c(),q(o,1),o.m(r.parentNode,r)):o&&(F(),z(o,1,1,(()=>{o=null})),U())},i(t){i||(q(e.$$.fragment,t),q(o),i=!0)},o(t){z(e.$$.fragment,t),z(o),i=!1},d(t){$(e,t),t&&h(n),o&&o.d(t),t&&h(r)}}}function iw(t,e,n){let r,i="",o=!1;function s(t){ci.to(r,{autoAlpha:0,duration:.6,ease:tr.easeOut}),setTimeout((function(){ci.to(r,{autoAlpha:1,duration:.6,ease:tr.easeOut}),n(0,i=t)}),200)}let a=!1,u=!1,c="";function l(t){s("/Administration"),setTimeout((function(){n(5,c=t.toLowerCase())}),100),n(3,a=!1)}return setTimeout((()=>{n(2,o=!0),n(0,i="/")}),2500),[i,r,o,a,u,c,s,l,()=>s("/"),()=>s("/Voyage"),()=>s("/Equipe"),()=>s("/Activites"),()=>s("/BSV"),()=>s("/Planning"),()=>{n(3,a=!a)},()=>{n(4,u=!u)},()=>l("Statuts"),()=>l("Reglement"),()=>l("Attestation"),()=>l("Statuts"),()=>l("Reglement"),function(t){A[t?"unshift":"push"]((()=>{r=t,n(1,r)}))}]}new class extends Y{constructor(t){super(),H(this,t,iw,rw,s,{})}}({target:document.getElementById("App")})})();